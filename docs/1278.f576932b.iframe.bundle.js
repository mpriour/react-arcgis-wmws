(self.webpackChunkreact_arcgis_wmws=self.webpackChunkreact_arcgis_wmws||[]).push([[1278],{41278:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{previewSymbol2D:()=>j});var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32656),_Color_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78745),_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(96071),_gfxUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26252),_previewUtils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(59126),_renderUtils_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(53714);const m="picture-fill",g=120,b=document.createElement("canvas");function x(e,t){const a=b.getContext("2d"),l=[];return t&&(t.weight&&l.push(t.weight),t.size&&l.push(t.size+"px"),t.family&&l.push(t.family)),a.font=l.join(" "),a.measureText(e).width}function z(e){if(0===e.length)return 0;if(e.length>2){const t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.Wz)(1),a=parseFloat(e);switch(e.slice(-2)){case"px":return a;case"pt":return a*t;case"in":return 72*a*t;case"pc":return 12*a*t;case"mm":return 2.8346456692913384*a*t;case"cm":return 28.346456692913385*a*t}}return parseFloat(e)}function j(l,b){var k,L;const j=null!=(null==b?void 0:b.size)?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.F2)(b.size):null,C=null!=(null==b?void 0:b.maxSize)?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.F2)(b.maxSize):null,F=null!=(null==b?void 0:b.opacity)?b.opacity:null,S=null!=(null==b?void 0:b.rotation)?b.rotation:"angle"in l?l.angle:null,E=(0,_gfxUtils_js__WEBPACK_IMPORTED_MODULE_2__._M)(l);let P=(0,_gfxUtils_js__WEBPACK_IMPORTED_MODULE_2__.mx)(l);if(E&&!P){const e="type"in E?null:new _Color_js__WEBPACK_IMPORTED_MODULE_1__.Z(E);"#ffffff"===(e?e.toHex():null)&&(P={color:"#bdc3c7",width:.75})}const U={shape:null,fill:null,stroke:P,offset:[0,0]};null!=(k=P)&&k.width&&(P.width=Math.min(P.width,80));const q=(null==(L=P)?void 0:L.width)||0;let Z=null!=j&&(null==(null==b?void 0:b.scale)||(null==b?void 0:b.scale)),H=0,T=0,A=!1;switch(l.type){case"simple-marker":{const e=l.style,t=Math.min(null!=j?j:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.F2)(l.size),C||g);switch(H=t,T=t,e){case"circle":U.shape={type:"circle",cx:0,cy:0,r:.5*t},Z||(H+=q,T+=q);break;case"cross":U.shape={type:"path",path:[{command:"M",values:[0,.5*T]},{command:"L",values:[H,.5*T]},{command:"M",values:[.5*H,0]},{command:"L",values:[.5*H,T]}]};break;case"diamond":U.shape={type:"path",path:[{command:"M",values:[0,.5*T]},{command:"L",values:[.5*H,0]},{command:"L",values:[H,.5*T]},{command:"L",values:[.5*H,T]},{command:"Z",values:[]}]},Z||(H+=q,T+=q);break;case"square":U.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[H,0]},{command:"L",values:[H,T]},{command:"L",values:[0,T]},{command:"Z",values:[]}]},Z||(H+=q,T+=q),S&&(A=!0);break;case"triangle":U.shape={type:"path",path:[{command:"M",values:[.5*H,0]},{command:"L",values:[H,T]},{command:"L",values:[0,T]},{command:"Z",values:[]}]},Z||(H+=q,T+=q),S&&(A=!0);break;case"x":U.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[H,T]},{command:"M",values:[H,0]},{command:"L",values:[0,T]}]},S&&(A=!0);break;case"path":U.shape={type:"path",path:l.path||""},Z||(H+=q,T+=q),S&&(A=!0),Z=!0}break}case"simple-line":{const e=Math.min(null!=j?j:q,C||80),t=e>22?2*e:40;P.width=e,H=t,T=e,U.shape={type:"path",path:[{command:"M",values:[0,T]},{command:"L",values:[H,T]}]};break}case m:case"simple-fill":H=Math.min(null!=j?j:22,C||g)+q,T=H,Z=!0,U.shape="object"==typeof(null==b?void 0:b.symbolConfig)&&null!=b&&b.symbolConfig.isSquareFill?_previewUtils_js__WEBPACK_IMPORTED_MODULE_3__.JZ.squareFill[0]:_previewUtils_js__WEBPACK_IMPORTED_MODULE_3__.JZ.fill[0];break;case"picture-marker":{let e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.F2)(l.width),t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.F2)(l.height);const n=Math.max(e,t),o=e/t;e=o<=1?Math.ceil(n*o):n,t=o<=1?n:Math.ceil(n/o),H=Math.min(null!=j?j:e,C||g),T=Math.min(null!=j?j:t,C||g),U.shape={type:"image",x:-Math.round(H/2),y:-Math.round(T/2),width:H,height:T,src:l.url||""},S&&(A=!0);break}case"text":{const e=l,t=e.text||"Aa",n=e.font,o=Math.min(null!=j?j:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.F2)(n.size),C||g),s=x(t,{weight:n.weight,size:o,family:n.family}),i=/[\uE600-\uE6FF]/.test(t);H=i?o:s,T=o;let r=.25*z((n?o:0).toString());i&&(r+=5),U.shape={type:"text",text:t,x:0,y:r,align:"middle",decoration:n&&n.decoration,rotated:e.rotated,kerning:e.kerning},U.font=n&&{size:o,style:n.style,decoration:n.decoration,weight:n.weight,family:n.family};break}}if(!U.shape)return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.Z("symbolPreview: renderPreviewHTML2D","symbol not supported."));const D=E,R=l.color;let B=null;return D&&"pattern"===D.type&&R&&l.type!==m?B=(0,_gfxUtils_js__WEBPACK_IMPORTED_MODULE_2__.Od)(D.src,R.toCss(!0)).then((e=>(D.src=e,U.fill=D,U))):(U.fill=E,B=Promise.resolve(U)),B.then((e=>{const t=[[e]];if("object"==typeof(null==b?void 0:b.symbolConfig)&&null!=b&&b.symbolConfig.applyColorModulation){const a=.6*H;t.unshift([{...e,offset:[-a,0],fill:(0,_previewUtils_js__WEBPACK_IMPORTED_MODULE_3__.dc)(E,-.3)}]),t.push([{...e,offset:[a,0],fill:(0,_previewUtils_js__WEBPACK_IMPORTED_MODULE_3__.dc)(E,.3)}]),H+=2*a}return(0,_renderUtils_js__WEBPACK_IMPORTED_MODULE_4__.w)(t,[H,T],{node:b&&b.node,scale:Z,opacity:F,rotation:S,useRotationSize:A})}))}},59126:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{dc:()=>h,uH:()=>u,TE:()=>n,Pc:()=>p,EB:()=>L,XX:()=>s,EV:()=>m,DY:()=>o,eb:()=>e,tp:()=>l,ht:()=>c,JZ:()=>t});var _Color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(78745);const t={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function e(a,t,e){let c=22,p=22;a<1?c*=.75:a>1&&(p*=1.25);let o=22,s=22;return t&&e&&(c=p=o=s=0),[{type:"path",path:[{command:"M",values:[o,0]},{command:"L",values:[e?o:.875*o,0]},{command:"L",values:[e?c-.5*o:0,p-.5*s]},{command:"L",values:[c-.5*o,p-.5*s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,0]},{command:"L",values:[o,t?0:.125*s]},{command:"L",values:[c-.5*o,t?p-.5*s:s]},{command:"L",values:[c-.5*o,p-.5*s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[c-.5*o,p-.5*s]},{command:"L",values:[e?c-.5*o:0,p-.5*s]},{command:"L",values:[e?c-.5*o:0,t?p-.5*s:s]},{command:"L",values:[c-.5*o,t?p-.5*s:s]},{command:"Z",values:[]}]}]}function m(a){const t=22,e=.5*a;return[{type:"path",path:[{command:"M",values:[0,.7*t*.5]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+e]},{command:"L",values:[0,.7*t+e-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+e]},{command:"L",values:[t,e]},{command:"L",values:[t,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[t,0]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[0,.7*t*.5]},{command:"Z",values:[]}]}]}function c(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function p(a,t){let e=t?20:a;const m=t?4:6;e-=e<=22?.5*m:m;const L=t?.35*e:.5*e;return[{type:"path",path:[{command:"M",values:[.5*e,0]},{command:"L",values:[e,.5*L]},{command:"L",values:[.5*e,L]},{command:"L",values:[0,.5*L]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*L]},{command:"L",values:[.5*e,L]},{command:"L",values:[.5*e,a]},{command:"L",values:[0,a-.5*L]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*e,L]},{command:"L",values:[.5*e,a]},{command:"L",values:[e,a-.5*L]},{command:"L",values:[e,.5*L]},{command:"Z",values:[]}]}]}function L(a,t){let e=t?20:a;const m=t?4:6;e-=e<=22?.5*m:m;const c=.5*e,p=.15*e,n=a-p;return[{type:"ellipse",cx:.5*e,cy:n,rx:c,ry:p},{type:"path",path:[{command:"M",values:[0,p]},{command:"L",values:[0,n]},{command:"L",values:[e,n]},{command:"L",values:[e,p]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*e,cy:p,rx:c,ry:p}]}function n(a,t){let e=t?20:a;const m=t?4:6;e-=e<=22?.5*m:m;const c=.15*e,p=a-c;return[{type:"ellipse",cx:.5*e,cy:p,rx:.5*e,ry:c},{type:"path",path:[{command:"M",values:[.5*e,0]},{command:"L",values:[e,p]},{command:"L",values:[0,p]},{command:"Z",values:[]}]}]}function o(a){let t=a;t-=t<22?3:6;const m=.15*t;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,a-m]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:m}]}function s(a){let t=a;const e=a;t-=t<22?2:4;const L=t,n=e,o=Math.floor(a/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*L,0]},{command:"L",values:[L,.5*n-o]},{command:"L",values:[.45*L-o,.5*n+o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*L,0]},{command:"L",values:[.45*L-o,.5*n+o]},{command:"L",values:[0,.5*n-o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*n-o]},{command:"L",values:[.45*L-o,.5*n+o]},{command:"L",values:[.45*L,e]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*L,e]},{command:"L",values:[L,.5*n-o]},{command:"L",values:[.45*L-o,.5*n+o]},{command:"Z",values:[]}]}]}function l(a){let e=a;e-=e<22?1:2;return[{type:"path",path:[{command:"M",values:[.45*a,0]},{command:"L",values:[a,e]},{command:"L",values:[.45*a,.6*e]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,0]},{command:"L",values:[.45*a,.6*e]},{command:"L",values:[0,e]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,e]},{command:"L",values:[.45*a,.6*e]},{command:"L",values:[a,e]},{command:"Z",values:[]}]}]}function u(a,t){return Math.round(Math.min(Math.max(a+255*t*.75,0),255))}function h(t,e){if("type"in t&&("linear"===t.type||"pattern"===t.type))return t;const m=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.Z(t);return new _Color_js__WEBPACK_IMPORTED_MODULE_0__.Z([u(m.r,e),u(m.g,e),u(m.b,e),m.a])}},53714:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>renderUtils_h,r:()=>renderUtils_d});var has=__webpack_require__(95830),Error=__webpack_require__(32656),kernel=__webpack_require__(23838),request=__webpack_require__(36654),colorUtils=__webpack_require__(43019),projector=(__webpack_require__(38836),__webpack_require__(79618)),Color=(__webpack_require__(36544),__webpack_require__(78745)),chunks=(__webpack_require__(40450),__webpack_require__(19401)),mat2d=__webpack_require__(42738),mat2df32=__webpack_require__(87561);let c=0,f=0;const d=(0,has.Z)("android"),y=(0,has.Z)("chrome")||d&&d>=4?"auto":"optimizeLegibility",u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},p=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let g={},x={};const m={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},w=Math.PI;function k(t,e){const i=t*(w/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function j(t){return t.map((t=>`${t.command} ${t.values.join(" ")}`)).join(" ").trim()}function b(t,e,o,r){if(t){if("circle"===t.type)return(0,chunks.j)("circle",{fill:e,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,r:t.r});if("ellipse"===t.type)return(0,chunks.j)("ellipse",{fill:e,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if("rect"===t.type)return(0,chunks.j)("rect",{fill:e,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",x:t.x,y:t.y,width:t.width,height:t.height});if("image"===t.type)return(0,chunks.j)("image",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:"none"});if("path"===t.type){const r="string"!=typeof t.path?j(t.path):t.path;return(0,chunks.j)("path",{fill:e,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4",d:r})}if("text"===t.type)return(0,chunks.j)("text",{fill:e,"fill-rule":"evenodd",stroke:o.color,"stroke-width":o.width,"stroke-linecap":o.cap,"stroke-linejoin":o.join,"stroke-dasharray":o.dashArray,"stroke-miterlimit":"4","text-anchor":r.align,"text-decoration":r.decoration,kerning:r.kerning,rotate:r.rotate,"text-rendering":y,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,"font-size":r.font.size,"font-family":r.font.family,x:t.x,y:t.y},t.text)}return null}function v(t){const i={fill:"none",pattern:null,linearGradient:null};if(t)if("type"in t&&"pattern"===t.type){const e="patternId-"+ ++c;i.fill=`url(#${e})`,i.pattern={id:e,x:t.x,y:t.y,width:t.width,height:t.height,image:{x:0,y:0,width:t.width,height:t.height,href:t.src}}}else if("type"in t&&"linear"===t.type){const o="linearGradientId-"+ ++f;i.fill=`url(#${o})`,i.linearGradient={id:o,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stops:t.colors.map((t=>({offset:t.offset,color:t.color&&new Color.Z(t.color).toString()})))}}else if(t){const o=new Color.Z(t);i.fill=o.toString()}return i}function A(t){const i={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(t&&(null!=t.width&&(i.width=t.width),t.cap&&(i.cap=t.cap),t.join&&(i.join=t.join.toString()),t.color&&(i.color=new Color.Z(t.color).toString()),t.style)){let e=null;if(t.style in m&&(e=m[t.style]),Array.isArray(e)){e=e.slice(0);for(let i=0;i<e.length;++i)e[i]*=t.width;if("butt"!==t.cap){for(let i=0;i<e.length;i+=2)e[i]-=t.width,e[i]<1&&(e[i]=1);for(let i=1;i<e.length;i+=2)e[i]+=t.width}e=e.join(",")}i.dashArray=e}return i}function M(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(i.align=t.align,i.decoration=t.decoration,i.kerning=t.kerning?"auto":"0",i.rotate=t.rotated?"90":"0",i.font.style=e.style||"normal",i.font.variant=e.variant||"normal",i.font.weight=e.weight||"normal",i.font.size=e.size&&e.size.toString()||"10pt",i.font.family=e.family||"serif"),i}function I(t){const{pattern:e,linearGradient:o}=t;if(e)return(0,chunks.j)("pattern",{id:e.id,patternUnits:"userSpaceOnUse",x:e.x,y:e.y,width:e.width,height:e.height},(0,chunks.j)("image",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(o){const t=o.stops.map(((t,e)=>(0,chunks.j)("stop",{key:`${e}-stop`,offset:t.offset,"stop-color":t.color})));return(0,chunks.j)("linearGradient",{id:o.id,gradientUnits:"userSpaceOnUse",x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},t)}return null}function N(t,e,i){return(0,mat2d.t)(t,(0,mat2d.i)(t),[e,i])}function z(t,e,i,o,r){return(0,mat2d.s)(t,(0,mat2d.i)(t),[e,i]),t[4]=t[4]*e-o*e+o,t[5]=t[5]*i-r*i+r,t}function S(t,e){g&&"left"in g?(g.left>t&&(g.left=t),g.right<t&&(g.right=t),g.top>e&&(g.top=e),g.bottom<e&&(g.bottom=e)):g={left:t,bottom:e,right:t,top:e}}function G(t){const e=t.args,i=e.length;let o;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(o=0;o<i;o+=2)S(e[o],e[o+1]);x.x=e[i-2],x.y=e[i-1];break;case"H":for(o=0;o<i;++o)S(e[o],x.y);x.x=e[i-1];break;case"V":for(o=0;o<i;++o)S(x.x,e[o]);x.y=e[i-1];break;case"m":{let t=0;"x"in x||(S(x.x=e[0],x.y=e[1]),t=2);for(o=t;o<i;o+=2)S(x.x+=e[o],x.y+=e[o+1]);break}case"l":case"t":for(o=0;o<i;o+=2)S(x.x+=e[o],x.y+=e[o+1]);break;case"h":for(o=0;o<i;++o)S(x.x+=e[o],x.y);break;case"v":for(o=0;o<i;++o)S(x.x,x.y+=e[o]);break;case"c":for(o=0;o<i;o+=6)S(x.x+e[o],x.y+e[o+1]),S(x.x+e[o+2],x.y+e[o+3]),S(x.x+=e[o+4],x.y+=e[o+5]);break;case"s":case"q":for(o=0;o<i;o+=4)S(x.x+e[o],x.y+e[o+1]),S(x.x+=e[o+2],x.y+=e[o+3]);break;case"A":for(o=0;o<i;o+=7)S(e[o+5],e[o+6]);x.x=e[i-2],x.y=e[i-1];break;case"a":for(o=0;o<i;o+=7)S(x.x+=e[o+5],x.y+=e[o+6])}}function E(t,e,i){const o=u[t.toLowerCase()];let r;"number"==typeof o&&(o?e.length>=o&&(r={action:t,args:e.slice(0,e.length-e.length%o)},i.push(r),G(r)):(r={action:t,args:[]},i.push(r),G(r)))}function U(t){const e={x:0,y:0,width:0,height:0};if("circle"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if("ellipse"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if("image"===t.type||"rect"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if("path"===t.type){const i=function T(t){const e=("string"!=typeof t.path?j(t.path):t.path).match(p),i=[];if(g={},x={},!e)return null;let o="",r=[];const n=e.length;for(let a=0;a<n;++a){const t=e[a],n=parseFloat(t);isNaN(n)?(o&&E(o,r,i),r=[],o=t):r.push(n)}E(o,r,i);const s={x:0,y:0,width:0,height:0};return g&&"left"in g&&(s.x=g.left,s.y=g.top,s.width=g.right-g.left,s.height=g.bottom-g.top),s}(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function F(t){const e={x:0,y:0,width:0,height:0};let i=null,o=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const n of t)i?(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),o=Math.max(o,n.x+n.width),r=Math.max(r,n.y+n.height)):(i=e,i.x=n.x,i.y=n.y,o=n.x+n.width,r=n.y+n.height);return i&&(i.width=o-i.x,i.height=r-i.y),i}function L(t,e,i,r,n,s,a,h){const c=(a&&s?k(s,e):e)/2,f=(a&&s?k(s,i):i)/2,d=t.width+r,y=t.height+r,u=(0,mat2df32.c)(),p=(0,mat2df32.c)();let g=!1;if(n&&0!==d&&0!==y){const t=d/y,r=e>i?e:i;let n=1,s=1;isNaN(r)||(t>1?(n=r/d,s=r/t/y):(s=r/y,n=r*t/d)),(0,mat2d.m)(p,p,z(u,n,s,c,f)),g=!0}const x=t.x+(d-r)/2,m=t.y+(y-r)/2;if((0,mat2d.m)(p,p,N(u,c-x,f-m)),!g&&(d>e||y>i)){const t=d/e>y/i,r=(t?e:i)/(t?d:y);(0,mat2d.m)(p,p,z(u,r,r,x,m))}return s&&(0,mat2d.m)(p,p,function $(t,e,i,o){const r=e%360*Math.PI/180;(0,mat2d.r)(t,(0,mat2d.i)(t),r);const s=Math.cos(r),l=Math.sin(r),h=t[4],c=t[5];return t[4]=h*s-c*l+o*l-i*s+i,t[5]=c*s+h*l-i*l-o*s+o,t}(u,s,x,m)),h&&(0,mat2d.m)(p,p,N(u,h[0],h[1])),`matrix(${p[0]},${p[1]},${p[2]},${p[3]},${p[4]},${p[5]})`}function C(t,e,o,r){const n=[],s=[];for(const a of t){const t=[],l=[];let h=0,c=0,f=0;for(const e of a){const{shape:i,fill:o,stroke:r,font:s,offset:a}=e;h+=r&&r.width||0;const d=v(o),y=A(r),u="text"===i.type?M(i,s):null;n.push(I(d)),t.push(b(i,d.fill,y,u)),l.push(U(i)),a&&(c+=a[0],f+=a[1])}const d=L(F(l),e,o,h,null==r?void 0:r.scale,null==r?void 0:r.rotation,null==r?void 0:r.useRotationSize,[c,f]);s.push((0,chunks.j)("g",{transform:d},t))}return null!=r&&r.useRotationSize&&null!=r&&r.rotation&&(e=k(null==r?void 0:r.rotation,e),o=k(null==r?void 0:r.rotation,o)),(0,chunks.j)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:o},(0,chunks.j)("defs",null,n),s)}const s=(0,projector.E)();function renderUtils_h(t,e,i){const n=Math.ceil(e[0]),r=Math.ceil(e[1]);if(!t.some((t=>!!t.length)))return null;const o=i&&i.node||document.createElement("div");return null!=i.opacity&&(o.style.opacity=i.opacity.toString()),s.append(o,C.bind(null,t,n,r,i)),o}function renderUtils_u(t,e,i,n,a){switch(a){case"multiply":t[e+0]*=i[0],t[e+1]*=i[1],t[e+2]*=i[2],t[e+3]*=i[3];break;default:{const a=(0,colorUtils._Y)({r:t[e+0],g:t[e+1],b:t[e+2]});a.h=n.h,a.s=n.s,a.v=a.v/100*n.v;const c=(0,colorUtils.xr)(a);t[e+0]=c.r,t[e+1]=c.g,t[e+2]=c.b,t[e+3]*=i[3];break}}}function renderUtils_d(e,n,o,a,c){return function renderUtils_m(t,i,r){return t?(0,request.default)(t,{responseType:"image"}).then((t=>{const e=t.data,n=e.width,o=e.height,a=n/o;let c=i;if(r){const t=Math.max(n,o);c=Math.min(c,t)}return{image:e,width:a<=1?Math.ceil(c*a):c,height:a<=1?c:Math.ceil(c/a)}})):Promise.reject(new Error.Z("renderUtils: imageDataSize","href not provided."))}(e,n,c).then((c=>{const s=c.width?c.width:n,h=c.height?c.height:n;if(c.image&&function renderUtils_g(t,e){return!(!t||"ignore"===e||"multiply"===e&&255===t.r&&255===t.g&&255===t.b&&1===t.a)}(o,a)){let i=c.image.width,n=c.image.height;((0,has.Z)("edge")||(0,has.Z)("ie"))&&/\.svg$/i.test(e)&&(i-=1,n-=1);const m=function l(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement("canvas");i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px";const n=i.getContext("2d");return n.clearRect(0,0,t,e),n}(s,h);m.drawImage(c.image,0,0,i,n,0,0,s,h);const g=m.getImageData(0,0,s,h),d=[o.r/255,o.g/255,o.b/255,o.a],p=(0,colorUtils._Y)(o);for(let t=0;t<g.data.length;t+=4)renderUtils_u(g.data,t,d,p,a);m.putImageData(g,0,0),e=m.canvas.toDataURL("image/png")}else{const t=kernel.id&&kernel.id.findCredential(e);if(t&&t.token){const i=-1===e.indexOf("?")?"?":"&";e=`${e}${i}token=${t.token}`}}return{url:e,width:s,height:h}})).catch((function(){return{url:e,width:n,height:n}}))}}}]);
//# sourceMappingURL=1278.f576932b.iframe.bundle.js.map