{"version":3,"file":"SceneLayerGraphicsView3D.482968aa.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(r){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",r,{hasInitialize:!0})}getTransferList(r){return[r.geometryBuffer]}}export{e as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i,isSome as s,isNone as o,unwrap as a}from\"../../../core/maybe.js\";import{init as n}from\"../../../core/watchUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{b as l}from\"../../../chunks/vec3.js\";import{f as u,c}from\"../../../chunks/vec3f64.js\";import{projectBuffer as p,projectVectorToVector as g,projectBoundingRect as m}from\"../../../geometry/projection.js\";import{create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{extentContainsCoords3D as f}from\"../../../geometry/support/contains.js\";import{makeDehydratedPoint as _,estimateSize as b}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as v}from\"../../../layers/graphics/hydratedFeatures.js\";import E from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{getRenderingInfo as x,getRenderingInfoAsync as I}from\"../../../renderers/support/renderingInfoUtils.js\";import{getGeometryZScaler as w}from\"../../../rest/query/operations/zscale.js\";import S from\"../../../rest/support/Query.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import F from\"./graphics/Graphics3DFeatureLikeLayerView.js\";import A from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as O,processAttributeEdits as N}from\"./i3s/attributeEditing.js\";import{I3SAttributeOverrides as j}from\"./i3s/I3SAttributeOverrides.js\";import{checkSpatialReferences as T,containsDraco as G,whenGraphicAttributes as V,getCachedAttributeValue as M}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as R}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as P}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as L}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as U}from\"./support/SceneLayerViewRequiredFields.js\";import q from\"../support/debugFlags.js\";import{GraphicsMap as H}from\"../support/GraphicsMap.js\";import{compute as Q}from\"../support/orientedBoundingBox.js\";import{updatingProgress as k}from\"../support/updatingProperties.js\";import B from\"../../layers/SceneLayerView.js\";import z from\"../../layers/support/FeatureFilter.js\";import{TaskPriority as W}from\"../../support/Scheduler.js\";const K=r.getLogger(\"esri.views.3d.layers.SceneLayerGraphicsView3D\"),Z=P();let J=class extends(R(L(D(B)))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._nodesAddedToStage=new Map,this.drapeSourceType=1,this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this.loadedGraphics=new H,this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}initialize(){var e;const t=this.layer;this.addResolvingPromise(t.indexInfo),this._attributeOverrides=new j(this.layer,null==(e=this.view.resourceController)?void 0:e.memoryController),T(t,this.view.spatialReference,this.view.viewingMode),this.fieldsHelper=new U({layerView:this}),this.updatingHandles.add(t,\"rangeInfos\",(e=>this._rangeInfosChanged(e)),2),this.updatingHandles.add(t,\"renderer\",((e,t)=>this._rendererChange(e,t))),this.updatingHandles.add(this,\"parsedDefinitionExpression\",(()=>this._filterChange())),this.updatingHandles.add(this,\"view.floors\",(()=>this.graphics3d.filterVisibility.filterChanged())),this.handles.add(n(q,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&q.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||q.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}))),this._set(\"graphics3d\",new F({owner:this,layer:t,preferredUpdatePolicy:0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentVisibilityEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,suspendResumeExtentMode:\"data\",dataExtent:t.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.graphics3d.elevationAlignment&&this.graphics3d.elevationAlignment.events.on(\"invalidate-elevation\",(e=>this._invalidateElevation(e))),this.supportsHeightUnitConversion&&(this._verticalScale=w(\"point\",t.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.graphics3d.setup()),this._memCache=this.view.resourceController.memoryController.getMemCache(t.uid),this._controller=new E({layerView:this,scaleVisibilityEnabled:!1}),G(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e)))),this.when((()=>{this._queryEngine=new A({layerView:this,priority:W.FEATURE_QUERY_ENGINE}),this.updatingHandles.add(this,\"maximumNumberOfFeatures\",(e=>this._controller.featureTarget=e),2),this.updatingHandles.add(this,\"suspended\",(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=i(this._treeDebugger),this._attributeOverrides=i(this._attributeOverrides),this._set(\"graphics3d\",i(this.graphics3d)),this._controller=i(this._controller),this._queryEngine=i(this._queryEngine),this._worker=i(this._worker),this._memCache=i(this._memCache),this._nodesAddedToStage.clear(),this.fieldsHelper=i(this.fieldsHelper)}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get maximumNumberOfFeatures(){const e=this.graphics3d&&this.graphics3d.graphicsCore&&this.graphics3d.graphicsCore.displayFeatureLimit;return e?e.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller&&!this._controller.leavesReached)}get hasM(){return!1}get hasZ(){return!0}notifyGraphicGeometryChanged(e){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(e)}async whenGraphicAttributes(e,t){return V(this.layer,e,this._getObjectIdField(),t,(()=>[...this._nodesAddedToStage.values()]))}getGraphicFromGraphicUid(e){if(!this.loadedGraphics)return null;const t=v(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t&&t.attributes&&t.attributes[r]?(t.layer=this.layer,t.sourceLayer=this.layer,t):null}whenGraphicBounds(e,t){return this.graphics3d.graphicsCore.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphics3d.graphicsCore.computeAttachmentOrigin(e,t)}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}isUpdating(){return!!(this._controller&&this._controller.updating||this.graphics3d&&this.graphics3d.updating)}getRenderingInfo(e,t,r){const i=x(e,{renderer:t,arcade:r});if(s(i)&&i.color){const e=i.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}return i}async getRenderingInfoAsync(e,t,r,i){return I(e,{renderer:t,arcade:r,...i})}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}highlight(e){return this.graphics3d.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.graphics3d.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return O(this.attributeEditingContext,e)}async extractBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};return o(this._worker)&&(this._worker=new C((e=>this.view.resourceController.schedule(e)))),this._worker.invoke(r,t).then((e=>{if(s(e)){return{positionData:e.positions,featureIds:e.featureIds}}throw new Error(\"Failed to decompress Draco point data\")}))}checkExtent(e,t){e&&!f(e,t)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&K.error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&K.error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++)}async addNode(e,t,r){if(!X(t)&&!$(t))return Promise.reject();if(this._nodesAddedToStage.has(e.index))return void K.error(\"I3S node \"+e.id+\" already added\");const i=this.layer.fullExtent,s=i&&te(i.clone(),.5),o=this._controller.crsVertex,a=[],n={graphics:null,featureIds:null,attributeInfo:t.attributeDataInfo,node:e};if(X(t)?await this._addNodeBinaryPointData(e,n,t,s,a,r):$(t)&&this._addNodeLegacyPointData(e,n,t,s,a),await this._attributeOverrides.apply(n.featureIds,t.attributeDataInfo,r),e.numFeatures=n.graphics.length,this._updateNodeMemory(e),ee(n),a.length>0&&(this.computeObb(e,a,o),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return this._cacheNodeData(n),Promise.resolve();if(this._verticalScale)for(const d of n.graphics)this._verticalScale(d.geometry);return this._nodesAddedToStage.set(e.index,n),this.loadedGraphics.addMany(n.graphics),this._filterNode(n),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve()}computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;p(t,r,0,t,s,0,t.length/3);const o={data:t,size:3};e.serviceObb=Q(o),i.isGeographic&&g(e.serviceObb.center,s,e.serviceObb.center,i)}isNodeLoaded(e){return this._nodesAddedToStage.has(e)}isNodeReloading(){return!1}updateNodeState(){}async _addNodeBinaryPointData(e,r,i,o,n,d){const h=await this.extractBinaryPointData(i,d);if(null==h)return Promise.reject();const c=this._getObjectIdField(),g=this._controller.crsVertex,m=this.view.spatialReference,y=this.graphics3d.graphicsCore,{positionData:f,featureIds:b}=h,v=3,E=f.length/v,x=new Array;for(let I=0;I<E;I++){const r=s(e.serviceObb)?e.serviceObb.center:[0,0,0],i=I*v,d=u(f[i+0],f[i+1],f[i+2]);l(d,d,r),e.serviceObb||n.push(d[0],d[1],d[2]),o&&this.checkExtent(o,d);const h=b[I],E={};null!=h&&(E[c]=h);const w=null==h?t.generateUID():h;p(d,g,0,ie,m,0,1);const S=_(ie[0],ie[1],ie[2],m),C=this.loadedGraphics.get(w);if(s(C))C.level<e.level&&(se.property=\"geometry\",se.graphic=C,se.oldValue=a(C.geometry),se.newValue=S,C.geometry=S,y.graphicUpdateHandler(se)),x.push(C);else{const r=t.generateUID();x.push({objectId:w,uid:r,geometry:S,attributes:E,visible:!0,level:e.level})}}r.graphics=x,r.featureIds=b}_addNodeLegacyPointData(e,r,i,o,a){const n=this._getObjectIdField(),d=this._controller.crsVertex,h=this.view.spatialReference,l=[0,0,0],u=new Array,c=new Array;for(const g of i.pointData){const r=g.featureDataPosition,i=r.length,m=g.geometries&&g.geometries[0]||re[i],y=g.featureIds[0];if(\"points\"!==m.params.type)continue;o&&this.checkExtent(o,r);const f={};null!=y&&(f[n]=y);const b=null==y?t.generateUID():y;let v;\"Embedded\"===m.type&&(v=m.params.vertexAttributes.position);for(let o=0;o<v.length;o+=i){for(let e=0;e<i;e++)l[e]=r[e]+v[o+e];const n=3===i;e.serviceObb||a.push(l[0],l[1],n?l[2]:0),p(l,d,0,ie,h,0,1);const u=_(ie[0],ie[1],n?ie[2]:void 0,h),g=this.loadedGraphics.get(b);s(g)?c.push(g):c.push({objectId:b,uid:t.generateUID(),geometry:u,attributes:f,visible:!0})}u.push(y)}r.graphics=c,r.featureIds=u}_updateNodeMemory(e){e.memory=4096+(s(e.numFeatures)?e.numFeatures*this.graphics3d.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>b(t)+e),512+8*e.featureIds.length+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this._nodesAddedToStage.forEach((e=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}})),this._nodesAddedToStage.clear(),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this._nodesAddedToStage.get(e);return t?(this.loadedGraphics.removeMany(t.graphics),this._nodesAddedToStage.delete(e),this._treeDebugger&&this._treeDebugger.update(),t):null}async loadCachedNodeData(e){return this._memCache.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,i){if(!this._nodesAddedToStage.has(e.index))return this.loadedGraphics.addMany(t.graphics),this._nodesAddedToStage.set(e.index,t),this._updateNodeMemory(e),await this.updateAttributes(e.index,r,i),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update(),Promise.resolve();K.error(\"I3S node \"+e.id+\" already added\")}getLoadedNodeIds(){const e=[];return this._nodesAddedToStage.forEach((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this._nodesAddedToStage.forEach((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this._nodesAddedToStage.forEach(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this._nodesAddedToStage.get(e);if(t&&s(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodesAddedToStage.get(e);if(t&&s(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const r=this._nodesAddedToStage.get(e);r&&!o(r.attributeInfo)&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this._nodesAddedToStage.get(e);i&&(await this._attributeOverrides.apply(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){if(ee(e),this._filterNode(e),this.graphics3d.graphicsCore.labelsEnabled){const t=e.graphics.map((e=>e.uid));this.graphics3d.graphicsCore.updateLabelingInfo(t)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||\"OBJECTID\"}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&K.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this._nodesAddedToStage.forEach((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression;for(const r of e.graphics){const e=r.visible;r.visible=!t||this._evaluateClause(t,r),e!==r.visible&&(se.graphic=r,se.property=\"visible\",se.oldValue=e,se.newValue=r.visible,this.graphics3d.graphicsCore.graphicUpdateHandler(se))}}_invalidateElevation(e){const t=this._controller.crsIndex;m(e.extent,e.spatialReference,oe,t),this._controller.updateElevationChanged(oe,t)}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new S(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),null==t?void 0:t.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():S.from(e))}getUsedMemory(){const e=this.graphics3d&&this.graphics3d.graphicsCore;return e?e.usedMemory:0}getUnloadedMemory(){const e=this.graphics3d&&this.graphics3d.graphicsCore;return.8*((this._controller?this._controller.unloadedMemoryEstimate:0)+(e?e.unprocessedMemoryEstimate:0))}ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}_handleEdits(e){N(this.attributeEditingContext,e)}get attributeEditingContext(){const e=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,forEachNode:e=>this._nodesAddedToStage.forEach((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this._attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this.setAttributeData(t,r);const o=this._nodesAddedToStage.get(t);if(s(i)){const t=this.loadedGraphics.get(i.attributes[e]);s(t)&&this.graphics3d.graphicsCore.recreateGraphics([t])}else s(o)&&this.graphics3d.graphicsCore.recreateGraphics(o.graphics)},clearMemCache:()=>{}}}get performanceInfo(){const e={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this._nodesAddedToStage.size,core:this.graphics3d.graphicsCore.performanceInfo};return this._controller&&this._controller.updateStats(e),e}get test(){return{controller:this._controller,numNodes:this._nodesAddedToStage.size,numFeatures:this.loadedGraphics.length}}};e([d()],J.prototype,\"graphics3d\",void 0),e([d({type:z})],J.prototype,\"filter\",void 0),e([d()],J.prototype,\"loadedGraphics\",void 0),e([d({aliasOf:\"layer\"})],J.prototype,\"i3slayer\",void 0),e([d()],J.prototype,\"_controller\",void 0),e([d()],J.prototype,\"updating\",void 0),e([d()],J.prototype,\"suspended\",void 0),e([d()],J.prototype,\"holeFilling\",void 0),e([d(k)],J.prototype,\"updatingProgress\",void 0),e([d({aliasOf:\"_controller.updatingProgress\"})],J.prototype,\"updatingProgressValue\",void 0),e([d(Z.requiredFields)],J.prototype,\"requiredFields\",null),e([d(Z.availableFields)],J.prototype,\"availableFields\",void 0),e([d()],J.prototype,\"fieldsHelper\",void 0),e([d({type:Number})],J.prototype,\"maximumNumberOfFeatures\",null),e([d({readOnly:!0})],J.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([d({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.point.lodFactor\"})],J.prototype,\"lodFactor\",void 0),e([d({readOnly:!0})],J.prototype,\"hasM\",null),e([d({readOnly:!0})],J.prototype,\"hasZ\",null),J=e([h(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],J);var Y=J;function $(e){return\"pointData\"in e}function X(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function ee(e){const t=e.attributeInfo;for(let r=0;r<e.graphics.length;r++){const i=e.graphics[r];if(i.attributes||(i.attributes={}),s(t)&&s(t.loadedAttributes))for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(i.attributes[e]=M(t.attributeData[e],r))}}function te(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,e.hasZ&&(e.zmin-=t,e.zmax+=t),e.hasM&&(e.mmin-=t,e.mmax+=t),e}const re={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},ie=c(),se={graphic:null,property:null,oldValue:null,newValue:null},oe=y();export{Y as default};\n"],"names":["r","constructor","r2","hasInitialize","getTransferList","geometryBuffer","K","getLogger","Z","P","J","R","L","D","B","arguments","this","type","_nodesAddedToStage","Map","drapeSourceType","_queryEngine","_memCache","_interactiveEditingSessions","loadedGraphics","H","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","initialize","e","t","layer","addResolvingPromise","indexInfo","_attributeOverrides","j","view","resourceController","memoryController","T","spatialReference","viewingMode","fieldsHelper","U","layerView","updatingHandles","add","_rangeInfosChanged","e2","t2","_rendererChange","_filterChange","graphics3d","filterVisibility","filterChanged","handles","n","q","_treeDebugger","e3","_controller","crsIndex","then","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","destroy","_set","F","owner","preferredUpdatePolicy","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","suspendResumeExtentMode","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_invalidateElevation","_verticalScale","w","setup","getMemCache","uid","E","G","geometryDefinitions","_worker","C","schedule","addPromise","result","_handleEdits","when","A","priority","W","FEATURE_QUERY_ENGINE","featureTarget","_removeAllNodeData","i","clear","requiredFields","graphicsCore","displayFeatureLimit","maximumNumberOfFeatures","_override","fixedFeatureTarget","_clearOverride","suspended","leavesReached","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","V","_getObjectIdField","values","getGraphicFromGraphicUid","v","find","t3","attributes","sourceLayer","whenGraphicBounds","computeAttachmentOrigin","canResume","super","rootNodeVisible","isUpdating","updating","getRenderingInfo","i2","x","renderer","arcade","s","color","I","__spreadValues","symbolUpdateType","highlight","objectIdField","effectiveUpdatePolicy","createInteractiveEditSession","O","attributeEditingContext","o","invoke","positionData","positions","featureIds","Error","checkExtent","f","error","X","$","Promise","reject","has","index","id","s2","xmin","ymin","xmax","ymax","hasZ","zmin","zmax","hasM","mmin","mmax","te","clone","o2","crsVertex","a2","n2","graphics","attributeInfo","attributeDataInfo","node","_addNodeBinaryPointData","_addNodeLegacyPointData","apply","numFeatures","length","_updateNodeMemory","ee","computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","resolve","d","geometry","set","addMany","_filterNode","update","isGeographic","renderSpatialReference","data","size","serviceObb","Q","g","center","isNodeLoaded","isNodeReloading","updateNodeState","h","extractBinaryPointData","h$1","c2","m","y2","b2","Array","i3","d2","u","push","E2","generateUID","ie","S","_","get","level","property","se","graphic","oldValue","a","newValue","graphicUpdateHandler","objectId","visible","l2","u2","pointData","featureDataPosition","geometries","re","params","v2","vertexAttributes","position","o3","n3","p","u3","g2","memory","usedMemoryPerGraphic","reduce","b","put","_getMemCacheKey","forEach","removeNode","_removeNodeStageData","removeMany","delete","pop","updateAttributes","getLoadedNodeIds","sort","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","loadedAttributes","getAttributeData","attributeData","setAttributeData","_attributeValuesChanged","labelsEnabled","map","updateLabelingInfo","updateClippingArea","fieldsIndex","Set","collectRequiredFields","from","every","_reloadAllNodes","warn","restartNodeLoading","parsedDefinitionExpression","_evaluateClause","extent","oe","updateElevationChanged","createQuery","outFields","returnGeometry","outSpatialReference","filter","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","_addDefinitionExpressionToQuery","getUsedMemory","usedMemory","getUnloadedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","sessions","forEachNode","attributeStorageInfo","i3slayer","attributeOverrides","recreateGraphics","clearMemCache","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","core","performanceInfo","updateStats","controller","numNodes","prototype","z","aliasOf","k","availableFields","Number","readOnly","Y","name","M","c","y"],"mappings":"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"}