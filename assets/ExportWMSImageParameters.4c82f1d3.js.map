{"version":3,"file":"ExportWMSImageParameters.4c82f1d3.js","sources":["../../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";const a={visible:\"visibleSublayers\"};let l=class extends(s(r)){constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(a[e.propertyName])))],\"layer\"))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(\",\")}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=null==e?void 0:e.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.unshift(e))};return null==s||s.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t,version:o,layers:r}}};e([t()],l.prototype,\"layer\",null),e([t({readOnly:!0})],l.prototype,\"layers\",null),e([t({type:Number})],l.prototype,\"scale\",void 0),e([t({readOnly:!0})],l.prototype,\"version\",null),e([t({readOnly:!0})],l.prototype,\"visibleSublayers\",null),l=e([o(\"esri.layers.support.ExportWMSImageParameters\")],l);export{l as ExportWMSImageParameters};\n"],"names":["a","visible","l","s","r","constructor","e2","this","scale","_get","_set","handles","remove","add","sublayers","on","notifyChange","e3","propertyName","visibleSublayers","filter","name","map","join","commitProperty","layer","t","o","minScale","s2","maxScale","a2","l2","i","forEach","unshift","toJSON","layers","imageFormat","imageTransparency","version","format","request","service","styles","transparent","e","prototype","readOnly","type","Number"],"mappings":"uEAImZ,MAAMA,EAAE,CAACC,QAAQ,oBAAuB,IAACC,EAAE,cAAcC,EAAEC,IAAIC,YAAYC,SAASA,GAAGC,KAAKC,MAAM,YAAYF,QAAQG,KAAK,WAAWH,SAASI,KAAK,QAAQJ,GAAGC,KAAKI,QAAQC,OAAO,SAASN,GAAGC,KAAKI,QAAQE,IAAI,CAACP,EAAEQ,UAAUC,GAAG,UAAU,IAAIR,KAAKS,aAAa,sBAAsBV,EAAES,GAAG,0BAA0BR,KAAKS,aAAahB,EAAEiB,EAAEC,kBAAkB,6BAA6BC,iBAAiBb,GAAGC,YAAYD,EAAEc,WAAWH,EAAEI,OAAOC,QAAQL,EAAEI,OAAOE,KAAK,wBAAwBC,eAAe,gBAAgBlB,EAAEC,KAAKkB,aAAanB,GAAGA,EAAEkB,eAAe,2BAA2Bf,KAAK,YAAY,GAAG,+BAA+BgB,MAAMnB,EAAEE,MAAMJ,GAAGG,KAAKJ,EAAE,MAAMG,OAAE,EAAOA,EAAEQ,UAAUY,EAAE,GAAGC,YAAYC,SAASC,EAAEC,SAASC,EAAEjB,UAAUkB,EAAE/B,QAAQgC,GAAGhB,MAAM,IAAIb,IAAI,IAAIyB,GAAGzB,GAAGyB,KAAK,IAAIE,GAAG3B,GAAG2B,QAAQC,EAAEE,QAAQP,GAAGD,EAAES,QAAQlB,YAAY,MAAAd,GAASA,EAAE+B,QAAQP,GAAGD,EAAEU,eAAeX,MAAMnB,EAAE+B,OAAOjC,GAAGG,MAAM+B,YAAYnC,EAAEoC,kBAAkBb,EAAEc,QAAQb,GAAGrB,QAAQ,CAACmC,OAAOtC,EAAEuC,QAAQ,SAASC,QAAQ,MAAMC,OAAO,GAAGC,YAAYnB,EAAEc,QAAQb,EAAEU,OAAOjC,KAAK0C,EAAE,CAACpB,KAAKxB,EAAE6C,UAAU,QAAQ,MAAMD,EAAE,CAACpB,EAAE,CAACsB,UAAS,KAAM9C,EAAE6C,UAAU,SAAS,MAAMD,EAAE,CAACpB,EAAE,CAACuB,KAAKC,UAAUhD,EAAE6C,UAAU,aAAQ,GAAQD,EAAE,CAACpB,EAAE,CAACsB,UAAS,KAAM9C,EAAE6C,UAAU,UAAU,MAAMD,EAAE,CAACpB,EAAE,CAACsB,UAAS,KAAM9C,EAAE6C,UAAU,mBAAmB,MAAM7C,EAAE4C,EAAE,CAACnB,EAAE,iDAAiDzB"}