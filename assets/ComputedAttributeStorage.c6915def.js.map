{"version":3,"file":"ComputedAttributeStorage.c6915def.js","sources":["../../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/displayIdUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../../../core/maybe.js\";import{convertFromFeatures as r,convertFromFeatureSet as s,convertToFeature as i,convertToGeometry as n,getQuantizedArea as o,unquantizeOptimizedGeometry as a}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{hasGeometry as u}from\"../../../../../layers/graphics/OptimizedFeature.js\";import{FeatureSetReader as h}from\"./FeatureSetReader.js\";function c({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class d extends h{constructor(t,e,r){super(t),this._featureIndex=-1,this._dateFields=new Set,this._geometryType=r,this._features=e}static fromFeatures(t,e,s){const i=r([],t,e,!1,!1,s);for(let r=0;r<i.length;r++)i[r].displayId=t[r].displayId;return d.fromOptimizedFeatures(i,e)}static fromFeatureSet(t,e){const r=s(t,e);return d.fromOptimizedFeatureSet(r)}static fromOptimizedFeatureSet(t){const{features:e,geometryType:r}=t,s=d.fromOptimizedFeatures(e,r);s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform;for(const i of t.fields)\"esriFieldTypeDate\"===i.type&&s._dateFields.add(i.name);return s}static fromOptimizedFeatures(t,e,r){const s=h.createInstance(),i=new d(s,t,e);return i._transform=r,i}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}removeIds(t){const e=new Set(t);this._features=this._features.filter((t=>!e.has(t.objectId)))}append(t){for(const e of t)this._features.push(e)}getSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t=\"\";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new d(this.instance,this._features,this.geometryType);return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return i(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readGeometry();return n(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const e=this.readCentroid();return t(e)?null:{x:e.coords[0]*this._sx+this._tx,y:e.coords[1]*this._sy+this._ty}}readGeometryArea(){return u(this._current)?o(this._current.geometry,2):0}readUnquantizedGeometry(){const t=this.readGeometry();if(\"esriGeometryPoint\"===this.geometryType||!t)return t;const e=t.clone();return c(e),e}readHydratedGeometry(){const r=this._current.geometry;if(t(r))return null;const s=r.clone();return e(this._transform)&&a(s,s,this.hasZ,this.hasM,this._transform),s}getXHydrated(){if(!u(this._current))return 0;const e=this._current.geometry.coords[0],r=this.getQuantizationTransform();return t(r)?e:e*r.scale[0]+r.translate[0]}getYHydrated(){if(!u(this._current))return 0;const e=this._current.geometry.coords[1],r=this.getQuantizationTransform();return t(r)?e:r.translate[1]-e*r.scale[1]}getX(){return u(this._current)?this._current.geometry.coords[0]*this._sx+this._tx:0}getY(){return u(this._current)?this._current.geometry.coords[1]*this._sy+this._ty:0}readGeometry(){if(!u(this._current))return null;const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){if(!u(this._current))return null;if(!this._current.centroid){const t=this._computeCentroid();if(!t)return null;t.coords[0]=(t.coords[0]-this._tx)/this._sx,t.coords[1]=(t.coords[1]-this._ty)/this._sy,this._current.centroid=t}const t=this._current.centroid.clone();return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sx+this._ty,t}_readAttribute(t,e){const r=this._current.attributes[t];if(void 0!==r)return null!=r&&e&&this._dateFields.has(t)?new Date(r):r;const s=this.readAttributes(),i=t.toLocaleLowerCase().trim();for(const n in s)if(n.toLocaleLowerCase().trim()===i){const t=this._current.attributes[n];return null!=t&&e&&this._dateFields.has(n)?new Date(t):t}}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._dateFields=this._dateFields}_readAttributes(){return this._current.attributes}}export{d as FeatureSetReaderJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import e from\"../../../../../core/has.js\";import i from\"../../../../../core/Logger.js\";import{clamp as s}from\"../../../../../core/mathUtils.js\";import{isNone as r,isSome as a,mapMany as o,forEachSome as n,andThen as h,unwrap as l}from\"../../../../../core/maybe.js\";import{createAbortController as c,createResolver as u,isAbortError as d}from\"../../../../../core/promiseUtils.js\";import{diff as p}from\"../../../../../core/accessorSupport/diffUtils.js\";import _ from\"../../../../../layers/support/FieldsIndex.js\";import{MAX_FILTERS as f,HIGHLIGHT_FLAG as g,ATTRIBUTE_DATA_VV as m,NAN_MAGIC_NUMBER as y,ATTRIBUTE_DATA_ANIMATION as x}from\"../../../engine/webgl/definitions.js\";import{getPixelArrayCtor as b}from\"../../../engine/webgl/Utils.js\";import{createDebugLogger as z,DEBUG_ATTR_UPDATES as T}from\"../../../engine/webgl/util/debug.js\";import{getVisualVariableSizeValueRepresentationRatio as S}from\"../tileRenderers/support/visualVariablesUtils.js\";const w=i.getLogger(\"esri.views.layers.2d.features.support.AttributeStore\"),A=z(T,w),k=2147483647,D=2147483648,E=254,F=255,U=0,R=1,C=t=>(t&D)>>>31,M=t=>t&k,B=t=>C(t)===R?E:F;function v(t){return C(t)===R}const j={sharedArrayBuffer:e(\"esri-shared-array-buffer\"),atomics:e(\"esri-atomics\")};function I(t,e){return i=>e(t(i))}class P{constructor(t,e,i,s){this.size=0,this.texelSize=4;const{pixelType:r,layout:a,textureOnly:o}=s;this.textureOnly=o||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,o||(this.data=this._initData(r,i,t,e))}get buffer(){return h(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=l(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=l(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=l(this.data);for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){l(this.data)[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){l(this.data)[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=M(t);return l(this.data)[i*this.texelSize+e]}setData(t,e,i){const s=M(t),r=1<<e;0!=(this.layout&r)?(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):w.error(\"mapview-attributes-store\",\"Tried to set a value for a texel's readonly component\")}lock(){5121===this.pixelType&&this._shared&&j.atomics&&\"local\"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){5121===this.pixelType&&this._shared&&j.atomics&&\"local\"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=l(this.data);e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||\"local\"===this._ctype),r=this.pixelType,a=this.layout,o=l(this.data);return{start:t,end:e,data:s&&o.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&\"local\"!==s?SharedArrayBuffer:ArrayBuffer,a=b(t),o=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let n=0;n<o.length;n+=4)o[n+1]=255;return o}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class O{constructor(t,e){this._client=t,this.config=e,this._attributeComputeMap=new Map,this._blocks=new Array,this._filters=new Array(f),this._targetType=0,this._abortController=c(),this._hasScaleExpr=!1,this._size=32,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?5126:5121;A(`Creating AttributeStore ${j.sharedArrayBuffer?\"with\":\"without\"} shared memory`),this._blockDescriptors=[{pixelType:5121,layout:1},{pixelType:5121,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}update(t,i){this.config=i;const s=i.schema.processors[0].storage,o=p(this._schema,s);if((t.targets.feature||t.targets.aggregate)&&(t.storage.data=!0),o&&(e(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - AttributeStore:\",o),t.storage.data=!0,this._schema=s,this._attributeComputeMap.clear(),!r(s))){switch(s.target){case\"feature\":this._targetType=U;break;case\"aggregate\":this._targetType=R}if(\"subtype\"===s.type)for(const t in s.mapping){const e=s.mapping[t];if(a(e))for(const t of e.mapping)this._bindAttribute(t)}else for(const t of s.mapping)this._bindAttribute(t)}}onTileData(t,e){if(r(e.addOrUpdate))return;const i=e.addOrUpdate.getCursor();for(;i.next();){const t=i.getDisplayId();this.setAttributeData(t,i)}}invalidateResources(){this._createResourcesPromise=null,this._abortController.abort(),this._abortController=c()}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>M(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(t,i){const{config:s,service:r,spatialReference:a}=i,{filters:o}=s,n=o.map(((t,e)=>this._updateFilter(t,e,r,a)));(await Promise.all(n)).some((t=>t))&&(t.storage.filters=!0,e(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - AttributeStore:\",\"Filters changed\"))}setData(t,e,i,s){const r=M(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?g:0}unsetAttributeData(t){const e=M(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const i=M(t);if(this._ensureSizeForTexel(i),this._getBlock(0).setData(i,0,this.getFilterFlags(e)),this._targetType!==C(t))return;const r=this._attributeComputeMap,a=this.config.supportsTextureFloat?1:2,o=4;r.size&&r.forEach(((t,r)=>{const n=r*a%o,h=Math.floor(r*a/o),l=this._getBlock(h+m),c=t(e);if(this.config.supportsTextureFloat)l.setData(i,n,c);else if(c===y)l.setData(i,n,255),l.setData(i,n+1,255);else{const t=s(Math.round(c),-32767,32766)+32768,e=255&t,r=(65280&t)>>8;l.setData(i,n,e),l.setData(i,n+1,r)}}))}sendUpdates(){if(this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=u(),this._nextUpdate.promise;const e={blocks:this._blocks.map((t=>a(t)?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const t=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}},i=this._client.update(e,this._signal).then(t).catch(t);return this._client.render(this._signal),i})).catch((e=>d(e)?(this._createResourcesPromise=null,this._createResources()):(w.error(new t(\"mapview-attribute-store\",\"Encountered an error during client update\",e)),Promise.resolve()))),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t){function e(){return t.normalizationField?e=>{const i=e.readAttribute(t.normalizationField);if(!i)return null;return e.readAttribute(t.field)/i}:e=>e.readAttribute(t.field)}function i(){return t.normalizationField&&w.warn(\"mapview-arcade\",\"Ignoring normalizationField specified with an arcade expression which is not supported.\"),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let s;if(null!=t.fieldIndex)s=i();else{if(!t.field)return;s=e()}if(t.valueRepresentation){s=I(s,(e=>S(e,t.valueRepresentation)))}const r=t=>null===t||isNaN(t)||t===1/0?y:t;this._attributeComputeMap.set(t.binding,I(s,r))}_createResources(){if(a(this._createResourcesPromise))return this._createResourcesPromise;this._getBlock(x),A(\"Initializing AttributeStore\");const e={shared:j.sharedArrayBuffer&&!(\"local\"===this._client.type),size:this._size,blocks:o(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},i=this._client.initialize(e,this._signal).catch((e=>{d(e)?this._createResourcesPromise=null:w.error(new t(\"mapview-attribute-store\",\"Encountered an error during client initialization\",e))}));return this._createResourcesPromise=i,i.then((()=>r(this._createResourcesPromise)?this._createResources():void 0)),i}_getBlock(t){const e=this._blocks[t];if(a(e))return e;A(`Initializing AttributeBlock at index ${t}`);const i=j.sharedArrayBuffer,s=this._client.type,r=new P(i,s,this._size,this._blockDescriptors[t]);return this._blocks[t]=r,this._createResourcesPromise=null,r}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return A(\"Expanding block size to\",t,this._blocks),n(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return w.error(new t(\"mapview-limitations\",\"Maximum number of onscreen features exceeded.\")),-1}async _updateFilter(t,e,i,s){const o=this._filters[e],n=a(o)&&o.hash;if(!o&&!t)return!1;if(n===JSON.stringify(t))return!1;if(r(t)){if(!o)return!1;const t=1<<e+1,i=this._getBlock(0);return this._filters[e]=null,i.setComponentAllTexels(0,t),this.sendUpdates(),!0}const h=await this._getFilter(e,i);return await h.update(t,s),!0}async _getFilter(t,e){const i=this._filters[t];if(a(i))return i;const{default:s}=await import(\"../../../../../layers/graphics/data/FeatureFilter.js\"),r=new s({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _(e.fields)});return this._filters[t]=r,r}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let e=0;const i=B(t.getDisplayId());for(let a=0;a<this._filters.length;a++){const s=!!(i&1<<a),o=this._filters[a];e|=(!s||r(o)||o.check(t)?1:0)<<a}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlag(e)}return e<<1|s}}export{R as DISPLAY_ID_TYPE_AGGREGATE,U as DISPLAY_ID_TYPE_FEATURE,O as default,B as getDisplayIdFilterMask,M as getDisplayIdTexel,C as getDisplayIdType,v as isAggregateId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst e=2147483647,t=2147483648,r=0,s=1;function n(e){return(e&t)>>>31}function i(t){return t&e}function u(e,r){return((r?t:0)|e)>>>0}class d{constructor(){this._freeIds=[],this._idCounter=1}createId(e=!1){return u(this._getFreeId(),e)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}export{s as DISPLAY_ID_TYPE_AGGREGATE,r as DISPLAY_ID_TYPE_FEATURE,d as DisplayIdGenerator,i as getDisplayIdIndex,n as getDisplayIdType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{DisplayIdGenerator as t}from\"./displayIdUtils.js\";import{StaticBitSet as e}from\"./StaticBitSet.js\";function s(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}const i=2147483647,n=2147483648,r=(t,e)=>((e?n:0)|t)>>>0;class u{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new t,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const t=this._bitsets.length;return this._bitsets.push(e.create(this._allocatedSize,i)),t+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);s(this._numerics[t],e,0)}_ensureInstanceId(t){s(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);s(this._strings[t],e,null)}createDisplayId(t=!1){const e=this._idGenerator.createId();return e>this._allocatedSize&&this._expand(),r(e,t)}releaseDisplayId(t){for(const e of this._bitsets)e.unset(t);return this._idGenerator.releaseId(t&i)}getComputedNumeric(t,e){return this.getComputedNumericAtIndex(t&i,0)}setComputedNumeric(t,e,s){return this.setComputedNumericAtIndex(t&i,s,0)}getComputedString(t,e){return this.getComputedStringAtIndex(t&i,0)}setComputedString(t,e,s){return this.setComputedStringAtIndex(t&i,0,s)}getComputedNumericAtIndex(t,e){const s=t&i;return this._ensureNumeric(e,s),this._numerics[e][s]}setComputedNumericAtIndex(t,e,s){const n=t&i;this._ensureNumeric(e,n),this._numerics[e][n]=s}getInstanceId(t){const e=t&i;return this._ensureInstanceId(e),this._instanceIds[e]}setInstanceId(t,e){const s=t&i;this._ensureInstanceId(s),this._instanceIds[s]=e}getComputedStringAtIndex(t,e){const s=t&i;return this._ensureString(e,s),this._strings[e][s]}setComputedStringAtIndex(t,e,s){const n=t&i;this._ensureString(e,n),this._strings[e][n]=s}getXMin(t){return this._bounds[4*(t&i)]}getYMin(t){return this._bounds[4*(t&i)+1]}getXMax(t){return this._bounds[4*(t&i)+2]}getYMax(t){return this._bounds[4*(t&i)+3]}setBounds(t,e){const n=e.readHydratedGeometry();if(!n||!n.coords.length)return!1;let r=1/0,u=1/0,h=-1/0,o=-1/0;n.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),h=Math.max(h,t),o=Math.max(o,e)}));const d=t&i;return s(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=h,this._bounds[4*d+3]=o,!0}}export{u as ComputedAttributeStorage};\n"],"names":["h","constructor","t2","e2","r2","this","_featureIndex","_dateFields","Set","_geometryType","_features","s2","i2","r","length","displayId","d","fromOptimizedFeatures","s","fromOptimizedFeatureSet","features","geometryType","_exceededTransferLimit","exceededTransferLimit","_transform","transform","fields","type","add","name","createInstance","removeIds","filter","has","t3","objectId","append","push","getSize","getCursor","copy","getQuantizationTransform","getAttributeHash","_current","attributes","getIndex","setIndex","getObjectId","getDisplayId","setDisplayId","getGroupId","groupId","setGroupId","instance","copyInto","next","_getExists","readLegacyFeature","i","hasZ","hasM","readOptimizedFeature","readLegacyPointGeometry","readGeometry","x","getX","y","getY","readLegacyGeometry","n","readLegacyCentroid","readCentroid","t","coords","_sx","_tx","_sy","_ty","readGeometryArea","u","o","geometry","readUnquantizedGeometry","clone","lengths","e3","c","readHydratedGeometry","e","a","getXHydrated","scale","translate","getYHydrated","isPoint","centroid","_computeCentroid","_readAttribute","Date","readAttributes","toLocaleLowerCase","trim","n2","_readAttributes","w","getLogger","A","z","T","C","M","j","sharedArrayBuffer","atomics","size","texelSize","pixelType","layout","a2","textureOnly","_ctype","_resetRange","_shared","data","_initData","buffer","unsetComponentAllTexels","l","dirtyStart","dirtyEnd","setComponentAllTexels","setComponent","Math","min","max","setComponentTexel","unsetComponentTexel","getData","setData","error","lock","Atomics","store","unlock","expand","set","toMessage","start","end","slice","SharedArrayBuffer","ArrayBuffer","b","BYTES_PER_ELEMENT","_client","config","_attributeComputeMap","Map","_blocks","Array","_filters","f","_targetType","_abortController","_hasScaleExpr","_size","_idsToHighlight","supportsTextureFloat","_blockDescriptors","map","destroy","abort","signal","update","schema","processors","storage","p","_schema","targets","feature","aggregate","console","debug","clear","target","mapping","t4","_bindAttribute","onTileData","addOrUpdate","setAttributeData","invalidateResources","_createResourcesPromise","_getBlock","sendUpdates","service","spatialReference","filters","_updateFilter","Promise","all","some","_ensureSizeForTexel","getHighlightFlag","g","unsetAttributeData","getFilterFlags","forEach","r3","h2","floor","l2","m","c2","round","r4","_nextUpdate","promise","_currUpdate","blocks","_createResources","then","resolve","_signal","catch","render","_expand","fieldIndex","normalizationField","warn","getComputedNumericAtIndex","field","i3","readAttribute","valueRepresentation","I","S","binding","isNaN","shared","initialize","P","maxTextureSize","hash","JSON","stringify","_getFilter","default","import","timeInfo","fieldsIndex","_","isVisible","B","s3","check","_freeIds","_idCounter","createId","_getFreeId","releaseId","pop","_numerics","_strings","_idGenerator","_allocatedSize","_bitsets","_instanceIds","_bounds","createBitset","create","getBitset","resize","_ensureNumeric","_ensureInstanceId","_ensureString","createDisplayId","releaseDisplayId","unset","getComputedNumeric","setComputedNumeric","setComputedNumericAtIndex","getComputedString","getComputedStringAtIndex","setComputedString","setComputedStringAtIndex","getInstanceId","setInstanceId","getXMin","getYMin","getXMax","getYMax","setBounds","u2","forEachVertex","d2"],"mappings":"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"}