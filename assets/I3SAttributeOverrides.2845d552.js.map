{"version":3,"file":"I3SAttributeOverrides.2845d552.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/EllipsoidMode.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../../node_modules/@arcgis/core/views/3d/support/GraphicsMap.js","../../node_modules/@arcgis/core/layers/support/featureQueryAll.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SAttributeOverrides.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{TaskPriority as e}from\"../../../support/Scheduler.js\";class r{constructor(t){this.referenceCount=0,this.callbacks=[],this.runIndex=0,this.handle=t.registerTask(e.I3S_CONTROLLER,this)}destroy(){this.handle&&(this.handle.remove(),this.handle=null)}get running(){for(const t of this.callbacks)if(t.needsUpdate())return!0;return!1}runTask(t){this.sort();const e=this.callbacks,r={numIndexLoading:0,numNodesLoading:0};for(let s=0;s<e.length&&!t.done;++s)e[s].priority=e[s].update(t,r),this.runIndex=s}sort(){const t=this.callbacks;let e=t.length;for(let r=this.runIndex;r>0;r--){const s=t[r-1];let n=r;for(;n<t.length&&s.priority<=t[n].priority&&(n!==e||s.priority<t[n].priority);)t[n-1]=t[n],n++;t[n-1]=s,e=n-1}this.runIndex=0}add(t){this.sort(),t.priority=1/0,this.callbacks.unshift(t)}remove(e){t(this.callbacks,e),this.runIndex=this.callbacks.length,this.sort()}}const s=new Map;function n(t,e){let n=s.get(t);return null==n&&(n=new r(t),s.set(t,n)),n.add(e),{remove:()=>{if(null==n)return;n.remove(e);n.callbacks.length>0||(s.delete(t),n.destroy()),n=null}}}export{n as addTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{b as s}from\"../../../../chunks/vec4f64.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=s([0,0,0,-1]),this.imModificationImpact=4}}class i extends t{constructor(s,t,i,e,h,o,r,c,n,a){super(s,i),this.index=t,this.childCount=e,this.level=h,this.resources=o,this.version=r,this.lodMetric=c,this.maxError=n,this.numFeatures=a,this.failed=!1,this.hasModifications=!1,this.cacheState=0,this.vertexCount=0,this.memory=0}}class e{constructor(s,t,i,e){this.nodeHasLOD=s,this.isChosen=t,this.lodLevel=i,this.version=e}}export{i as Node,t as NodeBase,e as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as r}from\"../../../../core/promiseUtils.js\";import{l as n}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{NodeBase as a,Node as d,NodeTraversalState as l}from\"./I3SNode.js\";import{addWraparound as h}from\"./I3SUtil.js\";import{clone as u}from\"../../support/orientedBoundingBox.js\";class c{constructor(e,t,i,s,r){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=r,this.useAsHole=0,this.filterImpact=2}}class g{constructor(e,t,i,r,n,o,a,d,l,h,u,c,g,m){this.streamDataController=i,this.viewportQueries=r,this.logger=n,this.holeFilling=o,this._isLoaded=a,this._isReloading=d,this._isSelected=l,this._enable=h,this._needsUpdate=u,this._canRequest=c,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this.nodeCount=0,this.nodesPerPage=0,this.rootIndex=0,this.lodMetric=0,this.lodConversion=e=>e,this.urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=b(0),this._visibilityCacheVersion=b(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new f,this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this.layerHasModifications=!1,this._layerHasFilter=!1,this.logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this.lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this.viewportQueries?this.viewportQueries.maxLodLevel:1,this.init(t)}init(e){if(\"page\"===e.type){switch(this.urlPrefix=e.urlPrefix,this.nodesPerPage=e.pageSize,this.rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this.lodMetric=1;break;case\"maxScreenThresholdSQ\":this.lodMetric=1,this.lodConversion=M}this.addPage(N(this.rootIndex,this.nodesPerPage),e.rootPage)}else if(\"node\"===e.type){this.urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this.makeRefNode(new a(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this.addNode(t,0)}}loadPage(e){this._loading.add(e);const t=this.urlPrefix+e;this.streamDataController.request(t,\"json\").then((t=>{this._loading.delete(e),this.addPage(e,t)})).catch((t=>{this._loading.delete(e),r(t)||(this._failedPages.add(e),this.logger.error(\"#loadPage()\",this.logLayer,`Error when loading page ${e}`,t))}))}addPage(e,t){for(let n=this._nodePages.length;n<e;n++)this._nodePages[n]=null;const i=[],s=[],r=t.nodes.map(((t,r)=>{const a=i.length,l=t.children?t.children.length:0;s.push(-1);for(let e=0;e<l;e++)i.push(t.children[e]);const h=`${t.index}`,g=u(t.obb),m=o([g.center[0],g.center[1],g.center[2],n(g.halfSize)]),f=t.mesh&&t.mesh.attribute,_=t.mesh&&t.mesh.geometry,b=t.mesh&&t.mesh.material,p={hasSharedResource:!1,hasFeatureData:!!_,attributes:f&&null!=f.resource?`${f.resource}`:null,geometry:_&&null!=_.resource?`${_.resource}`:null,texture:b&&null!=b.resource?`${b.resource}`:null,geometryDefinition:_?_.definition:-1,materialDefinition:b?b.definition:-1},y=new d(h,e*this.nodesPerPage+r,m,l,0,p,this.lastUpdate,this.lodMetric,this.lodConversion(t.lodThreshold),_?_.featureCount:null);return y.serviceObb=g,y.visibilityObb=this._computeVisibilityObb(y),y.vertexCount=_?_.vertexCount:0,new c(a,l,v(this._visibilityCacheVersion),null,y)}));this._nodePages[e]={nodes:r,children:i,parents:s},this.nodeCount+=r.length,this.updateParentsAndLevel()}updateParentsAndLevel(){const t=new Array,i=(i,s,r)=>{const n=this.getPage(i);if(e(n)){const o=x(i,this.nodesPerPage);n.parents[o]=s;const a=n.nodes[o].node;e(a)&&(a.level=r,t.push(i))}};for(i(this.rootIndex,-1,0);t.length;){const s=t.pop(),r=this.getNode(s);if(e(r))for(let e=0;e<r.childCount;e++){i(this.getChildIndex(r,e),s,r.level+1),this._maxLevel=Math.max(this._maxLevel,r.level+1)}}}getPage(e){return this._nodePages[N(e,this.nodesPerPage)]}getNodeInternal(e){const i=this.getPage(e);return t(i)?null:i.nodes[x(e,this.nodesPerPage)]}addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const r=this.getParent(s),n=e(r)?r.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?n+1:n);const{lodMetric:a,maxError:l}=w(t.lodSelection),h=i(this.getNodeInternal(s));return h.node=new d(t.id,s,o(t.mbs),h.childCount,n,t.resources,t.version,a,l,t.numFeatures),t.obb&&(h.node.serviceObb=u(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}makeRefNode(t,i){const s=this._nodePages[0],r=s.nodes.length;return s.nodes.push(new c(0,0,v(this._visibilityCacheVersion),t,null)),this.nodeCount++,s.parents.push(i),t.renderMbs[3]=-1,e(t.serviceObbInRenderSR)&&(t.serviceObbInRenderSR.halfSize[0]=-1),r}populateChildren(e,t){const s=i(this.getNodeInternal(e)),r=i(this.getPage(e));s.childOffset=r.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this.makeRefNode(t[i],e);r.children.push(s)}}getNode(t){const i=this.getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this.forAllNodes(((s,r)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=r)})),i}getNodeById(e){const t=this.getIndexById(e);return t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this.getPage(e.index);if(t(s))return-1;const r=s.nodes[x(e.index,this.nodesPerPage)];return s.children[r.childOffset+i]}getParentIndex(t){const i=this.getPage(t);return e(i)?i.parents[x(t,this.nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this.getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this.rootIndex)}get size(){return this.nodeCount}invalidateVisibilityCache(){this._visibilityCacheVersion=b(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this.getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=v(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this.getNodeInternal(t);e(i)&&(_(i),this.invalidateNodeVisibilityCacheInternal(i))}invalidateGeometryVisibility(t){const i=this.getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,i.node.renderMbs[3]=-1,e(i.node.serviceObbInRenderSR)&&(i.node.serviceObbInRenderSR.halfSize[0]=-1))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}isNodeVisible(i){const s=this.getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(!y(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,r=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&2===s.filterImpact){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):0}const n=e(i)&&1===s.filterImpact,o=!(e(i)&&2===i.imModificationImpact)&&(!r||this.viewportQueries.isNodeVisible(r))&&!n;return s.visibilityCache=p(o,this._visibilityCacheVersion),o}return P(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this.getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||4!==i.node.imModificationImpact))||this.viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,r,n,o,a){const d=this.getPage(s);if(t(d)||0===r.childCount)return;const l=r.childOffset+r.childCount,h=new Array;for(let t=r.childOffset;t<l;++t){const i=d.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,n),a.coverage+=o):this._traverseCoverage(t,e,n+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this.getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(y(i.useAsHole,this._version))return P(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const r=s.delta*s.coverage<=.5;return i.useAsHole=p(r,this._version),r}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=b(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this.forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=4,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this.forAllNodes((t=>{if(e(t)){t.filterImpact=2;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,r,n){if(!this._dirty)return;this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s,this._missing),m.clear();let o=!0;const a=new C,d=new C,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,c,g)=>{if(t(c)){let e=this.entryPriority(u);e===1/0&&(e=this.entryPriority(g));const t=N(u,this.nodesPerPage);return m.set(t,Math.max(e,m.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=c.node;if(this._updateNodeFeatureEstimate(f,d),t(f)){const e=this.entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),m.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const _=i(this.getPage(u));if(0===this._missing.length&&0===this.nodesPerPage)for(let t=0;t<c.childCount;t++){const i=_.children[c.childOffset+t],s=this.getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(m.set(i,this.entryPriority(i)),this._prefetch.push(i))}if(f.failed||!f.resources.hasFeatureData)return;if(h.add(f.id),this._isLoaded(u)){if(a.known+=f.memory,++a.knownNodes,this._isSelected(f)?c.childCount>0&&(o=!1):(a.unremoved+=f.memory,o=!1),this._needsUpdate(f)){const e=this.entryPriority(u);m.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(f.memory&&(a.known+=f.memory,++a.knownNodes),!this._isSelected(f))return void(this._isReloading(u)&&this._updates.remove.push(u));if(c.childCount>0&&(o=!1),f.memory?(a.missing+=f.memory,a.known+=f.memory,++a.knownNodes):++a.missingNodes,s.indexOf(f.index)>=0)return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this.entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==f.index)));if(!r.done&&this._enable(f))return void r.madeProgress();const v=this.entryPriority(u);m.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&n&&e(f)&&4===f.imModificationImpact&&l.push(u)};this.traverseVisible(u);const c=this._updates.add;c.length>0&&this.layerHasModifications&&(l.length>0&&n(l),c.filterInPlace((e=>{const i=this.getNodeInternal(e),s=t(i)||t(i.node)||2!==i.node.imModificationImpact;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>m.get(e)-m.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=m.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>m.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>m.get(e)-m.get(t))),this._updates.update.sort(((e,t)=>m.get(e)-m.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,m.clear()}checkFeatureTarget(e,t){const i=this.viewportQueries.updateScreenSpaceErrorBias(t);let s=t,r=t,n=i,o=10;for(;o--;){const i=new C;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;n=s,s=.5*(s+r)}else r=s,s=.5*(s+n)}return this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=b(this._version),this.viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)&&s.node,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>m.get(e)-m.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this.nodesPerPage?this._loadNode(e.pop()):this.loadPage(e.pop());return!0}isLoading(){return this._indexMissing>0}getIndexLoading(){return this._loading.size}getIndexMissing(){return this._indexMissing}getUnloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&y(i.version,this._version))return i;const s=this.viewportQueries.getLodLevel(e),r=this.viewportQueries.hasLOD(e);let n=!0;if(r){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);n=e&&s>e.lodLevel}else n=s>0}else n=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=n,i.version=p(!0,this._version),i):(i=new l(r,n,s,p(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this.getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const n=s.id,o=this.urlPrefix+n,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this.streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(n,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this.addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),r(t)||(this.logger.error(\"#loadNode()\",this.logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this.logger.error(\"#validateNode()\",this.logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this.logger.warn(\"#validateNode()\",this.logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this.logger.warn(\"#validateNode()\",this.logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:null,r=t=>{if(null==t)return null;const i=t=>this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this.logger.error(\"#validateNode()\",this.logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,r=new a(`${t.id}`,t.mbs);return r.serviceObb=s,r.visibilityObb=this._computeVisibilityObb(r),r},n=Array.isArray(t.children)?t.children.map(r).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:n,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:null,texture:t.textureData&&t.textureData.length>0?e:null,geometry:null!=t.geometryData?e:null},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this.forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}entryPriority(i){const s=this.getNodeInternal(i),r=this.getParentIndex(i);if(t(s)||r<0&&null==s.node)return r<0?1/0:this.entryPriority(r);let n=0;if(s.node&&r>=0){const e=this._nodeTraversalState.get(r);null!=e&&(n=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this.viewportQueries.distToPOI(s.ref):e(s.node)?this.viewportQueries.distToPOI(s.node):0;return-a-n*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this.getNodeInternal(this.rootIndex);t(i)?e(this.rootIndex,null,null):this._traverseVisible(this.rootIndex,-1,i,e)}_traverseVisible(t,s,r,n){if(r.node&&0===r.childCount)return void(this.isGeometryVisible(t)&&n(t,r,s));if(!this.isNodeVisible(t))return;if(n(t,r,s),null==r.node)return;const o=this.nodeTraversalState(r.node);if(o.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this.getPage(t));for(let i=0;i<r.childCount;i++){const s=a.children[r.childOffset+i],o=this.getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,n):n(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,r=this.getNodeInternal(s);e(r)&&this._traverseChildren(s,r,i)}_traverseChildren(i,s,r){const n=this.getPage(i);if(t(n))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=n.children[t],s=this.getNodeInternal(i);e(s)&&e(s.node)&&r(s.node)&&this._traverseChildren(i,s,r)}}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}getPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}updateElevationInfo(e){this.forAllNodes(_),this.viewportQueries.updateElevationInfo(e)}forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this.nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this.addNode(e,t)}}}const m=new Map;class f{constructor(){this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e,t){this.add.clear(),this.update.clear(),this.cancel=e,this.missing=t}}function _(t){e(t.node)&&(t.node.renderMbs[3]=-1,e(t.node.serviceObbInRenderSR)&&(t.node.serviceObbInRenderSR.halfSize[0]=-1)),e(t.ref)&&(t.ref.renderMbs[3]=-1,e(t.ref.serviceObbInRenderSR)&&(t.ref.serviceObbInRenderSR.halfSize[0]=-1))}function v(e){return h(e,-2)}function b(e){return h(e,2)}function p(e,t){return t+(e?1:0)}function y(e,t){return(-2&e)===t}function P(e){return 1==(1&e)}function N(e,t){return 0===t?0:e/t|0}function x(e,t){return 0===t?e:e%t}const I=[[\"maxScreenThreshold\",1],[\"screenSpaceRelative\",2],[\"removedFeatureDiameter\",3],[\"distanceRangeFromDefaultCamera\",4]];function w(e){if(e)for(let t=0;t<e.length;t++)for(const i of I)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:0,maxError:0}}class C{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function M(e){return Math.sqrt(e*(4/Math.PI))}export{g as I3SIndex,w as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";class o{constructor(e){this.layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,s,o){this._maxLodLevel=o.maxLodLevel,this._index=s,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const s=this._index.nodeTraversalState(i);return!!this.isChosenMaxLOD(s)||!!s.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this.layerView.view.resourceController.memoryController.usedMemory,s=Math.max(0,Math.floor(10*(i-1)));t.clear(),this._lodGlobalHandling(this._index.rootNode,s,!1);const o=t.length;this._removeNodes(t,e);const d=t.length<o;return 0!==t.length&&(this._lodGlobalDirty=!0),t.clear(),d}_lodGlobalHandling(s,o,d){if(e(s))return!1;const l=s.index,n=this._index,r=this.layerView,a=n.nodeTraversalState(s),h=this.isChosenMaxLOD(a),u=r.isNodeLoaded(l),c=r.nodeCrossfadingEnabled;if(c&&u&&h){const e=!d&&this.hasNoVisibleChildren(s);r.fadeNode(l,0,!e)}const x=u&&(!r.isNodeFullyFadedIn||r.isNodeFullyFadedIn(l));if(u&&(r.updateNodeState(l,h?1:0),h))return x&&this._removeChildrenRecursive(s),x;const _=s.childCount>0;let L=_;if(_)for(let e=0;e<s.childCount;e++){const t=n.getChildIndex(s,e),l=n.getNode(t);if(i(l)){!(!n.isGeometryVisible(t)||this._lodGlobalHandling(l,o,d||x))&&this._isNodeInScaleBounds(l)&&(L=!1)}else n.isNodeVisible(t)&&(L=!1)}const N=u&&!h&&(L||t.length<o);N&&t.push(l),!c||N||!u||d||L||r.fadeNode(l,0,!1);const b=!s.resources.hasFeatureData;return L||x&&!N||b}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this.layerView.isNodeLoaded(e.index)||this.layerView.isNodeReloading(e.index))&&t.push(e.index),!0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(!this.layerView.isNodeLoaded(e.index)||(i=!1,!1)))),i}_childrenRequireLoading(e){let i=!1,s=!0;return this._index.traverseChildren(e,(e=>{if(!s||!this._index.isNodeVisible(e.index))return!1;const o=this._index.nodeTraversalState(e);return this.isChosenMaxLOD(o)&&this._index.isGeometryVisible(e.index)&&(i=!0),!this.layerView.isNodeLoaded(e.index)||(s=!1,!1)})),s&&i}isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const t=new s({deallocator:null});export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{applySome as e,isSome as t}from\"../../../../../core/maybe.js\";class r{constructor(t,r){this._textureRep=t,this._textureId=r,this._textureRef=e(this._textureId,(e=>this._textureRep.acquire(e)))}dispose(){this._textureRef=e(this._textureId,(e=>{this._textureRep.release(e)}))}bind(e,r,i){if(t(this._textureRef)){const t=this._textureRef.glTexture;e.bindTexture(t,r),e.setUniform2f(i,t.descriptor.width,t.descriptor.height)}}}export{r as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{clamp as a,isPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as t}from\"../../../../core/maybe.js\";import{RenderTexture as s}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as n}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as l}from\"../../webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{getEllipsoidMode as i}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Texture as c}from\"../../webgl-engine/lib/Texture.js\";function u(e,a){const r=new Map,s=(e,a)=>{if(t(e))return-1;if(r.has(e.id)){const o=r.get(e.id);return o.usage|=a,o.id}const o=r.size;return r.set(e.id,{id:o,usage:a}),o},l=a.pbrMetallicRoughness,i=l&&l.baseColorFactor,c=a.emissiveFactor,u=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!l||null==l.metallicRoughnessTexture&&1===l.roughnessFactor&&(1===l.metallicFactor||0===l.metallicFactor)),g=u?n[0]:l?l.metallicFactor:1,p=u?n[1]:l?l.roughnessFactor:1,h=\"mask\"===a.alphaMode?33:1,f={baseColorFactor:i?[i[0],i[1],i[2],i[3]]:[1,1,1,1],baseColorTextureId:s(l&&l.baseColorTexture,h),metallicRoughnessTextureId:s(l&&l.metallicRoughnessTexture,2),metallicFactor:g,roughnessFactor:p},x={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?0:\"back\"===a.cullFace?2:\"front\"===a.cullFace?1:void 0,normalTextureId:s(a.normalTexture,4),emissiveTextureId:s(a.emissiveTexture,16),occlusionTextureId:s(a.occlusionTexture,8),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:f,wrapTextures:!1,hasParametersFromSource:u},b=[];return r.forEach((({usage:a},r)=>{const t=o(e)&&e[r]&&e[r].formats,s=t?m(t.map((({name:e,format:a})=>({name:e,encoding:d[a]})))):[];b.push({id:r,usage:a,encodings:s})})),{material:x,textures:b}}function m(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const d={ktx2:1,basis:2,dds:4,png:8,jpg:16,\"ktx-etc2\":32},g={[c.KTX2_ENCODING]:2,[c.BASIS_ENCODING]:2,[c.DDS_ENCODING]:4,\"image/png\":8,\"image/jpg\":16,\"image/jpeg\":16,\"image/ktx\":32};function p(e){const r=e&&e.materialDefinitions?Object.keys(e.materialDefinitions)[0]:null,o=e&&e.textureDefinitions?Object.keys(e.textureDefinitions)[0]:null,t=r&&e.materialDefinitions[r],s=o&&e.textureDefinitions[o],n=h();if(null!=t){const e=t.params;e.diffuse&&(n.metallicRoughness.baseColorFactor=[e.diffuse[0],e.diffuse[1],e.diffuse[2],1]),null!=e.doubleSided&&(n.doubleSided=e.doubleSided,n.cullFace=e.doubleSided?0:2),\"none\"!==e.cullFace&&\"front\"!==e.cullFace&&\"back\"!==e.cullFace||(n.cullFace=\"none\"===e.cullFace?0:\"back\"===e.cullFace?2:1),e.transparency&&(n.metallicRoughness.baseColorFactor[3]=a(1-e.transparency,0,1)),(e.useVertexColorAlpha||n.metallicRoughness.baseColorFactor[3]<1)&&(n.alphaMode=\"blend\")}const l=[];if(null!=s){const e=0;!s.wrap||\"repeat\"!==s.wrap[0]&&\"repeat\"!==s.wrap[1]||(n.wrapTextures=!0);let a=1;\"rgba\"===s.channels&&(n.alphaMode=\"blend\",a|=32);const r=s.images.length-1,o=s.images[r],t=e=>e&&e.split(\"/\").pop(),i=Array.isArray(s.encoding)?m(s.encoding.map(((e,a)=>({name:t(o.href[a]),encoding:g[e]||0})))):[{name:t(o.href),encoding:g[s.encoding]||0}];l.push({id:e,usage:a,encodings:i}),n.metallicRoughness.baseColorTextureId=e}return{material:n,textures:l}}const h=()=>({alphaMode:\"opaque\",alphaCutoff:l,doubleSided:!0,cullFace:0,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function f(e,a,o,s){if(t(e)||null==e.data)return null;const n=e.data,l=!(n instanceof HTMLImageElement)||r(n.width)&&r(n.height),i=s.renderingContext.parameters.maxMaxAnisotropy,u=o&&!s.capabilities.shaderTextureLOD?1:i,m=l&&!e.downsampled&&u>1,d=o||!a.wrapTextures?x:b,g=I(e.encoding),p=1&e.usage?\"opaque\"===a.alphaMode?3:4:3;return new c(n,{mipmap:m,maxAnisotropy:u,encoding:g,wrap:d,components:p,noUnpackFlip:!0})}const x={s:33071,t:33071},b={s:10497,t:10497};function F(e,r,o,t,n,c){const u=c.rendererTextureUsage,m=e=>w(t,o,e&u),d=r.metallicRoughness.baseColorFactor,g=a(r.metallicRoughness.baseColorFactor[3],0,1);e.baseColor=[d[0],d[1],d[2],g],e.hasParametersFromSource=!!r.hasParametersFromSource,e.usePBR=c.usePBR,e.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],e.emissiveFactor=r.emissiveFactor,e.isIntegratedMesh=c.isIntegratedMesh,e.alphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:l,e.alphaDiscardMode=\"opaque\"===r.alphaMode?1:\"mask\"===r.alphaMode?2:3;const p=m(33);p&&(e.baseColorTexture=new s(n,p));const h=m(2);h&&(e.metallicRoughnessTexture=new s(n,h));const f=m(16);f&&(e.emissionTexture=new s(n,f));const x=m(8);x&&(e.occlusionTexture=new s(n,x));const b=m(4);b&&(e.normalTexture=new s(n,b)),e.commonMaterialParameters.slicePlaneEnabled=c.slicePlaneEnabled,e.commonMaterialParameters.doubleSided=r.doubleSided,e.commonMaterialParameters.cullFace=r.cullFace,e.ellipsoidMode=i(c.viewSpatialReference)}function T(a){const r=!!a.compressedTextureS3TC,o=!!a.compressedTextureETC,t=e(\"disable-feature:i3s-basis\")?0:3;return 24|(r?4|t:0)|(o?t:0)}function C(e,a){return e.find((e=>0!=(e.encoding&a)))}function w(e,a,r){if(t(e)||0===r)return null;for(let t=0;t<e.length;t++){const s=e[t];if(o(s)&&0!=(s.usage&r))return a[t].id}return null}function I(e){switch(e){case 1:return c.KTX2_ENCODING;case 2:return c.BASIS_ENCODING;case 4:return c.DDS_ENCODING;case 8:return\"image/png\";case 16:return\"image/jpeg\";case 32:return\"image/ktx\";default:return\"\"}}export{F as configureMaterial,f as createTexture,u as getMaterialAndTextures,p as getMaterialAndTexturesFromShared,T as getSupportedEncodings,C as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isMars as e,isMoon as r}from\"../../../../../../geometry/support/spatialReferenceUtils.js\";function t(t){return t&&e(t)?2:t&&r(t)?3:1}export{t as getEllipsoidMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import{isNone as o,isSome as n}from\"../../../../core/maybe.js\";import{eachAlways as s,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as u}from\"../../../../core/urlUtils.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as m}from\"./I3SMaterialUtil.js\";class h{constructor(e,t,r,i,o,n){if(this.streamDataController=t,this.logger=r,this.defaultGeometrySchema=i,this.requiredAttributes=o,this.options=n,this.logLayer=e,this.layerUrl=e.parsedUrl.path,this.geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this.materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}load(e,t,r){return this.streamDataController.request(e,t,r)}loadAttribute(e,t,r){const i=`${this.layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this.load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return s(t.map((t=>this.loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o)if(r[o].value)i[t[o].name]=r[o].value;else{if(a(r[o].error))throw r[o].error;this.logger.error(\"#loadAttributes\",this.logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}return i}))}async loadNodeData(r,i){const s=null!=this.requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this.requiredAttributes,i)):null,{bufferDefinition:a,bufferIndex:u}=p(this.geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this.loadGeometry(r.resources.geometry,u,i)):null,m=r.resources.hasSharedResource?await this.loadShared(r,i):null,h=this.materialAndTextures&&r.resources.materialDefinition>=0?this.materialAndTextures[r.resources.materialDefinition]:null!=m?c(m):null,x=h&&h.material,A=h&&h.textures,$=`${r.id}`,w=!l&&this.options.loadFeatureData,T=w?await this.loadFeatureData($,i):null,j=w?y(T):g(x),I=o(j)&&b(T),U=null!=A&&A.length>0?e(this.loadTextures(r,A,i)):null;let S=null,q=null;if(d){S=t(await d);const e=D(this.defaultGeometrySchema,m);q=f(a,e)}const v=U?t(await U):null,P=s?t(await s):{},k=P?{attributeData:P,loadedAttributes:this.requiredAttributes}:null;return n(j)?{geometryData:j,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:n(I)?{pointData:I,attributeDataInfo:k,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:v}:Promise.reject()}static addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>u(e,t))):e.hrefConcat=u(e.href,t)}static fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}loadShared(e,t){const r=`${this.layerUrl}/nodes/${e.resources.geometry}/shared`;return this.load(r,\"json\",t).then((e=>(h.fixTextureEncodings(e),h.addAbsoluteHrefTexture(e,r),e)))}loadTexture(e,t,r,i,o,n){let s=!1;return 4===o||1===o||2===o?this.load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this.load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=this.options.uncompressedTextureDownsamplingEnabled,o=this.options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=m(t.encodings,this.options.textureEncodings);if(null==n)return this.logger.error(\"#loadTextures\",this.logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this.layerUrl}/nodes/${s}/textures/${n.name}`;return this.loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}loadFeatureData(e,t){const r=`${this.layerUrl}/nodes/${e}/features/0`;return this.load(r,\"json\",t)}loadGeometry(e,t,r){const i=`${this.layerUrl}/nodes/${e}/geometries/${t}`;return this.load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function y(e){for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:null});return t}function D(e,t){if(!e||!t||!t.materialDefinitions)return e;const r=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[r].params.vertexRegions&&e.vertexAttributes.region&&delete(e=i(e)).vertexAttributes.region,e}function p(e,t){const i={bufferDefinition:null,bufferIndex:0};if(null==e||t.resources.geometryDefinition<0)return i;const o=t.resources.geometryDefinition>=0?e[t.resources.geometryDefinition].geometryBuffers:null;if(null==o)return i;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)i.bufferIndex=n,i.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!r(\"disable-feature:i3s-draco\"))return i.bufferIndex=n,i.bufferDefinition=e,i}return i}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{createAbortController as e,onAbortOrThrow as t,always as r}from\"../../../../core/promiseUtils.js\";class s{constructor(e,t){this.requester=e,this.apiKey=t,this.activeRequests=new Set}get busy(){return this.requester.busy}request(s,l,a){const o=e(),n=t(a,(()=>o.abort())),u={signal:o.signal,query:{token:this.apiKey}},i=this.requester.request(s,l,u),c={response:i,abortController:o,abortHandle:n};return this.activeRequests.add(c),r(i,(()=>{var e;c.abortController=null,null==(e=c.abortHandle)||e.remove(),c.abortHandle=null,this.activeRequests.delete(c)})),i}cancelAll(){this.activeRequests.forEach((e=>{var t,r;null==(t=e.abortController)||t.abort(),e.abortController=null,null==(r=e.abortHandle)||r.remove()})),this.activeRequests.clear()}}export{s as I3SStreamDataController,s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../core/maybe.js\";import{h as s,i,l as r,a as n,d as a,p as o,f as h,b as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4.js\";import{projectBoundingSphere as p}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as l}from\"../../../../geometry/projectionEllipsoid.js\";import{create as d,fromMatrix as _,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as M}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as v,extractExpressionInfo as D}from\"../graphics/featureExpressionInfoUtils.js\";import{transformObb as C,intersectBoundingBoxWithMbs as P}from\"./I3SUtil.js\";import{create as R,isVisible as S}from\"../../support/orientedBoundingBox.js\";const E=1e5;class L{constructor(t,e,s,i,r,n,a,o={}){this.indexSR=t,this._renderCoordsHelper=e,this.extent=r,this.elevationProvider=n,this.options=o,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this.screenspaceErrorBias=o.screenspaceErrorBias||1,this.progressiveLoadFactor=o.progressiveLoadFactor||1,this.updateCamera(s,i),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this.tmpPoint=f(0,0,0,t)}updateElevationInfo(t){null!=t?(this._elevationContext=M.fromElevationInfo(t),this._elevationContext.updateFeatureExpressionInfoContext(v(D(t,!1)))):this._elevationContext=null}updateCamera(t,e){this._useFrustumCulling=e,e&&_(t.viewMatrix,t.projectionMatrix,this._frustum),this._screenSizeFactor=1/(t.perScreenPixelRatio/2),this._camPos=t.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(t){this._poi=t}updateScreenSpaceErrorBias(t){const e=this.screenspaceErrorBias;return this.screenspaceErrorBias=t,e}updateExtent(t){this.extent=t}getRenderMbs(t){const e=t.renderMbs;return e[3]<0&&(u(e,t.mbs),this._elevationContext&&e[3]<E&&(this.tmpPoint.x=e[0],this.tmpPoint.y=e[1],this.tmpPoint.z=e[2],e[2]=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)),p(e,this.indexSR,e,this.engineSR)),e}getVisibilityObb(s){if(t(s.visibilityObb))return s.visibilityObb;const i=s.serviceObb;return e(i)||i.halfSize[0]<0?void 0:(s.serviceObbInRenderSR=this._computeRenderObb(i,s.serviceObbInRenderSR,s.mbs[3]),s.serviceObbInRenderSR)}_computeRenderObb(t,s,i){if(e(s)&&(s=R()),s.halfSize[0]<0){let e=0;this._elevationContext&&i<E&&(this.tmpPoint.x=t.center[0],this.tmpPoint.y=t.center[1],this.tmpPoint.z=t.center[2],e=g(this.tmpPoint,this.elevationProvider,this._elevationContext,this._renderCoordsHelper)-t.center[2]),C(t,this.indexSR,s,this.engineSR,e)}return s}isNodeVisible(e){const s=this.getRenderMbs(e);if(!this.isMBSinExtent(s))return!1;if(!this._useFrustumCulling)return!0;const i=this.getVisibilityObb(e);return t(i)?S(i,this._frustum):b(this._frustum,x(s))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const s=e.geometryObb;return t(s)?S(s,this._frustum):this.isNodeVisible(e)}isMBSinExtent(t){return!this.extent||0!==P(this.extent,t)}screenSpaceDiameterMbs(t,e){const i=this.getRenderMbs(t),r=Math.sqrt(s(i,this._camPos)),n=r-i[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:e/n*this._screenSizeFactor}calcCameraDistance(t){return this.calcCameraDistanceToCenter(t)-this.getRenderMbs(t)[3]}calcCameraDistanceToCenter(t){const e=this.getRenderMbs(t),s=i(e,this._camPos);return this._updateMinMaxDistance(s),s}calcAngleDependentLoD(t){const e=this.getRenderMbs(t),s=e[3],n=(Math.abs(e[0]*(e[0]-this._camPos[0])+e[1]*(e[1]-this._camPos[1])+e[2]*(e[2]-this._camPos[2]))/r(e)+s)/i(e,this._camPos);return Math.min(1,n)}hasLOD(t){return 0!==t.lodMetric}getDistancePlanarMode(t,e){const s=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2],n=s*s+i*i,a=e[3];if(n<=a*a)return Math.abs(r);const o=Math.sqrt(n)-a;return Math.sqrt(r*r+o*o)}getDistanceGlobeMode(t,e){const m=r(e),u=r(t)-m;n(this._tmp0,t,a(t,e)/o(t));const p=s(e,this._tmp0),l=e[3];if(p<=l*l)return Math.abs(u);{const s=n(this._tmp0,e,1/m),o=m,p=l*l/2/o,d=n(this._tmp1,s,o-p),_=t,b=h(this._tmp2,_,d),x=h(this._tmp2,b,n(this._tmp3,s,a(s,b))),f=c(this._tmp2,d,n(this._tmp2,x,l/r(x)));let g=i(_,f);if(u>=2e5){const t=h(this._tmp1,_,f);let e=a(t,s)/r(t);e<.08&&(e=1e-4),g/=e}return g}}getDistance(t,e){return this.engineSR===l(this.engineSR)?this.getDistanceGlobeMode(t,e):this.getDistancePlanarMode(t,e)}_updateMinMaxDistance(t){t>0?(this.minDistance=Math.min(this.minDistance,t),this.maxDistance=Math.max(this.maxDistance,t)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-t))}getLodLevel(t){if(0===t.lodMetric||!t.resources.hasFeatureData)return 0;if(0===t.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this.progressiveLoadFactor<1){const e=this.progressiveLoadFactor*this.screenspaceErrorBias,s=this.screenspaceErrorBias;return this.evaluateLODmetric(t,e)?this.evaluateLODmetric(t,s)?2:1:0}return this.evaluateLODmetric(t,this.screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(t,e){switch(t.lodMetric){case 2:{const s=this.getRenderMbs(t),i=this.getDistance(this._camPos,s),r=2*i/this._screenSizeFactor,n=i+s[3];return this._updateMinMaxDistance(n),t.maxError*e<=r}case 1:{let s=this.screenSpaceDiameterMbs(t,t.mbs[3]*e);return this.options.angleDependentLoD&&(s*=this.calcAngleDependentLoD(t)),s<t.maxError}case 3:return this.screenSpaceDiameterMbs(t,t.maxError)*e<10;case 4:return this.calcCameraDistance(t)>t.maxError*e}return!1}distToPOI(t){const e=this.getRenderMbs(t);return i(e,this._poi)-e[3]}distCameraToPOI(){return i(this._camPos,this._poi)}}export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import a from\"../../../core/Logger.js\";import{isSome as r,isNone as d}from\"../../../core/maybe.js\";import o from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{createAbortController as h,isAbortError as l}from\"../../../core/promiseUtils.js\";import{init as u}from\"../../../core/watchUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as m,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as x}from\"../dehydratedFeatures.js\";import f from\"../../support/PromiseQueue.js\";import{addTask as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as w}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import N from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import v from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as C}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as D,getIndexCrs as L,findIntersectingNodes as S}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import V from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{projectToBoundingBox as I}from\"../../../views/3d/support/extentUtils.js\";import{maxDownloadSlots as A}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as F,scaleBoundsPredicate as P}from\"../../../views/support/layerViewUtils.js\";import{noBudget as U}from\"../../../views/support/Scheduler.js\";const O=a.getLogger(\"esri.layers.graphics.controllers.I3SOnDemandController\"),M=100,q=2,G=1e4,Q=1e-4,j=1.2,T=500,B=1.5;let E=class extends(n(t)){constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._newLoadingNodes=new o({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new o,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new f,this._elevationUpdateNodes=new o({deallocator:null}),this._errorCount=0}get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(2);return new C(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(3);return new C(e,this.layer.apiKey)}get crsVertex(){return D(this.layer)}get crsIndex(){return L(this.layer)}get rootNodeVisible(){if(r(this._index)){const e=this._index.rootNode;if(r(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}initialize(){this._disableMemCache=!this.layerView.loadCachedGPUData||!this.layerView.addCachedGPUData,this._lodHandling=new N(this.layerView);const e=this.layerView.i3slayer;this.layer=e,this._defaultGeometrySchema=e.store.defaultGeometrySchema,this.disableIDBCache=s(\"disable-feature:idb-cache\"),\"fields\"in e&&(this._fields=e.fields,this._attributeStorageInfo=e.attributeStorageInfo),this.addResolvingPromise(Promise.all([this.layer.indexInfo,this.layer.when(),this.layerView.when()]).then((([t])=>{var i;if(this.destroyed||!this.layerView||this.layerView.destroyed)return;const s=this.layerView.view;this._setClippingArea(s.clippingArea);const a=this.layerView.view.resourceController;this._handles.add([u(s,\"pointsOfInterest.focus.renderLocation\",(e=>this._pointOfInterestChanged(e))),a.memoryController.events.on(\"quality-changed\",(()=>this._setCameraDirty())),u(this.layerView,\"suspended\",(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=a.scheduler.registerIdleStateCallbacks(t,i)})),b(this.layerView.view.resourceController.scheduler,{update:(e,t)=>this._frame(e,t),needsUpdate:()=>this.updating}),this.watch(\"uncompressedTextureDownsamplingEnabled\",(()=>this.restartNodeLoading())),this.watch([\"featureTarget\",\"fixedFeatureTarget\"],(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),s.state.watch(\"contentCamera\",(()=>this._setCameraDirty())),this.layer.watch(\"elevationInfo\",(()=>this._elevationInfoChanged())),this.layer.watch([\"minScale\",\"maxScale\"],(()=>this._scaleBoundsChanged())),this.layerView.watch(\"lodFactor\",(()=>this._setCameraDirty())),this.layerView.watch(\"availableFields?\",(()=>this._requiredFieldsChange())),this.layerView.watch(\"holeFilling\",(e=>r(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new V(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,s.elevationProvider,this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this.lod,angleDependentLoD:this.lod<.5}),this._index=new w(e,t,this.indexStreamController,this._viewportQueries,O,this.layerView.holeFilling,(e=>this.layerView.isNodeLoaded(e)),(e=>this.layerView.isNodeReloading(e)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,1)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(e=>this.layerView.computeVisibilityObb?this.layerView.computeVisibilityObb(e):null),null!=(i=this.layerView)&&i.computeNodeFiltering?e=>this.layerView.computeNodeFiltering(e):void 0);const d=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(d),this._startNodeLoading()}))),this._tmpPoint=x(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;r(t)&&i&&i.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);r(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,H.prune(),r(k)&&(k.hide(),k=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=z(e,i),a=z(t,i);return s>=0&&a>=0?{index:s,name:t[a].name,field:t[a],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();R(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();I(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){r(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),r(this._index)&&(this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),r(this._viewportQueries)&&r(this._index)&&(this._viewportQueries.updateExtent(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this.notifyChange(\"rootNodeVisible\"),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(d(i))return;const s=i.rootNode;if(d(s))return;const a=this._elevationUpdateNodes;a.clear(),S(e,t,s,this.crsIndex,i,(e=>a.push(e.index))),a.forAll((e=>{i.invalidateBoundingVolumeCache(e),e===s.index&&this.notifyChange(\"rootNodeVisible\")})),a.length&&this.restartNodeLoading()}getParentIndex(e){return r(this._index)&&this._index.getParentIndex(e)}_elevationInfoChanged(){r(this._index)&&this._index.updateElevationInfo(this.layer.elevationInfo),this._setCameraDirty()}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this.areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this.areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.scale,e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t,i){const s=this._index;if(d(s))return;const a=s.rootNode;!d(a)&&p(t,i,$,this.crsIndex)&&this._loadedNodeScales.forEach(((t,i)=>{const a=s.getNode(i);r(a)&&m($,a.mbs)&&this._loadedNodeScales.set(i,e)}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get areScaleBoundsActive(){const{minScale:e,maxScale:t}=F(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return d(this._index)||this.layerView.suspended?0:this._index.getUnloadedMemoryEstimate()*this.lodDropFactor}get indexDepth(){return r(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}_frame(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||d(this._index)?-1/0:(this._processLogError(e,t),this._index.getPriority())}_processLogError(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?O.error(\"Error during processing: \"+i):50===this._errorCount&&O.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){if(this._restartNodeLoading&&this._startNodeLoading(),null!=this._nodeLoader&&!d(this._index)){for(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this.isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this.isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t)));!e.done&&this._idleQueue.process();)e.madeProgress();e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.getIndexLoading(),t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating()}}_processIndex(e){if(d(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update([...this._loadingNodes.keys()],e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading()||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(d(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.isGraphics3D||d(this._index)||d(this._viewportQueries))return;const e=!this._index.isLoading(),t=this.featureTarget*this.baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.getIndexMissing()>T){if(this._featureLOD<=Q)return;this._featureLOD/=B,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=G||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this.lod,a=this._index.checkFeatureTarget(t,s);a!==s&&(this._featureLOD=a/this.baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*j||e&&i.estimate>t))return;if(this._featureLOD<=Q)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(G,Math.max(Q,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(d(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);r(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,0)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(d(this._index))return!1;let i=(this._isIdle?M:q)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());r(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(d(a)||2!==a.cacheState&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=q)&&(this._downloadingCount<A&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(r(this._index)?this._index.getIndexMissing():0)+3*(r(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.length>0||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||d(this._index)||d(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this.lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=K.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get lod(){return this._featureLOD*this.baseLOD}get baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return r(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){r(this._index)&&this._index.invalidateNodeVisibilityCache(e)}updateBoundingVolume(e){r(this._index)&&this._index.invalidateBoundingVolumeCache(e)}invalidateGeometryVisibility(e){r(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){r(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){if(r(this._index)){const e=r(this.layer.modifications)&&this.layer.modifications&&this.layer.modifications.length>0;this._index.imModificationsChanged(e)}this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e)||!this._isNodeInScaleBounds(e))&&(!!r(this._index)&&this._index.isGeometryVisible(e.index))}_shouldDropNode(e){if(d(this._viewportQueries))return!1;const t=this.lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||d(e)||d(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:!this.isMeshPyramid};this._nodeLoader=new v(this.layer,this.dataStreamController,O,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,1)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(d(t)||d(this._viewportQueries))return!1;H.clear(),this.layerView.getLoadedNodeIndices(H);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return H.filterInPlace((e=>{const i=t.getNode(e);return d(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),H.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(H,e,0),!(i&&this.lodDropFactor<1)&&(0===H.length||(H.clear(),!1))}markNodeToRemove(e){H.push(e)}removeMarkedNodes(){this._removeNodes(H,U,0)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(r(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),a=this._index;1===i&&this.layerView.nodeFadeoutEnabled&&r(a)&&a.isGeometryVisible(s)?this.layerView.fadeNode(s,1,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=h();this._updatingNodes.set(e.index,t);(R(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!l(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void O.error(\"already loading node \"+e.index);const t=h();this._loadingNodes.set(e.index,t);const i=()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()};this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then(i).catch((e=>{if(i(),!l(e))throw e}))}_loadAndAddNode(e,t){return 1===e.cacheState?this._loadUncached(e,t):this._loadCached(e,t).then((t=>{t||(e.cacheState=1,r(this._index)&&this._index.updates.add.push(e.index))})).catch((t=>{if(!l(t))throw e.cacheState=1,t}))}_enableFromGPUCache(e,t){if(this._disableMemCache||d(this._index))return!1;if(0===t&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return r(t)&&r(t.attributeInfo)&&R(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){r(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}_loadCached(e,t){if(this._enableFromGPUCache(e,1))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(d(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=2})).catch((t=>{if(!l(t))throw O.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,r(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&r(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=this.layerView.view.basemapTerrain.getScale(this._tmpPoint);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_isNodeInScaleBounds(e){if(!this.areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=F(this.layer);return P(t,i,s)}updateStats(e){e.index=r(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this.baseLOD),r(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){r(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),r(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;r(t)&&t.layerFilterChanged(e),this.requestUpdate()}};e([_({readOnly:!0})],E.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],E.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],E.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],E.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],E.prototype,\"crsVertex\",null),e([_({readOnly:!0})],E.prototype,\"crsIndex\",null),e([_()],E.prototype,\"screenSizeFactor\",void 0),e([_()],E.prototype,\"featureTarget\",void 0),e([_()],E.prototype,\"fixedFeatureTarget\",void 0),e([_()],E.prototype,\"layerView\",void 0),e([_()],E.prototype,\"layer\",void 0),e([_({})],E.prototype,\"updating\",void 0),e([_({})],E.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],E.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],E.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],E.prototype,\"rootNodeVisible\",null),E=e([c(\"esri.layers.graphics.controllers.I3SOnDemandController\")],E);const H=new o({deallocator:null});let k;function R(e,t){return r(e)&&e.length===t.length&&e.every((e=>z(t,e.name)>=0))}function z(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const K={factorIM:.2,factor3dObject:.05,distancePenalty:10},$=y();var J=E;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";class s extends e{constructor(){super(...arguments),this._map=new Map}clear(){if(this._map.size>0){const e=this.toArray();this._map.clear(),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._map.size}get(e){return this._map.get(e)}addMany(e){if(0===e.length)return;const t=new Set;for(let r=0;r<e.length;r++){const s=e[r],o=s.objectId,n=this._map.get(o);n?(t.add(o),s!==n&&(e[r]=n),++n.refCount):(s.refCount=1,this._map.set(o,s))}const s=t.size>0?e.filter((e=>!t.has(e.objectId))):e;s.length>0&&this.emit(\"change\",{added:s,removed:[]})}removeMany(e){const t=[];for(const s of e){const e=s.objectId,r=this._map.get(e);null!=r&&--r.refCount<=0&&(this._map.delete(e),t.push(s))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}removeManyByObjectId(e){const t=[];for(const s of e){const e=this._map.get(s);null!=e&&--e.refCount<=0&&(this._map.delete(s),t.push(e))}t.length>0&&this.emit(\"change\",{added:[],removed:t})}toArray(){return[...this._map.values()]}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._map.forEach((t=>e(t)))}}export{s as GraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import r from\"../../rest/support/Query.js\";async function t(r,t,o){t=t.clone(),r.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=u(r));const i=a(r),n=r.capabilities.query.supportsPagination;t.start=0,t.num=i;let s=null;for(;;){const a=await r.source.queryFeaturesJSON(t,o);if(e(s)?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=i}return s}function a(e){return u(e)*o(e)}function o(e){return e.capabilities.query.maxRecordCount||2e3}function u(e){return e.capabilities.query.supportsMaxRecordCountFactor?r.MAX_MAX_RECORD_COUNT_FACTOR:1}export{u as getMaxRecordCountFactor,a as getMaximumQuerySize,o as getMaximumRecordCount,t as queryAllJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{splitIntoChunks as t,remove as s}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as i,result as r}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as a,estimateNumberByteSize as n}from\"../../../../core/byteSizeEstimations.js\";import o from\"../../../../core/Logger.js\";import{isNone as c,unwrap as d,get as h,isSome as l}from\"../../../../core/maybe.js\";import{createAbortController as m,whenOrAbort as u}from\"../../../../core/promiseUtils.js\";import{formatNumber as g}from\"../../../../intl/number.js\";import{getMaximumQuerySize as b,queryAllJSON as p}from\"../../../../layers/support/featureQueryAll.js\";const f=o.getLogger(\"esri.views.3d.layers.i3s.I3SAttributeOverrides\");class y{constructor(e,t){this.layer=e,this.warnMaximumChangedObjectsExceeded=!1,this.changedObjectIds=new Set,this.pendingFetchAbortController=m(),this.interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=v,this.memCache=t.getMemCache(`${e.uid}-attribute-overrides`),this.pendingFetchChangedObjectIds=this.fetchChangedObjectIds(this.pendingFetchAbortController.signal),this.pendingFetchChangedObjectIds.then((()=>this.pendingFetchAbortController=null))}destroy(){this.layer=null,this.memCache.destroy(),this.memCache=null,this.pendingFetchAbortController&&(this.pendingFetchAbortController.abort(),this.pendingFetchAbortController=null),this.pendingFetchChangedObjectIds=null}createInteractiveEditSession(e){this.changedObjectIds.add(e),c(this.interactiveEditingSessions)&&(this.interactiveEditingSessions=[]);const t=this.interactiveEditingSessions,i=new O(e,{rollback:()=>{s(t,i),0===t.length&&(this.interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateValue(e,s,i)}});return t.unshift(i),i}async apply(e,t,s){if(c(t))return;const{loadedAttributes:i,attributeData:r}=t;if(c(i)||0===i.length||c(r))return;if(await u(this.pendingFetchChangedObjectIds,s),0===this.changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this.getOverridesFromCache(e,a,this.changedObjectIds),{objectIds:o,fieldNames:d}=n,h=await this.queryOverridesFromAssociatedLayer(o,d,s);c(h)||this.processOverridesFromAssociatedLayer(e,h,d,a)}updateValue(e,t,s){this.changedObjectIds.add(e),this.cacheValue(e,t,s)}cacheValue(e,t,s){this.memCache.put(this.getCacheKey(e,t),s,this.memCacheValueSize(s))}getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this.fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}fromCache(e,t){const s=this.fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this.getCacheKey(e,t);return this.memCache.get(i)}fromInteractiveEditingSession(e,t){if(!c(this.interactiveEditingSessions))for(const s of this.interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}getCacheKey(e,t){return`${e}-${t}`}async queryOverridesFromAssociatedLayer(e,s,r){if(0===e.length||0===s.length)return null;e=e.sort(((e,t)=>e-t)),this.warnMaximumChangedObjectsExceeded&&(this.warnMaximumChangedObjectsExceeded=!1,this.logMaximumObjectsExceededWarning());const a=d(this.layer.associatedLayer),n=a.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[a.objectIdField,...s],n.cacheHint=!0,n.objectIds=e;const o=b(a),c=e.length>o?t(e,o).map((e=>{const t=n.clone();return t.objectIds=e,i(p(a,t,{signal:r}))})):[i(p(a,n,{signal:r}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${g(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,f.warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=d(this.layer.associatedLayer).objectIdField,n=s.map((e=>r[e])),o=new Map(i.map((e=>[e.name,e.index]))),c=s.map((e=>o.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const d of t){const e=d.attributes[a];for(let t=0;t<s.length;t++){const i=c[t],r=h.get(e),a=d.attributes[s[t]];n[t][r]=a,this.cacheValue(e,i,a)}}}memCacheValueSize(e){return\"string\"==typeof e?a(e):n()}async fetchChangedObjectIds(t){var s,i,a;const n=this.layer;if(await n.load({signal:t}),this.changedObjectIds.clear(),c(n.associatedLayer)||null==(s=n.associatedLayer.capabilities)||null==(i=s.operations)||!i.supportsChangeTracking)return;const o=this.getFetchChangedObjectIdsServerGen();if(c(o))return null;const d=n.associatedLayer.layerId,m=await r(e(`${n.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`${d}`,returnUpdates:!0,returnDeletes:!1,returnInserts:!1,layerServerGens:JSON.stringify([{id:d,serverGen:o}])},timeout:j,signal:t})),u=m.ok&&null!=(a=m.value.data)&&a.edits?h(m.value.data.edits[0],\"objectIds\",\"updates\"):null;if(l(u)){const e=Math.min(this._maximumNumberOfEditOVerrides,u.length);e<u.length&&(this.warnMaximumChangedObjectsExceeded=!0);const t=u.sort(((e,t)=>e-t));for(let s=0;s<e;s++)this.changedObjectIds.add(t[s])}}getFetchChangedObjectIdsServerGen(){const e=this.layer;if(l(e.serviceUpdateTimeStamp)&&l(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return l(t)&&l(t.serverGens)&&l(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this.changedObjectIds),t=this.pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}}class O{constructor(e,t){this.objectId=e,this.options=t,this.updates=new Map,this.state=0}get(e){return this.updates.get(e)}set(e,t){this.isActive&&this.updates.set(e,t)}rollback(){this.isActive&&(this.state=2,this.options.rollback())}commit(){this.isActive&&(this.state=1,this.options.commit(this.updates),this.updates.clear())}get isActive(){return 0===this.state}}const j=1e4,v=5e4;export{y as I3SAttributeOverrides};\n"],"names":["constructor","t2","referenceCount","this","callbacks","runIndex","handle","registerTask","e","I3S_CONTROLLER","destroy","remove","needsUpdate","runTask","sort","e2","r2","numIndexLoading","numNodesLoading","s2","length","done","priority","update","n2","add","unshift","s","Map","get","r","set","delete","i2","id","mbs","renderMbs","imModificationImpact","t","h2","o2","c2","a2","index","childCount","level","resources","version","lodMetric","maxError","numFeatures","failed","hasModifications","cacheState","vertexCount","memory","nodeHasLOD","isChosen","lodLevel","childOffset","visibilityCache","ref","node","useAsHole","filterImpact","d2","l","u2","g2","m2","streamDataController","viewportQueries","logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","nodeCount","nodesPerPage","rootIndex","lodConversion","e3","urlPrefix","_loading","Set","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","Number","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","b","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","f","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","layerHasModifications","_layerHasFilter","logLayer","serviceUpdateTimeStamp","lastUpdate","_maxLodLevel","maxLodLevel","init","type","pageSize","M","addPage","N","rootPage","push","nodes","children","parents","makeRefNode","a","rootNode","_validateNode","addNode","loadPage","request","then","t3","catch","error","i","map","r3","u","obb","o","center","n","halfSize","f2","mesh","attribute","_2","geometry","b2","material","p2","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","y2","d","lodThreshold","featureCount","serviceObb","visibilityObb","c","v","updateParentsAndLevel","Array","i3","getPage","x","pop","getNode","getChildIndex","Math","max","getNodeInternal","populateChildren","getParent","I","metricType","w","lodSelection","serviceObbInRenderSR","s3","getIndexById","forAllNodes","getNodeById","getParentIndex","isLeaf","invalidateVisibilityCache","invalidateNodeVisibilityCache","invalidateNodeVisibilityCacheInternal","invalidateBoundingVolumeCache","invalidateGeometryVisibility","geometryObb","invalidateVisibilityObbs","traverse","isNodeVisible","y","p","P","isGeometryVisible","_traverseCoverage","delta","coverage","useNodeAsHole","prune","requestUpdate","imModificationsChanged","layerFilterChanged","clear","reset","m","C","traverseVisible","u3","c3","entryPriority","has","_updateNodeFeatureEstimate","known","knownNodes","unremoved","missing","missingNodes","indexOf","cancel","filter","madeProgress","v2","filterInPlace","_computeFeatureEstimate","data","back","size","checkFeatureTarget","updateScreenSpaceErrorBias","_updateFeatureEstimate","min","load","_load","prefetch","_loadNode","isLoading","getIndexLoading","getIndexMissing","getUnloadedMemoryEstimate","nodeTraversalState","getLodLevel","hasLOD","isArray","sharedResource","href","warn","geometryData","attributeData","some","featureData","hasOwnProperty","featureRange","t4","textureData","resetFailedNodes","distToPOI","_traverseVisible","o3","traverseChildren","_traverseChildren","updateStats","prio","features","getPriority","updateElevationInfo","_","h","sqrt","PI","layerView","_lodGlobalDirty","startNodeLoading","_index","_isNodeInScaleBounds","_removeNodes","shouldLoadNode","isChosenMaxLOD","_childrenRequireLoading","setLodGlobalDirty","lodGlobalHandling","requiresLODGlobalHandling","view","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","isNodeLoaded","nodeCrossfadingEnabled","hasNoVisibleChildren","fadeNode","x2","isNodeFullyFadedIn","updateNodeState","_removeChildrenRecursive","L2","l2","N2","isNodeReloading","_textureRep","_textureId","_textureRef","acquire","dispose","release","bind","glTexture","bindTexture","setUniform2f","descriptor","width","height","encoding","ktx2","basis","dds","png","jpg","g","KTX2_ENCODING","BASIS_ENCODING","DDS_ENCODING","alphaMode","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","emissiveFactor","metallicRoughness","baseColorFactor","baseColorTextureId","metallicRoughnessTextureId","metallicFactor","roughnessFactor","wrapTextures","hasParametersFromSource","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","capabilities","shaderTextureLOD","downsampled","usage","mipmap","maxAnisotropy","wrap","components","noUnpackFlip","rendererTextureUsage","baseColor","usePBR","mrrFactors","isIntegratedMesh","r$12","alphaDiscardMode","baseColorTexture","metallicRoughnessTexture","emissionTexture","occlusionTexture","normalTexture","commonMaterialParameters","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","compressedTextureS3TC","compressedTextureETC","find","defaultGeometrySchema","requiredAttributes","options","layerUrl","parsedUrl","path","geometryDefinitions","materialDefinitions","textureSetDefinitions","materialAndTextures","a3","pbrMetallicRoughness","emissiveTexture","forEach","formats","name","format","a4","encodings","textures","loadAttribute","key","loadAttributes","attributeStorageInfo","value","bufferDefinition","bufferIndex","geometryBuffers","compressedAttributes","loadGeometry","loadShared","Object","keys","textureDefinitions","params","diffuse","transparency","useVertexColorAlpha","channels","images","e4","split","A2","$2","w2","loadFeatureData","T2","j2","geometries","featureIds","featureDataPosition","position","I2","U","loadTextures","S2","q2","vertexRegions","vertexAttributes","region","D","P2","k2","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","Promise","reject","hrefConcat","substring","fixTextureEncodings","addAbsoluteHrefTexture","loadTexture","n3","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","all","textureEncodings","requester","apiKey","activeRequests","busy","abort","signal","query","token","response","abortController","abortHandle","cancelAll","indexSR","_renderCoordsHelper","extent","elevationProvider","_frustum","_useFrustumCulling","_poi","minDistance","maxDistance","_tmp1","_tmp2","_tmp3","_tmp0","screenspaceErrorBias","progressiveLoadFactor","updateCamera","engineSR","spatialReference","tmpPoint","_elevationContext","fromElevationInfo","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","setPointOfInterest","updateExtent","getRenderMbs","z","getVisibilityObb","_computeRenderObb","R","isMBSinExtent","S","se","screenSpaceDiameterMbs","_updateMinMaxDistance","MAX_VALUE","calcCameraDistance","calcCameraDistanceToCenter","calcAngleDependentLoD","abs","getDistancePlanarMode","getDistanceGlobeMode","p3","getDistance","evaluateLODmetric","angleDependentLoD","distCameraToPOI","O","getLogger","Q","E","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","layer","profile","store","lodType","createStreamDataRequester","L","_updateViewData","initialize","loadCachedGPUData","addCachedGPUData","_lodHandling","i3slayer","_defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","clippingArea","_pointOfInterestChanged","events","on","_setCameraDirty","_updateIdleState","_idleStateCallbacks","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","_frame","watch","state","_elevationInfoChanged","_scaleBoundsChanged","_requiredFieldsChange","_updateScaleHandles","_viewportQueries","V","crsIndex","renderCoordsHelper","contentCamera","fixedContentCamera","isGraphics3D","_clippingArea","elevationInfo","_getProgressiveLoadFactor","lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","modifications","_startNodeLoading","_tmpPoint","updateNodeModificationStatus","forAll","_nodeLoader","H","k","hide","_getRequiredAttributes","availableFields","objectIdField","field","renderSpatialReference","K","distancePenalty","updateClippingArea","notifyChange","_evaluateUpdating","updateElevationChanged","areScaleBoundsActive","basemapTerrain","_scaleUpdateHandler","_updateScaleInBoundingRect","scale","$","schedule","reschedule","minScale","maxScale","F","suspended","lodDropFactor","maxLevel","visible","_processLogError","_process","_removeInvisibleNodes","enabled","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","process","_prefetchIndex","dirty","pushArray","updates","featureEstimate","_get","_set","baseLOD","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","_hasNodeLoadToken","_cancelAllNodes","A","dataStreamController","pointsOfInterest","focus","renderLocation","memoryFactor","lodFactor","minQuality","updateVisibility","updateBoundingVolume","modificationsChanged","_shouldDropNode","supportedTextureEncodings","isMeshPyramid","isNodeLoading","getLoadedNodeIndices","markNodeToRemove","removeMarkedNodes","nodeFadeoutEnabled","getLoadedAttributes","resolve","getAttributeData","updateAttributes","_loadAndAddNode","_loadUncached","_loadCached","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","loadCachedNodeData","addCachedNodeData","loadNodeData","_getScale","getScale","detail","target","notifyLODUpdate","geometryFilterChanged","readOnly","prototype","constructOnly","dependsOn","every","toLowerCase","factorIM","factor3dObject","J","arguments","_map","toArray","emit","added","removed","addMany","objectId","refCount","removeMany","removeManyByObjectId","values","async","clone","supportsMaxRecordCountFactor","maxRecordCountFactor","supportsPagination","start","num","source","queryFeaturesJSON","concat","exceededTransferLimit","maxRecordCount","MAX_MAX_RECORD_COUNT_FACTOR","warnMaximumChangedObjectsExceeded","changedObjectIds","pendingFetchAbortController","interactiveEditingSessions","_maximumNumberOfEditOVerrides","memCache","getMemCache","uid","pendingFetchChangedObjectIds","fetchChangedObjectIds","createInteractiveEditSession","rollback","commit","updateValue","getOverridesFromCache","objectIds","fieldNames","queryOverridesFromAssociatedLayer","processOverridesFromAssociatedLayer","cacheValue","put","getCacheKey","memCacheValueSize","fromCache","from","fromInteractiveEditingSession","logMaximumObjectsExceededWarning","associatedLayer","createQuery","where","returnGeometry","outFields","cacheHint","reduce","ok","portalItem","loaded","portal","url","title","operations","supportsChangeTracking","getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","j","edits","serverGens","minServerGen","isActive"],"mappings":"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"}