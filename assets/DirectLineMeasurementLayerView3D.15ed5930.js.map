{"version":3,"file":"DirectLineMeasurementLayerView3D.15ed5930.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../../node_modules/@arcgis/core/views/3d/layers/analysis/DirectLineMeasurement/DirectLineMeasurementView.js","../../node_modules/@arcgis/core/views/3d/layers/DirectLineMeasurementLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import i from\"../../../../../core/Handles.js\";import{deg2rad as s,rad2deg as o,acosClamped as r}from\"../../../../../core/mathUtils.js\";import{destroyMaybe as a,isNone as n,unwrapOr as c}from\"../../../../../core/maybe.js\";import l from\"../../../../../core/Quantity.js\";import{whenOnce as p}from\"../../../../../core/watchUtils.js\";import{property as m}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as d}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reactionInit as h}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{i as u}from\"../../../../../chunks/vec3.js\";import{c as v}from\"../../../../../chunks/vec3f64.js\";import{geodesicLength as g}from\"../../../../../geometry/geometryEngine.js\";import f from\"../../../../../geometry/Polyline.js\";import{canProjectWithoutEngine as _,projectPointToVector as w,projectPointToWGS84ComparableLonLat as y}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as D,getReferenceEllipsoid as P,SphericalECEFSpatialReference as j,WGS84ECEFSpatialReference as z}from\"../../../../../geometry/projectionEllipsoid.js\";import{isSupported as A,geodesicLengths as b,inverseGeodeticSolver as E}from\"../../../../../geometry/support/geodesicUtils.js\";import{UnitNormalizer as M}from\"../support/UnitNormalizer.js\";import{getElevationAtPoint as k}from\"../../../support/ElevationProvider.js\";let R=class extends t{constructor(e){super(e),this._unitNormalizer=new M,this._handles=new i,this._tempStartPosition=v(),this._tempEndPosition=v(),this._tempCornerPosition=v()}initialize(){this._handles.add(p(this.view,\"ready\",(()=>this._initialize()),!0))}destroy(){this._handles=a(this._handles)}_initialize(){const e=this.view.spatialReference,t=D(e),i=t===j?z:t;this._sphericalPCPF=i;const s=_(e,i);this._unitNormalizer.spatialReference=s?i:e,this._handles.add([h((()=>({viewData:this.viewData,startPoint:this.layer.startPoint})),(({viewData:e,startPoint:t})=>{e.elevationAlignedStartPoint=this._applyElevationAlignment(t)})),h((()=>({viewData:this.viewData,endPoint:this.layer.endPoint})),(({viewData:e,endPoint:t})=>{e.elevationAlignedEndPoint=this._applyElevationAlignment(t)})),h((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e}))])}_applyElevationAlignment(e){if(n(e)||e.hasZ)return e;const t=e.clone();return t.z=c(k(this.view.elevationProvider,t),0),t}get _computedResult(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.viewData;if(n(e)||n(t))return null;const i=this._euclideanDistances(e,t),s=this._exactGeodesicDistanceAndAngle(e,t,i.horizontal.value);return{directDistance:i.direct,horizontalDistance:i.horizontal,verticalDistance:i.vertical,geodesicDistance:s.distance,geodesicAngle:s.angle}}_euclideanDistances(e,t){const i=e.clone();i.z=t.z;const s=this._tempStartPosition,o=this._tempEndPosition,r=this._tempCornerPosition,a=this.view.spatialReference,n=this._sphericalPCPF,c=_(a,n)?n:a;w(e,s,c),w(t,o,c),w(i,r,c);const p=u(s,o),m=u(r,o),d=Math.abs(t.z-e.z),h=e=>this._unitNormalizer.normalizeDistance(e),v=h(p),g=h(m),f=h(d);return{direct:new l(v,\"meters\"),horizontal:new l(g,\"meters\"),vertical:new l(f,\"meters\")}}_exactGeodesicDistanceAndAngle(e,t,i){const s=e.spatialReference,o=new f({spatialReference:s});o.addPath([e,t]);const r=s.isGeographic&&A(s)?b([o],\"meters\")[0]:s.isWebMercator?g(o,\"meters\"):void 0,{distance:a,angle:n}=r?{distance:r,angle:this._fallbackGeodesicAngle(r,s)}:this._fallbackGeodesicDistance(e,t,i);return{distance:new l(a,\"meters\"),angle:new l(n,\"degrees\")}}_fallbackGeodesicAngle(e,t){return e/P(t).metersPerDegree}_fallbackGeodesicDistance(e,t,i){if(y(e,G)){y(t,S);const e=s(G[0]),i=s(G[1]),a=s(S[0]),n=s(S[1]),c=Math.abs(a-e),l=r(Math.sin(i)*Math.sin(n)+Math.cos(i)*Math.cos(n)*Math.cos(c)),p=o(l),m={distance:0};return E(m,[G[0],G[1]],[S[0],S[1]]),{distance:m.distance,angle:p}}const a=e.spatialReference,n=i;return{distance:n,angle:this._fallbackGeodesicAngle(n,a)}}};e([m()],R.prototype,\"view\",void 0),e([m()],R.prototype,\"layer\",void 0),e([m()],R.prototype,\"viewData\",void 0),e([m()],R.prototype,\"_computedResult\",null),R=e([d(\"esri.views.3d.layers.analysis.DirectLineMeasurement/DirectLineMeasurementController\")],R);const G=v(),S=v();export{R as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(){const o=new t;o.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"width\",\"float\"),o.attributes.add(\"position\",\"vec3\"),o.attributes.add(\"normal\",\"vec3\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"auxpos1\",\"float\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vlength\",\"float\"),o.varyings.add(\"vradius\",\"float\"),o.vertex.code.add(e`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`),o.fragment.uniforms.add(\"outlineSize\",\"float\").add(\"outlineColor\",\"vec4\").add(\"stripeLength\",\"float\").add(\"stripeEvenColor\",\"vec4\").add(\"stripeOddColor\",\"vec4\");const r=1/Math.sqrt(2);return o.fragment.code.add(e`\n    const float INV_SQRT2 = ${e.float(r)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),o}var r=Object.freeze({__proto__:null,build:o});export{r as M,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{bindProjectionMatrix as e,bindView as t}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s,ShaderTechniqueConfiguration as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as p,OITBlending as l}from\"../lib/OrderIndependentTransparency.js\";import{Program as m}from\"../lib/Program.js\";import{M as h}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{makePipelineState as f,defaultDepthWriteParams as d,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class c extends i{constructor(r,e,t){super(r,e,t)}initializeProgram(r){const e=c.shader.get().build();return new m(r.rctx,e,a)}bindPass(r,t){e(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"width\",r.width),this.program.setUniform1f(\"outlineSize\",r.outlineSize),this.program.setUniform4fv(\"outlineColor\",r.outlineColor),this.program.setUniform1f(\"stripeLength\",r.stripeLength),this.program.setUniform4fv(\"stripeEvenColor\",r.stripeEvenColor),this.program.setUniform4fv(\"stripeOddColor\",r.stripeOddColor)}bindDraw(r){t(this.program,r),this.program.rebindTextures()}setPipelineState(r){const e=3===r,t=this.configuration;return f({blending:t.transparent?e?p:l(r):null,polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:d,colorWrite:u})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return 5}}c.shader=new o(h,(()=>import(\"./MeasurementArrow.glsl.js\")));class g extends n{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1,this.transparencyPassType=3}}r([s()],g.prototype,\"polygonOffsetEnabled\",void 0),r([s()],g.prototype,\"transparent\",void 0),r([s({count:4})],g.prototype,\"transparencyPassType\",void 0);export{c as MeasurementArrowTechnique,g as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{s as e,n as t,f as s,c as r,i,m as n}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as u,materialParametersDefaults as p}from\"../lib/Material.js\";import{MeasurementArrowTechniqueConfiguration as f,MeasurementArrowTechnique as l}from\"../shaders/MeasurementArrowTechnique.js\";class h extends u{constructor(e){super(e,d),this.techniqueConfig=new f}getTechniqueConfig(e){return this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig.transparent=this.params.stripeEvenColor[3]<1||this.params.stripeOddColor[3]<1||this.params.outlineColor[3]<1,this.techniqueConfig.transparencyPassType=e?e.transparencyPassType:3,this.techniqueConfig}dispose(){}getPassParameters(){return this.params}intersect(){}createBufferWriter(){return new x}getGLMaterial(e){return 0===e.output?new m(e):void 0}}class m extends c{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(l,this._material.getTechniqueConfig(e),this._technique)}beginSlot(e){return 3===e}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const d={width:32,outlineSize:.2,outlineColor:[1,.5,0,1],stripeLength:1,stripeEvenColor:[1,1,1,1],stripeOddColor:[1,.5,0,1],polygonOffset:!1,...p},g=a().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").f32(\"auxpos1\"),v=o(),C=o(),q=o(),y=o(),b=o();class x{constructor(){this.vertexBufferLayout=g}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 2*(e.indices.get(\"position\").length/2+1)}write(o,a,c,u){const p=a.vertexAttributes.get(\"position\").data,f=a.vertexAttributes.get(\"normal\").data,l=p.length/3,h=a&&a.indices&&a.indices.get(\"position\");h&&h.length!==2*(l-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const m=v,d=C,g=q,x=y,P=b,w=o.transformation,T=o.invTranspTransformation,j=c.position,A=c.normal,L=c.uv0;let M=0;for(let v=0;v<l;++v){const o=3*v;if(e(m,p[o],p[o+1],p[o+2]),v<l-1){const i=3*(v+1);e(d,p[i],p[i+1],p[i+2]),e(P,f[i],f[i+1],f[i+2]),t(P,P),s(g,d,m),t(g,g),r(x,P,g),t(x,x)}const a=i(m,d);w&&T&&(n(m,m,w),n(d,d,w),n(x,x,T));const c=u+2*v,h=c+1;j.setVec(c,m),j.setVec(h,m),A.setVec(c,x),A.setVec(h,x),L.set(c,0,M),L.set(c,1,-1),L.set(h,0,M),L.set(h,1,1),v<l-1&&(M+=a)}const _=c.auxpos1;for(let e=0;e<2*l;++e)_.set(u+e,M)}}export{h as MeasurementArrowMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{applyOpacity as r}from\"../../../../core/mathUtils.js\";import{isNone as t,isSome as s}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{f as o}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{c as n}from\"../../../../chunks/vec4f64.js\";import{sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as l}from\"./Object3DVisualElement.js\";import d from\"../../webgl-engine/lib/GeometryUtil.js\";import{MeasurementArrowMaterial as c}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class p extends l{constructor(e){super(e),this._parameters=m,this._handles=null,this._origin=a(),this._originTransform=i(),this._arrowCenter=a(),this._renderOccluded=4,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._opacity=1,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameterValues({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameterValues({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this.opacity,{arrowStripeEvenColor:t,arrowStripeOddColor:s}=this._parameters,i=r(_,this._stripesEnabled?t:s,e);this._arrowMaterial.setParameterValues({stripeEvenColor:i})}}get opacity(){return this._opacity}set opacity(e){e!==this._opacity&&(this._opacity=e,this._updateArrowOpacity())}createExternalResources(){const{arrowStripeEvenColor:r,arrowStripeOddColor:t,arrowOutlineColor:s}=this._parameters,i=this._stripesEnabled?r:t;this._arrowMaterial=new c({outlineColor:s,stripeEvenColor:i,stripeOddColor:t,renderOccluded:this.renderOccluded,polygonOffset:!0}),this._handles=new e,this._handles.add(this.view.state.watch(\"camera\",(()=>{this.viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles.destroy(),this._handles=null}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(t(this._geometry)||t(this._geometry.startRenderSpace)||t(this._geometry.endRenderSpace))return;const r=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);e.addGeometry(r,this._arrowMaterial,this._originTransform),this.viewChanged()}_createArrowGeometry(e,r,t,s){const i=this.view.renderCoordsHelper,a=[],n=[],l=(e,r)=>{const s=h.get();o(s,e,t),a.push(s),n.push(r)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const t=h.get();i.worldUpAtPosition(this._arrowCenter,t),l(e,t),l(r,t)}else{s.eval(.5,this._arrowCenter);const e=this._parameters.arrowSubdivisions+1&-2;for(let r=0;r<e;++r){const t=r/(e-1),o=h.get(),a=h.get();s.eval(t,o),i.worldUpAtPosition(o,a),l(o,a)}}return d.createPolylineGeometry(a,n)}geometryChanged(){this.recreateGeometry()}viewChanged(){if(this.view.ready&&this.attached&&s(this._geometry)){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameterValues({width:this._parameters.arrowWidth*e})}}_updateArrowOpacity(){const e=this.opacity,{arrowStripeEvenColor:t,arrowStripeOddColor:s,arrowOutlineColor:i}=this._parameters,o=r(_,this._stripesEnabled?t:s,e),a=r(w,i,e),n=r(u,s,e);this._arrowMaterial.setParameterValues({stripeEvenColor:o,outlineColor:a,stripeOddColor:n})}}const m={arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128},_=n(),w=n(),u=n();export{p as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{i,t as r,f as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,f as n,g as u,b as h}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{c}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class y extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=d(),this._up=d(),this._right=d(),this._renderOccluded=4,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){c(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){c(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new g(this.quadMaterialParameters),this._outlineMaterial=new O(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const a=this.view.state.camera,o=this._size*a.computeScreenPixelSizeAt(this._position),l=Math.min(this._maxSize,o);i(z),r(z,z,this._position),s(z,z,[l,l,l]),t(e)&&(e.transformation=z)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}const z=a();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../intl.js\";import t from\"../../../../../core/Accessor.js\";import i from\"../../../../../core/Handles.js\";import{nextHighestPowerOfTen as s,applyOpacity as n,sign as a,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{isSome as o,isNone as l,destroyMaybe as c}from\"../../../../../core/maybe.js\";import{formatDecimal as h,formatDMS as d,formatImperialLength as u,formatImperialVerticalLength as m,formatMetricLength as g,formatMetricVerticalLength as p}from\"../../../../../core/quantityFormatUtils.js\";import{createRenderScreenPointArray3 as _,createRenderScreenPointArray as v}from\"../../../../../core/screenUtils.js\";import{preferredImperialLengthUnit as b,convertUnit as L}from\"../../../../../core/unitUtils.js\";import{whenOnce as w}from\"../../../../../core/watchUtils.js\";import{property as y}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as f}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{autorun as V,reactionInit as S}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{h as E}from\"../../../../../chunks/vec2.js\";import{a as z,b as j}from\"../../../../../chunks/vec3.js\";import{c as P}from\"../../../../../chunks/vec3f64.js\";import{f as A}from\"../../../../../chunks/vec4f32.js\";import{c as D}from\"../../../../../chunks/vec4f64.js\";import{getReferenceEllipsoid as M}from\"../../../../../geometry/projectionEllipsoid.js\";import{LabelVisualElement as O,mirrorPosition as C}from\"../../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as G}from\"../../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as x}from\"../../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as H}from\"../../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as k,EuclideanSegment as R}from\"../../../interactive/visualElements/support/Segment.js\";import{screenSpaceTangent as T}from\"../support/viewUtils.js\";import{createStipplePatternSimple as U}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as F}from\"../../../../../intl/locale.js\";import{fetchMessageBundle as W}from\"../../../../../intl/messages.js\";let Q=class extends t{constructor(e){super(e),this._params={...I},this._handles=new i,this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=P(),this._endPosition=P(),this._cornerPosition=P(),this._startPositionAtSeaLevel=P(),this._endPositionAtSeaLevel=P(),this._state=0,this._segmentLabelDisplayedMeasurement=1,this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.viewMode=0,this.visualizedMeasurement=0,this.actualVisualizedMeasurement=1,this.visualElementOrientation=0,this.triangleCollapseRatioThreshold=.03}get _geodesicDistanceExceeded(){var e;const t=this.layerView.result;return o(t)&&(null==(e=t.horizontalDistance)?void 0:e.value)>this.layer.geodesicDistanceThreshold}get ready(){return 1===this._state}get visible(){return this.layerView.visible&&!this.layerView.suspended}get allowVisualElementsOrientationChange(){return l(this._triangleOrientationOverride)}set allowVisualElementsOrientationChange(e){l(this._triangleOrientationOverride)!==e&&(l(this._triangleOrientationOverride)?this._triangleOrientationOverride=this._getActualVisualElementsOrientation():this._triangleOrientationOverride=null)}get labels(){const e=2===this.actualVisualizedMeasurement;return{direct:this._segmentLabel,horizontal:e?this._segmentLabel:this._horizontalLabel,vertical:this._verticalLabel}}get testData(){var e;return{labels:this.labels,stripeLength:null==(e=this._segmentVisualElement)?void 0:e.stripeLength}}initialize(){this._handles.add(w(this.view,\"ready\",(()=>this._initialize()),!0))}_initialize(){switch(this._state){case 1:throw new Error(\"invalid state\");case 2:return}const e=this._params,t={attached:!0,view:this.view};this._segmentVisualElement=new x({...t,geometry:null,renderOccluded:4}),this._triangleVisualElement=new G({...t,width:e.triangleLineWidth,color:e.triangleColor,renderOccluded:4}),this._rightAngleQuad=new H({...t,color:B,renderOccluded:4});const i={...t,polygonOffset:!0,stippleIntegerRepeats:!1,renderOccluded:4};this._projectedGeodesicLine=new G({...i,width:e.geodesicProjectionLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:U(e.guideStippleLengthPixels)}),this._geodesicStartHint=new G({...i,width:e.guideLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:U(e.guideStippleLengthPixels)}),this._geodesicEndHint=new G({...i,width:e.guideLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:U(e.guideStippleLengthPixels)}),this._segmentLabel=new O({...t,fontSize:e.direcLabelFontSize}),this._verticalLabel=new O({...t,fontSize:e.verticalLabelFontSize}),this._horizontalLabel=new O({...t,fontSize:e.horizontalLabelFontSize}),this._handles.add([V((()=>this._updateGeometryAndViewMode())),V((()=>this._updateVisualElementVisibility())),S((()=>this.layerView.fullOpacity),(()=>this._updateVisualElementsOpacity())),V((()=>this._updateLabelText())),V((()=>this._updateLabelVisibility())),V((()=>this._updateSegmentStripeLength())),F((async()=>this._updateMessageBundle()))]),this._state=1,this._updateMessageBundle()}destroy(){2!==this._state&&(this._handles=c(this._handles),this._segmentVisualElement=c(this._segmentVisualElement),this._triangleVisualElement=c(this._triangleVisualElement),this._rightAngleQuad=c(this._rightAngleQuad),this._projectedGeodesicLine=c(this._projectedGeodesicLine),this._geodesicStartHint=c(this._geodesicStartHint),this._geodesicEndHint=c(this._geodesicEndHint),this._segmentLabel=c(this._segmentLabel),this._verticalLabel=c(this._verticalLabel),this._horizontalLabel=c(this._horizontalLabel),this.set(\"view\",null),this._state=2)}async whenReady(){await w(this,\"ready\")}_updateVisualElementVisibility(){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,this.visible)switch(this.viewMode){case 0:break;case 1:this._segmentVisualElement.visible=!0;break;case 2:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case 3:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode(){const e=this.view.renderCoordsHelper,{elevationAlignedStartPoint:t,elevationAlignedEndPoint:i}=this.layerView;if(l(t)||l(i)||t.equals(i)){this.viewMode=0;const e=this.visualizedMeasurement,t=0===e;return void(this.actualVisualizedMeasurement=t?1:e)}e.toRenderCoords(t,this._startPosition),e.toRenderCoords(i,this._endPosition);const s=this._getActualVisualElementsOrientation(),n=this._updateActualVisualizedMeasurement();this.viewMode=this._computeViewMode(n);let a=this._startPosition,r=this._endPosition;const o=1===s?1:-1,c=o*(e.getAltitude(r)-e.getAltitude(a));c<0&&(a=this._endPosition,r=this._startPosition);const h=2===n?new k(this._startPosition,this._endPosition,e.spatialReference):new R(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=h,this._updateSegmentStripeLength(),this._segmentLabelDisplayedMeasurement=n,this.viewMode){case 1:this._updateSegment(h,s);break;case 2:this._updateSegmentAndTriangle(h,s,a,r,o,c);break;case 3:this._updateSegmentAndProjection(s)}}_updateSegment(e,t){this._segmentLabel.anchor=1===t?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle(e,t,i,s,n,a){const r=this.view,o=r.renderCoordsHelper,l=r.state.camera,c=this._cornerPosition;o.worldUpAtPosition(i,c),z(c,c,n*Math.abs(a)),j(c,c,i),this._triangleVisualElement.geometry=[[[i[0],i[1],i[2]],[c[0],c[1],c[2]],[s[0],s[1],s[2]]]],this._rightAngleQuad.geometry={previous:i,center:c,next:s};const h=new R(i,c),d=new R(c,s),u=q(i,s,c,t,l);this._segmentLabel.anchor=u.segment,this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:h,sampleLocation:\"center\"},this._verticalLabel.anchor=u.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=u.horizontal}_updateSegmentAndProjection(e){const t=this.view.renderCoordsHelper;t.setAltitude(this._startPositionAtSeaLevel,0,this._startPosition),t.setAltitude(this._endPositionAtSeaLevel,0,this._endPosition);const i=new k(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,t.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(i),this._geodesicStartHint.setGeometryFromSegment(new R(this._startPositionAtSeaLevel,this._startPosition)),this._geodesicEndHint.setGeometryFromSegment(new R(this._endPositionAtSeaLevel,this._endPosition)),this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._segmentLabel.anchor=1===e?\"top\":\"bottom\"}_updateLabelText(){if(1!==this._state)return;const e=this._segmentLabel,t=this._horizontalLabel,i=this._verticalLabel,s=this.messages,n=this.layerView.result;if(l(n)||l(s))return e.text=null,t.text=null,void(i.text=null);const a=this._getLabelsText(s,n),r=1===this._segmentLabelDisplayedMeasurement;e.text=r?a.euclideanDistance:a.geodesicDistance,t.text=a.horizontalDistance,i.text=a.verticalDistance,this.notifyChange(\"labels\")}_updateLabelVisibility(){if(1!==this._state)return;const e=this._segmentLabel,t=this._horizontalLabel,i=this._verticalLabel;if(e.visible=!1,t.visible=!1,i.visible=!1,this.visible)switch(this.viewMode){case 1:e.visible=!0;break;case 2:e.visible=!0,t.visible=!0,i.visible=!0;break;case 3:e.visible=!0}}_getLabelsText(e,{directDistance:t,horizontalDistance:i,verticalDistance:s,geodesicDistance:n,geodesicAngle:a}){const r=this.layerView.unit,o=e=>({euclideanDistance:\"\",geodesicDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(r){case\"metric\":return o({euclideanDistance:t&&g(e,t),geodesicDistance:n&&g(e,n),horizontalDistance:i&&g(e,i),verticalDistance:s&&p(e,s)});case\"imperial\":return o({euclideanDistance:t&&u(e,t),geodesicDistance:n&&u(e,n),horizontalDistance:i&&u(e,i),verticalDistance:s&&m(e,s)});case\"degrees\":{const t=a&&h(e,a,\"degrees\");return o({euclideanDistance:t,geodesicDistance:t,horizontalDistance:t})}case\"degrees-minutes-seconds\":return o({horizontalDistance:a&&d(a)});default:return o({euclideanDistance:t&&h(e,t,r),geodesicDistance:n&&h(e,n,r),horizontalDistance:i&&h(e,i,r),verticalDistance:s&&h(e,s,r)})}}_updateSegmentStripeLength(){const e=this._measurementArrowStripeLength,t=this._segmentVisualElement;o(e)?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}_computeViewMode(e){if(2===e){if(!this._geodesicDistanceExceeded)return 1;if(this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition))return 3}const t=this.layerView.result;if(l(t))return 1;const{verticalDistance:i,horizontalDistance:s}=t,n=i.value,a=s.value;return Math.min(n/a,a/n)<this.triangleCollapseRatioThreshold?1:2}_getActualVisualElementsOrientation(){if(o(this._triangleOrientationOverride))return this._triangleOrientationOverride;const e=this.visualElementOrientation;return 0===e?this.view.state.camera.aboveGround?1:2:e}_updateActualVisualizedMeasurement(){if(0===this.visualizedMeasurement){this.actualVisualizedMeasurement=1;const e=this.layerView.unit;\"degrees\"!==e&&\"degrees-minutes-seconds\"!==e||(this.actualVisualizedMeasurement=2),this._geodesicDistanceExceeded&&(this.actualVisualizedMeasurement=2)}else this.actualVisualizedMeasurement=this.visualizedMeasurement;return this.actualVisualizedMeasurement}_requiresGeodesicGuideAt(e){const t=this.view;if(!t.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper,n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const e=this.view,{result:t,unit:i}=this.layerView;let n=null;if(o(t)){const e=t.directDistance;switch(i){case\"metric\":n=e&&e.toUnit(\"meters\");break;case\"imperial\":n=e&&e.toUnit(b(e.value,e.unit));break;case\"degrees\":case\"degrees-minutes-seconds\":{const e=t.geodesicAngle;n=e&&e.toUnit(\"degrees\");break}default:n=e&&e.toUnit(i)}}if(n){let t=1;return t=s(n.value/30),t*=\"degrees\"===n.unit?M(e.spatialReference).metersPerDegree:L(1,n.unit,\"meters\"),t}return null}_updateMessageBundle(){this.loadingMessages=!0,W(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._updateLabelText()})).finally((()=>{this.loadingMessages=!1}))}_updateVisualElementsOpacity(){const e=this.layerView.fullOpacity,t=this._params,{triangleColor:i,geodesicProjectionLineColor:s}=t;this._triangleVisualElement.color=n(K,i,e),this._rightAngleQuad.color=n(K,B,e),n(K,s,e),this._projectedGeodesicLine.color=K,this._geodesicStartHint.color=K,this._geodesicEndHint.color=K,this._segmentVisualElement.opacity=e}};function q(e,t,i,s,n){const r=N,o=X;n.projectToRenderScreen(i,r),n.projectToRenderScreen(t,o);const l={segment:\"bottom\",horizontal:\"top\",vertical:r[0]<o[0]?\"left\":\"right\"};{const s=Y,r=Z;if(T(e,i,s,n),T(e,t,r,n),E(s,r)>=J){const e=a(s[1])===a(r[1]);l.segment=e?C(l.vertical):l.vertical}else{const e=$;T(i,t,e,n),E(e,r)>=J&&(l.segment=a(e[0])===a(r[0])?C(l.horizontal):l.horizontal)}}if(2===s){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([y()],Q.prototype,\"_state\",void 0),e([y()],Q.prototype,\"_segmentLabelDisplayedMeasurement\",void 0),e([y()],Q.prototype,\"_triangleOrientationOverride\",void 0),e([y()],Q.prototype,\"_geodesicDistanceExceeded\",null),e([y()],Q.prototype,\"messages\",void 0),e([y()],Q.prototype,\"view\",void 0),e([y()],Q.prototype,\"layer\",void 0),e([y()],Q.prototype,\"layerView\",void 0),e([y({readOnly:!0})],Q.prototype,\"ready\",null),e([y()],Q.prototype,\"loadingMessages\",void 0),e([y({readOnly:!0})],Q.prototype,\"visible\",null),e([y()],Q.prototype,\"viewMode\",void 0),e([y()],Q.prototype,\"visualizedMeasurement\",void 0),e([y()],Q.prototype,\"actualVisualizedMeasurement\",void 0),e([y()],Q.prototype,\"visualElementOrientation\",void 0),e([y()],Q.prototype,\"triangleCollapseRatioThreshold\",void 0),e([y()],Q.prototype,\"allowVisualElementsOrientationChange\",null),e([y()],Q.prototype,\"labels\",null),e([y()],Q.prototype,\"testData\",null),e([y()],Q.prototype,\"_measurementArrowStripeLength\",null),Q=e([f(\"esri.views.3d.layers.DirectLineMeasurement.DirectLineMeasurementView\")],Q);const B=A(1,.5,0,.75),I={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:B,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:B,guideLineWidth:2,guideLineColor:B,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12},J=Math.cos(r(12)),K=D(),N=_(),X=_(),Y=v(),Z=v(),$=v();export{Q as DirectLineMeasurementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{unwrapOr as t,destroyMaybe as i}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as a}from\"../../../properties/defaultUnit.js\";import{LayerView3D as r}from\"./LayerView3D.js\";import{DirectLineMeasurementController as n}from\"./analysis/DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementView as o}from\"./analysis/DirectLineMeasurement/DirectLineMeasurementView.js\";import u from\"../../layers/LayerView.js\";let p=class extends(r(u)){constructor(e){super(e),this._userUnit=null,this.type=\"direct-line-measurement-3d\",this.result=null,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}set unit(e){this._userUnit=e}get unit(){return t(this._userUnit,this._defaultUnit)}get viewMode(){return this._analysisView.viewMode}get visualizedMeasurement(){return this._analysisView.visualizedMeasurement}set visualizedMeasurement(e){this._analysisView.visualizedMeasurement=e}get actualVisualizedMeasurement(){return this._analysisView.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisView.visualElementOrientation}set visualElementOrientation(e){this._analysisView.visualElementOrientation=e}get allowVisualElementsOrientationChange(){return this._analysisView.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(e){this._analysisView.allowVisualElementsOrientationChange=e}get triangleCollapseRatioThreshold(){return this._analysisView.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._analysisView.triangleCollapseRatioThreshold=e}get directLabelText(){return this._analysisView.labels.direct.text}get horizontalLabelText(){return this._analysisView.labels.horizontal.text}get verticalLabelText(){return this._analysisView.labels.vertical.text}get testData(){var e;return this.destroyed?{labels:null,stripeLength:null,view:null,controller:null}:{...null==(e=this._analysisView)?void 0:e.testData,view:this._analysisView,controller:this._analysisController}}initialize(){const e=this.view,t=this.layer;this._analysisView=new o({view:e,layer:t,layerView:this}),this._analysisController=new n({view:e,layer:t,viewData:this})}destroy(){i(this._analysisController),i(this._analysisView)}whenReady(){return this._analysisView.whenReady()}isUpdating(){var e;return!(null==(e=this._analysisView)||!e.loadingMessages)}};e([s(a)],p.prototype,\"_defaultUnit\",void 0),e([s()],p.prototype,\"_userUnit\",void 0),e([s()],p.prototype,\"_analysisView\",void 0),e([s()],p.prototype,\"_analysisController\",void 0),e([s()],p.prototype,\"type\",void 0),e([s()],p.prototype,\"unit\",null),e([s()],p.prototype,\"layer\",void 0),e([s()],p.prototype,\"result\",void 0),e([s()],p.prototype,\"elevationAlignedStartPoint\",void 0),e([s()],p.prototype,\"elevationAlignedEndPoint\",void 0),e([s({readOnly:!0})],p.prototype,\"viewMode\",null),e([s()],p.prototype,\"visualizedMeasurement\",null),e([s({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),e([s()],p.prototype,\"visualElementOrientation\",null),e([s()],p.prototype,\"allowVisualElementsOrientationChange\",null),e([s()],p.prototype,\"triangleCollapseRatioThreshold\",null),e([s({readOnly:!0})],p.prototype,\"directLabelText\",null),e([s({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),e([s({readOnly:!0})],p.prototype,\"verticalLabelText\",null),e([s()],p.prototype,\"testData\",null),p=e([l(\"esri.views.3d.layers.DirectLineMeasurementLayerView3D\")],p);var y=p;export{y as default};\n"],"names":["R","t","constructor","e2","this","_unitNormalizer","M","_handles","i","_tempStartPosition","v","_tempEndPosition","_tempCornerPosition","initialize","add","p","view","_initialize","destroy","a","spatialReference","t2","D","i2","j","z","_sphericalPCPF","s2","_","h","viewData","startPoint","layer","e3","t3","elevationAlignedStartPoint","_applyElevationAlignment","endPoint","elevationAlignedEndPoint","result","_computedResult","n","hasZ","clone","c","k","elevationProvider","_euclideanDistances","_exactGeodesicDistanceAndAngle","horizontal","value","directDistance","direct","horizontalDistance","verticalDistance","vertical","geodesicDistance","distance","geodesicAngle","angle","o2","r2","a2","n2","c2","w","p2","u","m2","d2","Math","abs","h2","normalizeDistance","v2","g2","f2","l","f","addPath","isGeographic","A","b","isWebMercator","g","_fallbackGeodesicAngle","_fallbackGeodesicDistance","P","metersPerDegree","y","G","S","s","i3","a3","n3","l2","r","sin","cos","o","E","e","m","prototype","d","vertex","uniforms","attributes","varyings","code","fragment","sqrt","float","Object","freeze","__proto__","build","initializeProgram","shader","get","rctx","bindPass","program","camera","projectionMatrix","setUniform1f","width","outlineSize","setUniform4fv","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","bindDraw","rebindTextures","setPipelineState","configuration","blending","transparent","polygonOffset","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","initializePipeline","transparencyPassType","import","arguments","count","techniqueConfig","getTechniqueConfig","params","dispose","getPassParameters","intersect","createBufferWriter","x","getGLMaterial","output","updateParameters","_technique","_techniqueRep","releaseAndAcquire","_material","beginSlot","bind","__spreadValues","vec3f","vec2f","f32","C","q","vertexBufferLayout","allocate","createBuffer","elementCount","indices","length","write","u2","vertexAttributes","data","console","warn","x2","P2","w2","transformation","T","invTranspTransformation","position","A2","normal","L","uv0","M2","o3","c3","h3","setVec","set","_2","auxpos1","_parameters","_origin","_originTransform","_arrowCenter","_renderOccluded","_geometry","_stripeLength","_stripesEnabled","_opacity","applyProps","_arrowMaterial","setParameterValues","renderOccluded","geometryChanged","attached","opacity","arrowStripeEvenColor","arrowStripeOddColor","_updateArrowOpacity","createExternalResources","arrowOutlineColor","state","watch","viewChanged","destroyExternalResources","forEachExternalMaterial","createGeometries","startRenderSpace","endRenderSpace","_createArrowGeometry","addGeometry","renderCoordsHelper","r3","s3","push","type","eval","worldUpAtPosition","arrowSubdivisions","createPolylineGeometry","recreateGeometry","ready","computeScreenPixelSizeAt","arrowWidth","arrowOutlineWidth","arrowStripeLength","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_color","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","previous","center","next","min","quadMaterialParameters","O","outlineMaterialParameters","removeAll","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","object","size","exclusive","Uint16Array","color","writeDepth","Q","_params","I","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_segmentLabel","_verticalLabel","_horizontalLabel","_startPosition","_endPosition","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","_state","_segmentLabelDisplayedMeasurement","_triangleOrientationOverride","messages","loadingMessages","viewMode","visualizedMeasurement","actualVisualizedMeasurement","visualElementOrientation","triangleCollapseRatioThreshold","layerView","geodesicDistanceThreshold","visible","suspended","_getActualVisualElementsOrientation","labels","Error","__spreadProps","geometry","triangleLineWidth","triangleColor","H","B","stippleIntegerRepeats","geodesicProjectionLineWidth","geodesicProjectionLineColor","stipplePattern","U","guideStippleLengthPixels","guideLineWidth","fontSize","direcLabelFontSize","verticalLabelFontSize","horizontalLabelFontSize","V","_updateGeometryAndViewMode","_updateVisualElementVisibility","fullOpacity","_updateVisualElementsOpacity","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","F","async","_updateMessageBundle","equals","toRenderCoords","_updateActualVisualizedMeasurement","_computeViewMode","getAltitude","_updateSegment","_updateSegmentAndTriangle","_updateSegmentAndProjection","anchor","segment","sampleLocation","N","X","projectToRenderScreen","Y","Z","J","$","e4","setAltitude","setGeometryFromSegment","text","_getLabelsText","euclideanDistance","notifyChange","unit","_measurementArrowStripeLength","stripesEnabled","_geodesicDistanceExceeded","_requiresGeodesicGuideAt","aboveGround","toUnit","W","then","finally","K","readOnly","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","triangleCornerSize","triangleSubdivisions","guideLineColor","labelDistance","_userUnit","_defaultUnit","_analysisView","allowVisualElementsOrientationChange","destroyed","controller","testData","_analysisController","whenReady","isUpdating"],"mappings":"o3CAIkmD,IAAIA,GAAE,cAAcC,EAAEC,YAAYC,SAASA,GAAGC,KAAKC,gBAAgB,IAAIC,GAAEF,KAAKG,SAAS,IAAIC,EAAEJ,KAAKK,mBAAmBC,IAAIN,KAAKO,iBAAiBD,IAAIN,KAAKQ,oBAAoBF,IAAIG,kBAAkBN,SAASO,IAAIC,EAAEX,KAAKY,KAAK,SAAS,IAAIZ,KAAKa,gBAAe,IAAKC,eAAeX,SAASY,EAAEf,KAAKG,UAAUU,oBAAoBd,EAAEC,KAAKY,KAAKI,iBAAiBC,EAAEC,EAAEnB,GAAGoB,EAAEF,IAAIG,EAAEC,EAAEJ,OAAOK,eAAeH,QAAQI,EAAEC,EAAEzB,EAAEoB,QAAQlB,gBAAgBe,iBAAiBO,EAAEJ,EAAEpB,EAAEC,KAAKG,SAASO,IAAI,CAACe,GAAG,KAAK,CAACC,SAAS1B,KAAK0B,SAASC,WAAW3B,KAAK4B,MAAMD,eAAe,EAAED,SAASG,EAAEF,WAAWG,QAAQC,2BAA2B/B,KAAKgC,yBAAyBF,MAAML,GAAG,KAAK,CAACC,SAAS1B,KAAK0B,SAASO,SAASjC,KAAK4B,MAAMK,aAAa,EAAEP,SAASG,EAAEI,SAASH,QAAQI,yBAAyBlC,KAAKgC,yBAAyBF,MAAML,GAAG,KAAK,CAACU,OAAOnC,KAAKoC,gBAAgBV,SAAS1B,KAAK0B,aAAa,EAAES,OAAON,EAAEH,SAASI,QAAQK,OAAON,OAAOG,yBAAyBjC,MAAMsC,EAAEtC,IAAIA,EAAEuC,YAAYvC,QAAQkB,EAAElB,EAAEwC,eAAetB,EAAEI,EAAEmB,EAAEC,EAAEzC,KAAKY,KAAK8B,kBAAkBzB,GAAG,GAAGA,8BAA8Bc,2BAA2BhC,EAAEmC,yBAAyBjB,GAAGjB,KAAK0B,YAAYW,EAAEtC,IAAIsC,EAAEpB,UAAU,WAAWE,EAAEnB,KAAK2C,oBAAoB5C,EAAEkB,GAAGM,EAAEvB,KAAK4C,+BAA+B7C,EAAEkB,EAAEE,EAAE0B,WAAWC,aAAa,CAACC,eAAe5B,EAAE6B,OAAOC,mBAAmB9B,EAAE0B,WAAWK,iBAAiB/B,EAAEgC,SAASC,iBAAiB7B,EAAE8B,SAASC,cAAc/B,EAAEgC,OAAOZ,oBAAoB5C,EAAEkB,SAASE,EAAEpB,EAAEwC,UAAUlB,EAAEJ,EAAEI,QAAQE,EAAEvB,KAAKK,mBAAmBmD,EAAExD,KAAKO,iBAAiBkD,EAAEzD,KAAKQ,oBAAoBkD,EAAE1D,KAAKY,KAAKI,iBAAiB2C,EAAE3D,KAAKsB,eAAesC,EAAEpC,EAAEkC,EAAEC,GAAGA,EAAED,IAAI3D,EAAEwB,EAAEqC,GAAGC,EAAE5C,EAAEuC,EAAEI,GAAGC,EAAE1C,EAAEsC,EAAEG,SAASE,EAAEC,EAAExC,EAAEiC,GAAGQ,EAAED,EAAEN,EAAED,GAAGS,EAAEC,KAAKC,IAAIlD,EAAEI,EAAEtB,EAAEsB,GAAG+C,KAAKpE,KAAKC,gBAAgBoE,kBAAkBxC,GAAGyC,EAAEF,EAAEN,GAAGS,EAAEH,EAAEJ,GAAGQ,EAAEJ,EAAEH,SAAS,CAACjB,OAAO,IAAIyB,GAAEH,EAAE,UAAUzB,WAAW,IAAI4B,GAAEF,EAAE,UAAUpB,SAAS,IAAIsB,GAAED,EAAE,WAAW5B,+BAA+B7C,EAAEkB,EAAEE,SAASI,EAAExB,EAAEiB,iBAAiBwC,EAAE,IAAIkB,EAAE,CAAC1D,iBAAiBO,MAAMoD,QAAQ,CAAC5E,EAAEkB,UAAUwC,EAAElC,EAAEqD,cAAcC,GAAEtD,GAAGuD,GAAE,CAACtB,GAAG,UAAU,GAAGjC,EAAEwD,cAAcC,GAAExB,EAAE,eAAU,GAAQH,SAASK,EAAEH,MAAMI,GAAGF,EAAE,CAACJ,SAASI,EAAEF,MAAMvD,KAAKiF,uBAAuBxB,EAAElC,IAAIvB,KAAKkF,0BAA0BnF,EAAEkB,EAAEE,SAAS,CAACkC,SAAS,IAAIoB,GAAEf,EAAE,UAAUH,MAAM,IAAIkB,GAAEd,EAAE,YAAYsB,uBAAuBlF,EAAEkB,UAAUlB,EAAEoF,EAAElE,GAAGmE,gBAAgBF,0BAA0BnF,EAAEkB,EAAEE,MAAMkE,EAAEtF,EAAEuF,IAAG,GAAGrE,EAAEsE,UAAS1D,EAAE2D,EAAEF,GAAE,IAAIG,EAAED,EAAEF,GAAE,IAAII,EAAEF,EAAED,GAAE,IAAII,EAAEH,EAAED,GAAE,IAAI3B,EAAEM,KAAKC,IAAIuB,EAAE7D,GAAG+D,EAAEC,EAAE3B,KAAK4B,IAAIL,GAAGvB,KAAK4B,IAAIH,GAAGzB,KAAK6B,IAAIN,GAAGvB,KAAK6B,IAAIJ,GAAGzB,KAAK6B,IAAInC,IAAIE,EAAEkC,EAAEJ,GAAG5B,EAAE,CAACX,SAAS,UAAU4C,GAAEjC,EAAE,CAACsB,GAAE,GAAGA,GAAE,IAAI,CAACC,GAAE,GAAGA,GAAE,KAAK,CAAClC,SAASW,EAAEX,SAASE,MAAMO,SAASJ,EAAE3D,EAAEiB,iBAAiB2C,EAAExC,QAAQ,CAACkC,SAASM,EAAEJ,MAAMvD,KAAKiF,uBAAuBtB,EAAED,MAAMwC,EAAE,CAACC,KAAKvG,GAAEwG,UAAU,YAAO,GAAQF,EAAE,CAACC,KAAKvG,GAAEwG,UAAU,aAAQ,GAAQF,EAAE,CAACC,KAAKvG,GAAEwG,UAAU,gBAAW,GAAQF,EAAE,CAACC,KAAKvG,GAAEwG,UAAU,kBAAkB,MAAMxG,GAAEsG,EAAE,CAACG,EAAE,wFAAwFzG,IAAG,MAAM0F,GAAEhF,IAAIiF,GAAEjF,ICA9tI,oBAAmBkD,EAAE,IAAI3D,IAAIyG,OAAOC,SAAS7F,IAAI,OAAO,QAAQA,IAAI,OAAO,QAAQA,IAAI,QAAQ,SAAS8C,EAAEgD,WAAW9F,IAAI,WAAW,QAAQ8C,EAAEgD,WAAW9F,IAAI,SAAS,QAAQ8C,EAAEgD,WAAW9F,IAAI,MAAM,QAAQ8C,EAAEgD,WAAW9F,IAAI,UAAU,SAAS8C,EAAEiD,SAAS/F,IAAI,MAAM,QAAQ8C,EAAEiD,SAAS/F,IAAI,UAAU,SAAS8C,EAAEiD,SAAS/F,IAAI,UAAU,SAAS8C,EAAE8C,OAAOI,KAAKhG,IAAIwF;;;;;;;IAO9gB1C,EAAEmD,SAASJ,SAAS7F,IAAI,cAAc,SAASA,IAAI,eAAe,QAAQA,IAAI,eAAe,SAASA,IAAI,kBAAkB,QAAQA,IAAI,iBAAiB,cAAc+C,EAAE,EAAES,KAAK0C,KAAK,UAAUpD,EAAEmD,SAASD,KAAKhG,IAAIwF;8BACzLA,EAAEW,MAAMpD;;;;;;;;;;;;;;;;;;;;;;;;KAwBjCD,EAAE,IAAIqC,GAAEiB,OAAOC,OAAO,CAACC,UAAU,KAAKC,MAAMjB,KChCswB,iBAAgB5F,EAAEN,YAAY2D,EAAE1D,EAAEkB,SAASwC,EAAE1D,EAAEkB,GAAGiG,kBAAkBzD,SAAS1D,EAAEyC,GAAE2E,OAAOC,MAAMH,eAAe,IAAId,EAAE1C,EAAE4D,KAAKtH,EAAEgB,GAAGuG,SAAS7D,EAAExC,KAAKjB,KAAKuH,QAAQtG,EAAEuG,OAAOC,kBAAkBzH,KAAKuH,QAAQG,aAAa,QAAQjE,EAAEkE,OAAO3H,KAAKuH,QAAQG,aAAa,cAAcjE,EAAEmE,aAAa5H,KAAKuH,QAAQM,cAAc,eAAepE,EAAEqE,cAAc9H,KAAKuH,QAAQG,aAAa,eAAejE,EAAEsE,cAAc/H,KAAKuH,QAAQM,cAAc,kBAAkBpE,EAAEuE,iBAAiBhI,KAAKuH,QAAQM,cAAc,iBAAiBpE,EAAEwE,gBAAgBC,SAASzE,KAAKzD,KAAKuH,QAAQ9D,GAAGzD,KAAKuH,QAAQY,iBAAiBC,iBAAiB3E,SAAS1D,EAAE,IAAI0D,EAAExC,EAAEjB,KAAKqI,qBAAqB3D,EAAE,CAAC4D,SAASrH,EAAEsH,YAAYxI,EAAEY,EAAE8D,EAAEhB,GAAG,KAAK+E,cAAcxI,KAAKqI,cAAcI,sBAAsB,CAACC,OAAO,EAAEC,UAAUC,UAAU,CAACC,KAAK,KAAKC,WAAWzC,EAAE0C,WAAWhF,IAAIiF,4BAA4BhJ,KAAKoI,iBAAiBpI,KAAKqI,cAAcY,iDAAiD,GAAGzG,GAAE2E,OAAO,IAAInB,EAAEvE,IAAG,IAAIyH,OAAO,yCAAgC,iBAAgB7G,EAAEvC,uBAAuBqJ,WAAWnJ,KAAKyI,sBAAqB,EAAGzI,KAAKuI,aAAY,EAAGvI,KAAKiJ,qBAAqB,GAAGpD,EAAE,CAACL,KAAKR,GAAEoB,UAAU,4BAAuB,GAAQP,EAAE,CAACL,KAAKR,GAAEoB,UAAU,mBAAc,GAAQP,EAAE,CAACL,EAAE,CAAC4D,MAAM,KAAKpE,GAAEoB,UAAU,4BAAuB,GCAjnD,iBAAgBrC,EAAEjE,YAAYC,SAASA,EAAEsG,IAAGrG,KAAKqJ,gBAAgB,IAAI3E,GAAE4E,mBAAmBvJ,UAAUC,KAAKqJ,gBAAgBZ,qBAAqBzI,KAAKuJ,OAAOf,cAAcxI,KAAKqJ,gBAAgBd,YAAYvI,KAAKuJ,OAAOvB,gBAAgB,GAAG,GAAGhI,KAAKuJ,OAAOtB,eAAe,GAAG,GAAGjI,KAAKuJ,OAAOzB,aAAa,GAAG,EAAE9H,KAAKqJ,gBAAgBJ,qBAAqBlJ,EAAEA,EAAEkJ,qBAAqB,EAAEjJ,KAAKqJ,gBAAgBG,WAAWC,2BAA2BzJ,KAAKuJ,OAAOG,aAAaC,4BAA4B,IAAIC,GAAEC,cAAc9J,UAAU,IAAAA,EAAM+J,OAAO,IAAI3D,GAAEpG,QAAG,GAAQ,iBAAgByC,EAAE1C,YAAYC,SAASA,GAAGC,KAAK+J,mBAAmBA,iBAAiBhK,QAAQiK,WAAWhK,KAAKiK,cAAcC,kBAAkBzF,GAAEzE,KAAKmK,UAAUb,mBAAmBvJ,GAAGC,KAAKgK,YAAYI,UAAUrK,UAAU,IAAAA,EAAMsK,KAAKtK,QAAQiK,WAAW1C,SAAStH,KAAKmK,UAAUV,oBAAoB1J,IAAI,MAAMsG,GAAEiE,GAAC3C,MAAM,GAAGC,YAAY,GAAGE,aAAa,CAAC,EAAE,GAAG,EAAE,GAAGC,aAAa,EAAEC,gBAAgB,CAAC,EAAE,EAAE,EAAE,GAAGC,eAAe,CAAC,EAAE,GAAG,EAAE,GAAGO,eAAc,GAAM7H,GAAGqE,GAAEjE,IAAIwJ,MAAM,YAAYA,MAAM,UAAUC,MAAM,OAAOC,IAAI,WAAWnK,GAAE0F,IAAI0E,GAAE1E,IAAI2E,GAAE3E,IAAIX,GAAEW,IAAIlB,GAAEkB,IAAI,SAAQlG,mBAAmB8K,mBAAmB5F,GAAE6F,SAAS9K,UAAUC,KAAK4K,mBAAmBE,aAAa/K,GAAGgL,aAAahL,UAAU,KAAKiL,QAAQ5D,IAAI,YAAY6D,OAAO,EAAE,GAAGC,MAAM1H,EAAEE,EAAEE,EAAEuH,SAASrH,EAAEJ,EAAE0H,iBAAiBhE,IAAI,YAAYiE,KAAK7G,EAAEd,EAAE0H,iBAAiBhE,IAAI,UAAUiE,KAAKzF,EAAE9B,EAAEmH,OAAO,EAAE7G,EAAEV,GAAGA,EAAEsH,SAAStH,EAAEsH,QAAQ5D,IAAI,eAAehD,EAAE6G,SAAS,KAAK,IAAIK,QAAQC,KAAK,2DAA2DvH,EAAE1D,GAAE2D,EAAEyG,GAAEnG,EAAEoG,GAAEa,EAAEnG,GAAEoG,EAAE3G,GAAE4G,EAAElI,EAAEmI,eAAeC,EAAEpI,EAAEqI,wBAAwBzK,EAAEwC,EAAEkI,SAASC,EAAEnI,EAAEoI,OAAOC,EAAErI,EAAEsI,QAAQC,EAAE,UAAU7H,EAAE,EAAEA,EAAEsB,IAAItB,EAAE,OAAO8H,EAAE,EAAE9H,KAAK4B,EAAElC,EAAEF,EAAEsI,GAAGtI,EAAEsI,EAAE,GAAGtI,EAAEsI,EAAE,IAAI9H,EAAEsB,EAAE,EAAE,OAAOzE,EAAE,KAAK,KAAK8C,EAAEH,EAAE3C,GAAG2C,EAAE3C,EAAE,GAAG2C,EAAE3C,EAAE,IAAI+E,EAAEuF,EAAEjH,EAAErD,GAAGqD,EAAErD,EAAE,GAAGqD,EAAErD,EAAE,IAAItB,EAAE4L,EAAEA,GAAGjG,GAAEjB,EAAEN,EAAED,GAAGnE,EAAE0E,EAAEA,GAAGsB,GAAE2F,EAAEC,EAAElH,GAAG1E,EAAE2L,EAAEA,SAAS9F,EAAEtF,EAAE4D,EAAEC,MAAM2H,OAAM5H,EAAEA,EAAE0H,GAAGrJ,GAAE4B,EAAEA,EAAEyH,GAAGrJ,GAAEmJ,EAAEA,EAAEI,UAAUS,EAAElB,EAAE,EAAE7G,EAAEgI,EAAED,EAAE,IAAIE,OAAOF,EAAErI,GAAG5C,EAAEmL,OAAOD,EAAEtI,GAAG+H,EAAEQ,OAAOF,EAAEb,GAAGO,EAAEQ,OAAOD,EAAEd,GAAGS,EAAEO,IAAIH,EAAE,EAAEF,GAAGF,EAAEO,IAAIH,EAAE,MAAMJ,EAAEO,IAAIF,EAAE,EAAEH,GAAGF,EAAEO,IAAIF,EAAE,EAAE,GAAGhI,EAAEsB,EAAE,OAAOF,SAAS+G,EAAE7I,EAAE8I,gBAAgB3M,EAAE,EAAEA,EAAE,EAAE6F,IAAI7F,IAAIyM,IAAIrB,EAAEpL,EAAEoM,ICA/wD,iBAAgB1H,GAAE3E,YAAYC,SAASA,GAAGC,KAAK2M,YAAYxG,GAAEnG,KAAKG,SAAS,KAAKH,KAAK4M,QAAQ7L,IAAIf,KAAK6M,iBAAiBzM,KAAIJ,KAAK8M,aAAa/L,IAAIf,KAAK+M,gBAAgB,EAAE/M,KAAKgN,UAAU,KAAKhN,KAAKiN,cAAc,EAAEjN,KAAKkN,iBAAgB,EAAGlN,KAAKmN,SAAS,EAAEnN,KAAKoN,WAAWrN,+BAA+BC,KAAK+M,mCAAmChN,OAAOC,KAAK+M,uBAAuBA,gBAAgBhN,EAAEC,KAAKqN,gBAAgBrN,KAAKqN,eAAeC,mBAAmB,CAACC,eAAexN,2BAA2BC,KAAKgN,uBAAuBjN,QAAQiN,UAAUjN,EAAEC,KAAKwN,4CAA4CxN,KAAKiN,+BAA+BlN,QAAQkN,cAAclN,EAAEC,KAAKyN,UAAUzN,KAAKqN,eAAeC,mBAAmB,CAACvF,aAAa/H,KAAKiN,4CAA4CjN,KAAKkN,mCAAmCnN,MAAMC,KAAKkN,gBAAgBnN,EAAEC,KAAKyN,SAAS,OAAO5L,EAAE7B,KAAK0N,SAASC,qBAAqB1M,EAAE2M,oBAAoBrM,GAAGvB,KAAK2M,YAAYxL,EAAE0E,GAAErE,GAAExB,KAAKkN,gBAAgBjM,EAAEM,EAAEM,QAAQwL,eAAeC,mBAAmB,CAACtF,gBAAgB7G,0BAA0BnB,KAAKmN,qBAAqBpN,OAAOC,KAAKmN,gBAAgBA,SAASpN,EAAEC,KAAK6N,uBAAuBC,gCAAgCH,qBAAqBlK,EAAEmK,oBAAoB3M,EAAE8M,kBAAkBxM,GAAGvB,KAAK2M,YAAYxL,EAAEnB,KAAKkN,gBAAgBzJ,EAAExC,OAAOoM,eAAe,IAAI7K,GAAE,CAACsF,aAAavG,EAAEyG,gBAAgB7G,EAAE8G,eAAehH,EAAEsM,eAAevN,KAAKuN,eAAe/E,eAAc,IAAKxI,KAAKG,SAAS,IAAI+F,EAAElG,KAAKG,SAASO,IAAIV,KAAKY,KAAKoN,MAAMC,MAAM,UAAU,UAAUC,kBAAkBC,gCAAgCd,eAAe,KAAKrN,KAAKG,SAASW,UAAUd,KAAKG,SAAS,KAAKiO,wBAAwBrO,KAAKC,KAAKqN,gBAAgBgB,iBAAiBtO,MAAMF,EAAEG,KAAKgN,YAAYnN,EAAEG,KAAKgN,UAAUsB,mBAAmBzO,EAAEG,KAAKgN,UAAUuB,6BAA6B9K,EAAEzD,KAAKwO,qBAAqBxO,KAAKgN,UAAUsB,iBAAiBtO,KAAKgN,UAAUuB,eAAevO,KAAK4M,QAAQ5M,KAAKgN,aAAayB,YAAYhL,EAAEzD,KAAKqN,eAAerN,KAAK6M,kBAAkB7M,KAAKkO,cAAcM,qBAAqBzO,EAAE0D,EAAExC,EAAEM,SAASJ,EAAEnB,KAAKY,KAAK8N,mBAAmBhL,EAAE,GAAGC,EAAE,GAAGiC,EAAE,CAAC/D,EAAE8M,WAAWC,EAAEnN,GAAE2F,SAAQwH,EAAE/M,EAAEZ,GAAGyC,EAAEmL,KAAKD,GAAGjL,EAAEkL,KAAKF,OAAO,cAAcpN,EAAEuN,KAAK,GAAGC,KAAK,GAAG/O,KAAK8M,oBAAoBhL,EAAEL,GAAE2F,QAAQ4H,kBAAkBhP,KAAK8M,aAAahL,GAAG8D,EAAE7F,EAAE+B,GAAG8D,EAAEnC,EAAE3B,OAAO,GAAGiN,KAAK,GAAG/O,KAAK8M,oBAAoBjL,EAAE7B,KAAK2M,YAAYsC,kBAAkB,aAAaN,EAAE,EAAEA,EAAE9M,IAAI8M,EAAE,OAAO7M,EAAE6M,KAAK,GAAGnL,EAAE/B,GAAE2F,MAAM1B,EAAEjE,GAAE2F,QAAQ2H,KAAKjN,EAAE0B,GAAGrC,EAAE6N,kBAAkBxL,EAAEkC,GAAGE,EAAEpC,EAAEkC,WAAWW,GAAE6I,uBAAuBxL,EAAEC,GAAG6J,uBAAuB2B,mBAAmBjB,iBAAiBlO,KAAKY,KAAKwO,OAAOpP,KAAKyN,UAAUjI,GAAExF,KAAKgN,WAAW,OAAOjN,EAAEC,KAAKY,KAAKoN,MAAMxG,OAAO6H,yBAAyBrP,KAAK8M,mBAAmBO,eAAeC,mBAAmB,CAAC3F,MAAM3H,KAAK2M,YAAY2C,WAAWvP,KAAK8N,4BAA4B9N,EAAEC,KAAK0N,SAASC,qBAAqB1M,EAAE2M,oBAAoBrM,EAAEwM,kBAAkB5M,GAAGnB,KAAK2M,YAAYnJ,EAAEqC,GAAErE,GAAExB,KAAKkN,gBAAgBjM,EAAEM,EAAExB,GAAG2D,EAAEmC,GAAEhC,GAAE1C,EAAEpB,GAAG4D,EAAEkC,GAAE9B,GAAExC,EAAExB,QAAQsN,eAAeC,mBAAmB,CAACtF,gBAAgBxE,EAAEsE,aAAapE,EAAEuE,eAAetE,KAAK,MAAMwC,GAAE,CAACmJ,WAAW,GAAGvB,kBAAkB,CAAC,EAAE,GAAG,EAAE,GAAGwB,kBAAkB,GAAG5B,qBAAqB,CAAC,EAAE,EAAE,EAAE,GAAGC,oBAAoB,CAAC,EAAE,GAAG,EAAE,GAAG4B,kBAAkB,GAAGP,kBAAkB,KAAKzN,GAAEa,KAAIwB,GAAExB,KAAI0B,GAAE1B,KCAp8F,iBAAgB1B,GAAEb,YAAYmB,SAASA,GAAGjB,KAAKG,SAAS,IAAI+F,EAAElG,KAAKyP,cAAc,KAAKzP,KAAK0P,iBAAiB,KAAK1P,KAAK2P,SAAS,EAAE3P,KAAK4P,UAAUvJ,IAAIrG,KAAK6P,IAAIxJ,IAAIrG,KAAK8P,OAAOzJ,IAAIrG,KAAK+M,gBAAgB,EAAE/M,KAAK+P,OAAOvO,GAAE,EAAE,EAAE,EAAE,GAAGxB,KAAKgQ,cAAcxO,GAAE,EAAE,EAAE,EAAE,GAAGxB,KAAKiQ,aAAa,EAAEjQ,KAAKkQ,MAAM,GAAGlQ,KAAKmQ,uBAAuB,GAAGnQ,KAAKoN,WAAWnM,+BAA+BjB,KAAK+M,mCAAmChN,OAAOC,KAAK+M,uBAAuBA,gBAAgBhN,EAAEC,KAAKoQ,0CAA0CpQ,KAAK+P,iBAAiBhQ,MAAKC,KAAK+P,OAAOhQ,GAAGC,KAAKoQ,gDAAgDpQ,KAAKgQ,+BAA+BjQ,MAAKC,KAAKgQ,cAAcjQ,GAAGC,KAAKqQ,kDAAkDrQ,KAAKiQ,6BAA6BlQ,SAASkB,EAAE,IAAAjB,KAASiQ,eAAe,IAAIlQ,QAAQkQ,aAAalQ,EAAEkB,EAAEjB,KAAKmP,mBAAmBnP,KAAKqQ,2CAA2CrQ,KAAKkQ,eAAenQ,OAAOC,KAAKkQ,aAAaA,MAAMnQ,EAAEC,KAAKsQ,uDAAuDtQ,KAAKmQ,iDAAiDpQ,QAAQoQ,uBAAuBpQ,EAAEC,KAAKqQ,uCAAuCE,SAASxQ,EAAEyQ,OAAOvP,EAAEwP,KAAKtP,SAASwO,SAASzL,KAAKwM,IAAI1K,EAAE/E,EAAElB,GAAGiG,EAAE/E,EAAEE,IAAI,EAAEsD,EAAEzE,KAAK6P,IAAIxN,GAAErC,KAAK6P,IAAI9P,EAAEkB,IAAIwD,EAAEzE,KAAK8P,OAAOzN,GAAErC,KAAK8P,OAAO3O,EAAEF,IAAI8C,GAAE/D,KAAK4P,UAAU3O,GAAGjB,KAAKmP,mBAAmBrB,+BAA+B2B,cAAc,IAAIzK,GAAEhF,KAAK2Q,wBAAwB3Q,KAAK0P,iBAAiB,IAAIkB,GAAE5Q,KAAK6Q,2BAA2B7Q,KAAKG,SAASO,IAAIV,KAAKY,KAAKoN,MAAMC,MAAM,UAAU,IAAIjO,KAAKsQ,sBAAsBnC,gCAAgCsB,cAAc,KAAKzP,KAAK0P,iBAAiB,KAAK1P,KAAKG,SAAS2Q,YAAY1C,wBAAwBrO,KAAKC,KAAKyP,eAAe1P,EAAEC,KAAK0P,kBAAkBrB,iBAAiBtO,QAAQgR,oBAAoBhR,GAAGC,KAAKgR,uBAAuBjR,GAAGC,KAAKsQ,iBAAiBvQ,GAAGgR,oBAAoBhR,SAASkB,EAAEjB,KAAKiR,kBAAkBjR,KAAK6P,IAAI7P,KAAK8P,UAAUrB,YAAYxN,EAAEjB,KAAKyP,eAAeuB,uBAAuBjR,MAAM,IAAIC,KAAKiQ,0BAA0BhP,EAAEQ,GAAE0E,GAAEiB,MAAMpH,KAAK6P,IAAI7P,KAAK8P,QAAQ3O,EAAEuD,GAAEwK,uBAAuB,CAAClP,KAAK6P,IAAI5O,EAAEjB,KAAK8P,WAAWrB,YAAYtN,EAAEnB,KAAK0P,kBAAkBY,iBAAiBvQ,EAAEC,KAAKkR,cAAcxN,EAAE1D,KAAKY,KAAKoN,MAAMxG,OAAOhE,EAAExD,KAAKkQ,MAAMxM,EAAE2L,yBAAyBrP,KAAK4P,WAAWhK,EAAE1B,KAAKwM,IAAI1Q,KAAK2P,SAASnM,MAAKnC,IAAGwE,GAAExE,GAAEA,GAAErB,KAAK4P,WAAWpK,GAAEnE,GAAEA,GAAE,CAACuE,EAAEA,EAAEA,IAAI/F,GAAEE,OAAO4L,eAAetK,IAAG4P,kBAAkBlR,EAAEkB,SAASE,EAAEM,GAAE0E,GAAEiB,MAAMrH,EAAEkB,UAAU,IAAIf,GAAE,CAAC,CAAC,WAAW,CAACiR,KAAK,EAAE9F,KAAK,CAAC,EAAE,EAAE,KAAKpK,KAAKlB,KAAKoB,GAAGiQ,WAAU,KAAM,CAAC,CAAC,WAAW,IAAIC,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,0CAA0C,CAACC,MAAMtR,KAAK+P,OAAOxH,aAAY,EAAGgJ,YAAW,EAAG/I,eAAc,EAAG+E,eAAevN,KAAK+M,iBAAiBqD,2BAA2BX,eAAezP,KAAKyP,cAAcnC,mBAAmBtN,KAAK2Q,8DAA8D,CAACW,MAAMtR,KAAKgQ,cAAcrI,MAAM3H,KAAKiQ,aAAa1C,eAAevN,KAAKmQ,wBAAwBE,8BAA8BX,kBAAkB1P,KAAK0P,iBAAiBpC,mBAAmBtN,KAAK6Q,4BAA4B,MAAMxP,GAAEN,KCAh3C,IAAIyQ,GAAE,cAAc3R,EAAEC,YAAYC,SAASA,GAAGC,KAAKyR,QAAQnH,KAAIoH,IAAG1R,KAAKG,SAAS,IAAIC,EAAEJ,KAAK2R,sBAAsB,KAAK3R,KAAK4R,uBAAuB,KAAK5R,KAAK6R,gBAAgB,KAAK7R,KAAK8R,uBAAuB,KAAK9R,KAAK+R,mBAAmB,KAAK/R,KAAKgS,iBAAiB,KAAKhS,KAAKiS,cAAc,KAAKjS,KAAKkS,eAAe,KAAKlS,KAAKmS,iBAAiB,KAAKnS,KAAKoS,eAAejN,IAAInF,KAAKqS,aAAalN,IAAInF,KAAKsS,gBAAgBnN,IAAInF,KAAKuS,yBAAyBpN,IAAInF,KAAKwS,uBAAuBrN,IAAInF,KAAKyS,OAAO,EAAEzS,KAAK0S,kCAAkC,EAAE1S,KAAK2S,6BAA6B,KAAK3S,KAAK4S,SAAS,KAAK5S,KAAK6S,iBAAgB,EAAG7S,KAAK8S,SAAS,EAAE9S,KAAK+S,sBAAsB,EAAE/S,KAAKgT,4BAA4B,EAAEhT,KAAKiT,yBAAyB,EAAEjT,KAAKkT,+BAA+B,wCAAwCnT,QAAQkB,EAAEjB,KAAKmT,UAAUhR,cAAc6D,GAAE/E,KAAK,SAASA,EAAEgC,yBAAoB,EAAOlD,EAAE+C,OAAO9C,KAAK4B,MAAMwR,6CAA6C,IAAIpT,KAAKyS,4BAA4BzS,KAAKmT,UAAUE,UAAUrT,KAAKmT,UAAUG,4DAA4D7O,EAAEzE,KAAK2S,uEAAuE5S,KAAKC,KAAK2S,gCAAgC5S,MAAMC,KAAK2S,8BAA8B3S,KAAK2S,6BAA6B3S,KAAKuT,sCAAsCvT,KAAK2S,6BAA6B,yBAAyB5S,EAAE,IAAAC,KAASgT,kCAAkC,CAAChQ,OAAOhD,KAAKiS,cAAcpP,WAAW9C,EAAEC,KAAKiS,cAAcjS,KAAKmS,iBAAiBhP,SAASnD,KAAKkS,mCAAmCnS,QAAQ,CAACyT,OAAOxT,KAAKwT,OAAOzL,aAAa,SAAS/H,KAAK2R,4BAAuB,EAAO5R,EAAEgI,cAActH,kBAAkBN,SAASO,IAAImD,EAAE7D,KAAKY,KAAK,SAAS,IAAIZ,KAAKa,gBAAe,IAAKA,qBAAqBb,KAAKyS,aAAa,QAAQ,IAAIgB,MAAM,sBAAsB,eAAe1T,EAAEC,KAAKyR,QAAQxQ,EAAE,CAACwM,UAAS,EAAG7M,KAAKZ,KAAKY,WAAW+Q,sBAAsB,IAAI/H,GAAE8J,OAAIzS,GAAJ,CAAM0S,SAAS,KAAKpG,eAAe,KAAIvN,KAAK4R,uBAAuB,IAAItM,GAAEoO,OAAIzS,GAAJ,CAAM0G,MAAM5H,EAAE6T,kBAAkBtC,MAAMvR,EAAE8T,cAActG,eAAe,KAAIvN,KAAK6R,gBAAgB,IAAIiC,GAAEJ,OAAIzS,GAAJ,CAAMqQ,MAAMyC,GAAExG,eAAe,WAAUpM,EAAEuS,OAAIzS,GAAJ,CAAMuH,eAAc,EAAGwL,uBAAsB,EAAGzG,eAAe,SAAQuE,uBAAuB,IAAIxM,GAAEoO,OAAIvS,GAAJ,CAAMwG,MAAM5H,EAAEkU,4BAA4B3C,MAAMvR,EAAEmU,4BAA4BC,eAAeC,GAAErU,EAAEsU,6BAA4BrU,KAAK+R,mBAAmB,IAAIzM,GAAEoO,OAAIvS,GAAJ,CAAMwG,MAAM5H,EAAEuU,eAAehD,MAAMvR,EAAEmU,4BAA4BC,eAAeC,GAAErU,EAAEsU,6BAA4BrU,KAAKgS,iBAAiB,IAAI1M,GAAEoO,OAAIvS,GAAJ,CAAMwG,MAAM5H,EAAEuU,eAAehD,MAAMvR,EAAEmU,4BAA4BC,eAAeC,GAAErU,EAAEsU,6BAA4BrU,KAAKiS,cAAc,IAAIrB,GAAE8C,OAAIzS,GAAJ,CAAMsT,SAASxU,EAAEyU,sBAAqBxU,KAAKkS,eAAe,IAAItB,GAAE8C,OAAIzS,GAAJ,CAAMsT,SAASxU,EAAE0U,yBAAwBzU,KAAKmS,iBAAiB,IAAIvB,GAAE8C,OAAIzS,GAAJ,CAAMsT,SAASxU,EAAE2U,2BAA0B1U,KAAKG,SAASO,IAAI,CAACiU,IAAG,IAAI3U,KAAK4U,+BAA+BD,IAAG,IAAI3U,KAAK6U,mCAAmCtP,GAAG,IAAIvF,KAAKmT,UAAU2B,cAAc,IAAI9U,KAAK+U,iCAAiCJ,IAAG,IAAI3U,KAAKgV,qBAAqBL,IAAG,IAAI3U,KAAKiV,2BAA2BN,IAAG,IAAI3U,KAAKkV,+BAA+BC,IAAGC,SAASpV,KAAKqV,2BAA2BrV,KAAKyS,OAAO,EAAEzS,KAAKqV,uBAAuBvU,UAAU,IAAId,KAAKyS,cAActS,SAASqC,EAAExC,KAAKG,UAAUH,KAAK2R,sBAAsBnP,EAAExC,KAAK2R,uBAAuB3R,KAAK4R,uBAAuBpP,EAAExC,KAAK4R,wBAAwB5R,KAAK6R,gBAAgBrP,EAAExC,KAAK6R,iBAAiB7R,KAAK8R,uBAAuBtP,EAAExC,KAAK8R,wBAAwB9R,KAAK+R,mBAAmBvP,EAAExC,KAAK+R,oBAAoB/R,KAAKgS,iBAAiBxP,EAAExC,KAAKgS,kBAAkBhS,KAAKiS,cAAczP,EAAExC,KAAKiS,eAAejS,KAAKkS,eAAe1P,EAAExC,KAAKkS,gBAAgBlS,KAAKmS,iBAAiB3P,EAAExC,KAAKmS,kBAAkBnS,KAAKwM,IAAI,OAAO,MAAMxM,KAAKyS,OAAO,2BAA2B5O,EAAE7D,KAAK,SAAS6U,oCAAoC7U,KAAK2R,sBAAsB0B,SAAQ,EAAGrT,KAAK4R,uBAAuByB,SAAQ,EAAGrT,KAAK6R,gBAAgBwB,SAAQ,EAAGrT,KAAK8R,uBAAuBuB,SAAQ,EAAGrT,KAAK+R,mBAAmBsB,SAAQ,EAAGrT,KAAKgS,iBAAiBqB,SAAQ,EAAGrT,KAAKqT,eAAerT,KAAK8S,eAAe,aAAa,OAAOnB,sBAAsB0B,SAAQ,aAAc,OAAO1B,sBAAsB0B,SAAQ,EAAGrT,KAAK4R,uBAAuByB,SAAQ,EAAGrT,KAAK6R,gBAAgBwB,SAAQ,aAAc,OAAO1B,sBAAsB0B,SAAQ,EAAGrT,KAAK8R,uBAAuBuB,SAAQ,EAAGrT,KAAK+R,mBAAmBsB,SAAQ,EAAGrT,KAAKgS,iBAAiBqB,SAAQ,GAAIuB,mCAAmC7U,EAAEC,KAAKY,KAAK8N,oBAAoB3M,2BAA2Bd,EAAEiB,yBAAyBf,GAAGnB,KAAKmT,aAAa1O,EAAExD,IAAIwD,EAAEtD,IAAIF,EAAEqU,OAAOnU,GAAG,MAAM2R,SAAS,QAAQjR,EAAE7B,KAAK+S,sBAAsBjR,EAAE,IAAAD,mBAAuBmR,4BAA4BlR,EAAE,EAAED,KAAK0T,eAAetU,EAAEjB,KAAKoS,gBAAgBrS,EAAEwV,eAAepU,EAAEnB,KAAKqS,oBAAoB9Q,EAAEvB,KAAKuT,sCAAsC5P,EAAE3D,KAAKwV,0CAA0C1C,SAAS9S,KAAKyV,iBAAiB9R,OAAOD,EAAE1D,KAAKoS,eAAe3O,EAAEzD,KAAKqS,mBAAmB7O,EAAE,IAAIjC,EAAE,KAAKqC,EAAEJ,KAAKkS,YAAYjS,GAAG1D,EAAE2V,YAAYhS,MAAM,MAAM1D,KAAKqS,aAAa5O,EAAEzD,KAAKoS,sBAAsBhO,EAAE,IAAAT,EAAM,IAAIlB,GAAEzC,KAAKoS,eAAepS,KAAKqS,aAAatS,EAAEiB,kBAAkB,IAAIpB,GAAEI,KAAKoS,eAAepS,KAAKqS,qBAAqBrS,KAAK2R,sBAAsBgC,SAASvP,EAAEpE,KAAKkV,6BAA6BlV,KAAK0S,kCAAkC/O,EAAE3D,KAAK8S,eAAe,OAAO6C,eAAevR,EAAE7C,cAAc,OAAOqU,0BAA0BxR,EAAE7C,EAAEmC,EAAED,EAAED,EAAEI,cAAc,OAAOiS,4BAA4BtU,IAAIoU,eAAe5V,EAAEkB,QAAQgR,cAAc6D,OAAO,IAAA7U,EAAM,MAAM,SAASjB,KAAKiS,cAAc0B,SAAS,CAAC7E,KAAK,UAAUiH,QAAQhW,EAAEiW,eAAe,UAAUJ,0BAA0B7V,EAAEkB,EAAEE,EAAEI,EAAEoC,EAAED,SAASD,EAAEzD,KAAKY,KAAK4C,EAAEC,EAAEiL,mBAAmB9I,EAAEnC,EAAEuK,MAAMxG,OAAO5D,EAAE5D,KAAKsS,kBAAkBtD,kBAAkB7N,EAAEyC,GAAGvC,GAAEuC,EAAEA,EAAED,EAAEO,KAAKC,IAAIT,IAAItC,GAAEwC,EAAEA,EAAEzC,GAAGnB,KAAK4R,uBAAuB+B,SAAS,CAAC,CAAC,CAACxS,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAACyC,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAACrC,EAAE,GAAGA,EAAE,GAAGA,EAAE,MAAMvB,KAAK6R,gBAAgB8B,SAAS,CAACpD,SAASpP,EAAEqP,OAAO5M,EAAE6M,KAAKlP,SAAS6C,EAAE,IAAIxE,GAAEuB,EAAEyC,GAAGK,EAAE,IAAIrE,GAAEgE,EAAErC,GAAG4J,EAAi2J,SAAWpL,EAAEkB,EAAEE,EAAEI,EAAEoC,SAASF,EAAEwS,GAAEzS,EAAE0S,KAAIC,sBAAsBhV,EAAEsC,GAAGE,EAAEwS,sBAAsBlV,EAAEuC,SAASoC,EAAE,CAACmQ,QAAQ,SAASlT,WAAW,MAAMM,SAASM,EAAE,GAAGD,EAAE,GAAG,OAAO,gBAAgBoL,EAAEwH,GAAEzH,EAAE0H,MAAKzK,GAAE7L,EAAEoB,EAAEyN,EAAEjL,GAAGiI,GAAE7L,EAAEkB,EAAE0N,EAAEhL,GAAGsC,GAAE2I,EAAED,IAAI2H,GAAE,OAAOzU,EAAEd,GAAE6N,EAAE,MAAM7N,GAAE4N,EAAE,MAAMoH,QAAQlU,EAAE6I,GAAE9E,EAAEzC,UAAUyC,EAAEzC,aAAa,OAAOtB,EAAE0U,MAAIpV,EAAEF,EAAEY,EAAE8B,GAAGsC,GAAEpE,EAAE8M,IAAI2H,OAAMP,QAAQhV,GAAEc,EAAE,MAAMd,GAAE4N,EAAE,IAAIjE,GAAE9E,EAAE/C,YAAY+C,EAAE/C,gBAAgB,IAAItB,EAAE,OAAOM,KAAK,QAAA2U,EAAU,SAAS,QAAQT,QAAQlU,EAAE+D,EAAEmQ,SAASnQ,EAAE/C,WAAWhB,EAAE+D,EAAE/C,YAAY+C,EAAEzC,SAAStB,EAAE+D,EAAEzC,iBAAiByC,EAAh2K+E,CAAExJ,EAAEI,EAAEqC,EAAE3C,EAAE2E,QAAQqM,cAAc6D,OAAO3K,EAAE4K,QAAQ/V,KAAKiS,cAAc0B,SAAS,CAAC7E,KAAK,UAAUiH,QAAQhW,EAAEiW,eAAe,UAAUhW,KAAKkS,eAAeyB,SAAS,CAAC7E,KAAK,UAAUiH,QAAQ3R,EAAE4R,eAAe,UAAUhW,KAAKkS,eAAe4D,OAAO3K,EAAEhI,SAASnD,KAAKmS,iBAAiBwB,SAAS,CAAC7E,KAAK,UAAUiH,QAAQ9R,EAAE+R,eAAe,UAAUhW,KAAKmS,iBAAiB2D,OAAO3K,EAAEtI,WAAWgT,4BAA4B9V,SAASkB,EAAEjB,KAAKY,KAAK8N,qBAAqB+H,YAAYzW,KAAKuS,yBAAyB,EAAEvS,KAAKoS,gBAAgBnR,EAAEwV,YAAYzW,KAAKwS,uBAAuB,EAAExS,KAAKqS,oBAAoBlR,EAAE,IAAIsB,GAAEzC,KAAKuS,yBAAyBvS,KAAKwS,uBAAuBvR,EAAED,uBAAuB8Q,uBAAuB4E,uBAAuBvV,GAAGnB,KAAK+R,mBAAmB2E,uBAAuB,IAAI9W,GAAEI,KAAKuS,yBAAyBvS,KAAKoS,iBAAiBpS,KAAKgS,iBAAiB0E,uBAAuB,IAAI9W,GAAEI,KAAKwS,uBAAuBxS,KAAKqS,eAAerS,KAAKiS,cAAc0B,SAAS,CAAC7E,KAAK,UAAUiH,QAAQ5U,EAAE6U,eAAe,UAAUhW,KAAKiS,cAAc6D,OAAO,IAAA/V,EAAM,MAAM,SAASiV,sBAAsB,IAAIhV,KAAKyS,oBAAoB1S,EAAEC,KAAKiS,cAAchR,EAAEjB,KAAKmS,iBAAiBhR,EAAEnB,KAAKkS,eAAe3Q,EAAEvB,KAAK4S,SAASjP,EAAE3D,KAAKmT,UAAUhR,UAAUsC,EAAEd,IAAIc,EAAElD,UAAUxB,EAAE4W,KAAK,KAAK1V,EAAE0V,KAAK,YAAYA,KAAK,YAAYjT,EAAE1D,KAAK4W,eAAerV,EAAEoC,GAAGF,EAAE,IAAIzD,KAAK0S,oCAAoCiE,KAAKlT,EAAEC,EAAEmT,kBAAkBnT,EAAEN,iBAAiBnC,EAAE0V,KAAKjT,EAAET,mBAAmB9B,EAAEwV,KAAKjT,EAAER,iBAAiBlD,KAAK8W,aAAa,UAAU7B,4BAA4B,IAAIjV,KAAKyS,oBAAoB1S,EAAEC,KAAKiS,cAAchR,EAAEjB,KAAKmS,iBAAiBhR,EAAEnB,KAAKkS,kBAAkBnS,EAAEsT,SAAQ,EAAGpS,EAAEoS,SAAQ,EAAGlS,EAAEkS,SAAQ,EAAGrT,KAAKqT,eAAerT,KAAK8S,eAAe,IAAIO,SAAQ,aAAc,IAAIA,SAAQ,EAAGpS,EAAEoS,SAAQ,EAAGlS,EAAEkS,SAAQ,aAAc,IAAIA,SAAQ,GAAIuD,eAAe7W,GAAGgD,eAAe9B,EAAEgC,mBAAmB9B,EAAE+B,iBAAiBsC,EAAEpC,iBAAiBO,EAAEL,cAAcI,UAAUD,EAAEzD,KAAKmT,UAAU4D,KAAKvT,KAAM8G,GAACuM,kBAAkB,GAAGzT,iBAAiB,GAAGH,mBAAmB,GAAGC,iBAAiB,IAAMrB,UAAW4B,OAAO,gBAAgBD,EAAE,CAACqT,kBAAkB5V,GAAG+D,GAAEjF,EAAEkB,GAAGmC,iBAAiBO,GAAGqB,GAAEjF,EAAE4D,GAAGV,mBAAmB9B,GAAG6D,GAAEjF,EAAEoB,GAAG+B,iBAAiBsC,GAAG7E,GAAEZ,EAAEyF,SAAS,kBAAkBhC,EAAE,CAACqT,kBAAkB5V,GAAG8C,GAAEhE,EAAEkB,GAAGmC,iBAAiBO,GAAGI,GAAEhE,EAAE4D,GAAGV,mBAAmB9B,GAAG4C,GAAEhE,EAAEoB,GAAG+B,iBAAiBsC,GAAGW,GAAEpG,EAAEyF,SAAS,UAAU,OAAO1D,EAAE4B,GAAGjC,GAAE1B,EAAE2D,EAAE,kBAAkBF,EAAE,CAACqT,kBAAkB/U,EAAEsB,iBAAiBtB,EAAEmB,mBAAmBnB,QAAQ,iCAAiC0B,EAAE,CAACP,mBAAmBS,GAAG2C,GAAE3C,oBAAoBF,EAAE,CAACqT,kBAAkB5V,GAAGQ,GAAE1B,EAAEkB,EAAEwC,GAAGL,iBAAiBO,GAAGlC,GAAE1B,EAAE4D,EAAEF,GAAGR,mBAAmB9B,GAAGM,GAAE1B,EAAEoB,EAAEsC,GAAGP,iBAAiBsC,GAAG/D,GAAE1B,EAAEyF,EAAE/B,MAAMyR,mCAAmCnV,EAAEC,KAAKgX,8BAA8B/V,EAAEjB,KAAK2R,yBAAwB5R,MAAMgI,aAAahI,EAAEkB,EAAEgW,gBAAe,GAAIhW,EAAEgW,gBAAe,EAAGxB,iBAAiB1V,MAAM,IAAIA,EAAE,KAAKC,KAAKkX,iCAAiC,KAAKlX,KAAKmX,yBAAyBnX,KAAKoS,iBAAiBpS,KAAKmX,yBAAyBnX,KAAKqS,qBAAqB,QAAQpR,EAAEjB,KAAKmT,UAAUhR,UAAUsC,EAAExD,UAAU,QAAQiC,iBAAiB/B,EAAE8B,mBAAmB1B,GAAGN,EAAE0C,EAAExC,EAAE2B,MAAMY,EAAEnC,EAAEuB,aAAaoB,KAAKwM,IAAI/M,EAAED,EAAEA,EAAEC,GAAG3D,KAAKkT,+BAA+B,EAAE,EAAEK,yCAAyCvN,GAAEhG,KAAK2S,qCAAqC3S,KAAK2S,mCAAmC5S,EAAEC,KAAKiT,gCAAgC,IAAIlT,EAAEC,KAAKY,KAAKoN,MAAMxG,OAAO4P,YAAY,EAAE,EAAErX,EAAEyV,wCAAwC,IAAIxV,KAAK+S,sBAAsB,MAAMC,4BAA4B,QAAQjT,EAAEC,KAAKmT,UAAU4D,KAAK,YAAYhX,GAAG,4BAA4BA,SAASiT,4BAA4B,GAAGhT,KAAKkX,iCAAiClE,4BAA4B,aAAaA,4BAA4BhT,KAAK+S,6BAA6B/S,KAAKgT,4BAA4BmE,yBAAyBpX,SAASkB,EAAEjB,KAAKY,SAASK,EAAE+M,aAAY,QAAS7M,EAAEF,EAAE+M,MAAMxG,OAAOjG,EAAEN,EAAEyN,mBAAmB/K,EAAExC,EAAEkO,yBAAyBtP,UAAUwB,EAAEmU,YAAY3V,GAAG4D,GAAG,6CAA6C5D,EAAEC,KAAKY,MAAMuB,OAAOlB,EAAE8V,KAAK5V,GAAGnB,KAAKmT,cAAcxP,EAAE,QAAQqC,GAAE/E,GAAG,OAAOY,EAAEZ,EAAE8B,sBAAsB5B,OAAO,WAAWU,GAAGA,EAAEwV,OAAO,oBAAoB,aAAaxV,GAAGA,EAAEwV,OAAOvS,GAAEjD,EAAEiB,MAAMjB,EAAEkV,iBAAiB,cAAc,0BAA0B,OAAOP,EAAEvV,EAAEqC,gBAAgBkT,GAAGA,EAAEa,OAAO,2BAA2BxV,GAAGA,EAAEwV,OAAOlW,OAAOwC,EAAE,KAAK7B,EAAE,SAASA,EAAE0D,GAAE7B,EAAEb,MAAM,IAAIhB,GAAG,YAAA6B,EAAcoT,KAAK7W,EAAEH,EAAEiB,kBAAkBoE,gBAAgB6G,GAAE,EAAEtI,EAAEoT,KAAK,UAAUjV,SAAS,KAAKuT,4BAA4BxC,iBAAgB,EAAGyE,GAAE,uBAAuBC,eAAe3E,SAAS7S,EAAEC,KAAKY,MAAMZ,KAAKgV,sBAAsBwC,SAAS,UAAU3E,iBAAgB,KAAMkC,qCAAqChV,EAAEC,KAAKmT,UAAU2B,YAAY7T,EAAEjB,KAAKyR,SAASoC,cAAc1S,EAAE+S,4BAA4B3S,GAAGN,OAAO2Q,uBAAuBN,MAAMjP,GAAEoV,GAAEtW,EAAEpB,GAAGC,KAAK6R,gBAAgBP,MAAMjP,GAAEoV,GAAE1D,GAAEhU,GAAGsC,GAAEoV,GAAElW,EAAExB,GAAGC,KAAK8R,uBAAuBR,MAAMmG,GAAEzX,KAAK+R,mBAAmBT,MAAMmG,GAAEzX,KAAKgS,iBAAiBV,MAAMmG,GAAEzX,KAAK2R,sBAAsBjE,QAAQ3N,IAAugBmG,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,cAAS,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,yCAAoC,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,oCAA+B,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,4BAA4B,MAAMF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,gBAAW,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,YAAO,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,aAAQ,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,iBAAY,GAAQF,EAAE,CAACb,EAAE,CAACqS,UAAS,KAAMlG,GAAEpL,UAAU,QAAQ,MAAMF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,uBAAkB,GAAQF,EAAE,CAACb,EAAE,CAACqS,UAAS,KAAMlG,GAAEpL,UAAU,UAAU,MAAMF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,gBAAW,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,6BAAwB,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,mCAA8B,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,gCAA2B,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,sCAAiC,GAAQF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,uCAAuC,MAAMF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,SAAS,MAAMF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,WAAW,MAAMF,EAAE,CAACb,KAAKmM,GAAEpL,UAAU,gCAAgC,MAAMoL,GAAEtL,EAAE,CAACxB,EAAE,yEAAyE8M,IAAG,MAAMuC,GAAElP,GAAE,EAAE,GAAG,EAAE,KAAK6M,GAAE,CAACiG,mBAAmB,CAAC,EAAE,GAAG,GAAGC,mBAAmB,EAAEC,qBAAqB,EAAEC,oBAAoB,CAAC,EAAE,EAAE,GAAGC,oBAAoB,IAAIC,qBAAqB,IAAIC,kBAAiB,EAAGC,YAAY,CAAC,EAAE,GAAG,GAAGC,cAAc,GAAGC,aAAa,EAAEvE,cAAcE,GAAEH,kBAAkB,EAAEyE,mBAAmB,GAAGC,qBAAqB,IAAIhJ,WAAW,GAAGvB,kBAAkB,CAAC,EAAE,GAAG,EAAE,GAAGwB,kBAAkB,GAAG5B,qBAAqB,CAAC,EAAE,EAAE,EAAE,GAAGC,oBAAoB,CAAC,EAAE,GAAG,EAAE,GAAG4B,kBAAkB,GAAGP,kBAAkB,IAAIgF,4BAA4B,EAAEC,4BAA4BH,GAAEO,eAAe,EAAEiE,eAAexE,GAAEM,yBAAyB,EAAEmE,cAAc,GAAGhE,mBAAmB,GAAGE,wBAAwB,GAAGD,sBAAsB,IAAI6B,GAAEpS,KAAK6B,IAAIF,EAAE,KAAK4R,GAAEvW,KAAI+U,GAAEzU,KAAI0U,GAAE1U,KAAI4U,GAAE9V,KAAI+V,GAAE/V,KAAIiW,GAAEjW,KCAxld,IAAIK,GAAE,cAAckF,GAAE9B,KAAIjE,YAAYC,SAASA,GAAGC,KAAKyY,UAAU,KAAKzY,KAAK8O,KAAK,6BAA6B9O,KAAKmC,OAAO,KAAKnC,KAAK+B,2BAA2B,KAAK/B,KAAKkC,yBAAyB,cAAcnC,QAAQ0Y,UAAU1Y,oBAAoBF,EAAEG,KAAKyY,UAAUzY,KAAK0Y,oCAAoC1Y,KAAK2Y,cAAc7F,4CAA4C9S,KAAK2Y,cAAc5F,gDAAgDhT,QAAQ4Y,cAAc5F,sBAAsBhT,2CAA2CC,KAAK2Y,cAAc3F,kEAAkEhT,KAAK2Y,cAAc1F,sDAAsDlT,QAAQ4Y,cAAc1F,yBAAyBlT,oDAAoDC,KAAK2Y,cAAcC,8EAA8E7Y,QAAQ4Y,cAAcC,qCAAqC7Y,8CAA8CC,KAAK2Y,cAAczF,kEAAkEnT,QAAQ4Y,cAAczF,+BAA+BnT,+BAA+BC,KAAK2Y,cAAcnF,OAAOxQ,OAAO2T,sCAAsC3W,KAAK2Y,cAAcnF,OAAO3Q,WAAW8T,oCAAoC3W,KAAK2Y,cAAcnF,OAAOrQ,SAASwT,wBAAwB5W,SAASC,KAAK6Y,UAAU,CAACrF,OAAO,KAAKzL,aAAa,KAAKnH,KAAK,KAAKkY,WAAW,MAAMpF,OAAI,SAAS1T,KAAK2Y,oBAAe,EAAO5Y,EAAEgZ,UAA1C,CAAmDnY,KAAKZ,KAAK2Y,cAAcG,WAAW9Y,KAAKgZ,sBAAqBvY,mBAAmBV,EAAEC,KAAKY,KAAKK,EAAEjB,KAAK4B,WAAW+W,cAAc,IAAI3S,GAAE,CAACpF,KAAKb,EAAE6B,MAAMX,EAAEkS,UAAUnT,OAAOA,KAAKgZ,oBAAoB,IAAI3W,GAAE,CAACzB,KAAKb,EAAE6B,MAAMX,EAAES,SAAS1B,OAAOc,YAAYd,KAAKgZ,qBAAqB5Y,EAAEJ,KAAK2Y,eAAeM,mBAAmBjZ,KAAK2Y,cAAcM,YAAYC,iBAAiBnZ,UAAU,SAASC,KAAK2Y,iBAAiB5Y,EAAE8S,mBAAmB3M,EAAE,CAACV,EAAEzE,KAAIJ,GAAEyF,UAAU,oBAAe,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,iBAAY,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,qBAAgB,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,2BAAsB,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,YAAO,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,OAAO,MAAMF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,aAAQ,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,cAAS,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,kCAA6B,GAAQF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,gCAA2B,GAAQF,EAAE,CAACV,EAAE,CAACkS,UAAS,KAAM/W,GAAEyF,UAAU,WAAW,MAAMF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,wBAAwB,MAAMF,EAAE,CAACV,EAAE,CAACkS,UAAS,KAAM/W,GAAEyF,UAAU,8BAA8B,MAAMF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,2BAA2B,MAAMF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,uCAAuC,MAAMF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,iCAAiC,MAAMF,EAAE,CAACV,EAAE,CAACkS,UAAS,KAAM/W,GAAEyF,UAAU,kBAAkB,MAAMF,EAAE,CAACV,EAAE,CAACkS,UAAS,KAAM/W,GAAEyF,UAAU,sBAAsB,MAAMF,EAAE,CAACV,EAAE,CAACkS,UAAS,KAAM/W,GAAEyF,UAAU,oBAAoB,MAAMF,EAAE,CAACV,KAAK7E,GAAEyF,UAAU,WAAW,MAAMzF,GAAEuF,EAAE,CAACzB,EAAE,0DAA0D9D,IAAG,IAAI0E,GAAE1E"}