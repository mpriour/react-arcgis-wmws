{"version":3,"file":"Graphics3DFeatureLikeLayerView.8fc59a5c.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFilterVisibility.js","../../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureLikeLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import o from\"../../../../layers/graphics/data/QueryEngine.js\";import i from\"../../../../rest/support/FeatureSet.js\";import u from\"../../../../rest/support/Query.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";const c=o;let l=class extends r{constructor(e){super(e),this._dataQueryEngineInstance=null}get queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new u({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this.ensureDataQueryEngine()}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,r){return this.dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e),r)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:n.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQueryForLatestObservations(e,r){const t=await this.dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),r),s=i.fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,r){const t=await this.dataQueryEngine.executeQuery(this._ensureQueryJSON(e),r),s=i.fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e){return t(e)?this.defaultQueryJSON:(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),e.toJSON())}ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=\"timeInfo\"in this.layer&&this.layer.timeInfo&&this.layer.timeInfo.toJSON()||null,r=this.layer.objectIdField,t=y.toJSON(this.queryGeometryType),s=this.layer.fields.map((e=>e.toJSON())),a=this.layerView.view.resourceController.scheduler,n=this.priority,o=this.spatialReference.toJSON(),i=this.layerView.graphics3d.graphicsCore.featureStore,{hasZ:u,hasM:l}=this.layerView;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:l,geometryType:t,fields:s,timeInfo:e,spatialReference:o,objectIdField:r,featureStore:i,scheduler:a,priority:n}),this._dataQueryEngineInstance}};e([s({constructOnly:!0})],l.prototype,\"layerView\",void 0),e([s({constructOnly:!0})],l.prototype,\"priority\",void 0),e([s({readOnly:!0,aliasOf:\"layerView.view.spatialReference\"})],l.prototype,\"spatialReference\",void 0),e([s({readOnly:!0,aliasOf:\"layerView.layer\"})],l.prototype,\"layer\",void 0),e([s({readOnly:!0})],l.prototype,\"queryGeometryType\",null),e([s({readOnly:!0})],l.prototype,\"defaultQueryJSON\",null),l=e([a(\"esri.views.3d.layers.graphics.QueryEngine\")],l);var p=l;export{l as QueryEngine,p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{isNone as s,isSome as h}from\"../../../../core/maybe.js\";import{isAbortError as l}from\"../../../../core/promiseUtils.js\";import{on as o}from\"../../../../core/watchUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import u from\"./QueryEngine.js\";import c from\"../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as y}from\"../../../support/floorFilterUtils.js\";import{TaskPriority as d}from\"../../../support/Scheduler.js\";const p=r.getLogger(\"esri.views.3d.layers.graphics.Graphics3DFilterVisibility\");let _=class extends i{constructor(...e){super(...e),this.filter=null,this._dirty=!1,this._querying=!1,this._handles=new t}get updating(){return this._dirty||this._querying||null!=this._queryResult}setup(e,i){this._layerView=e,this._core=i,this._objectIdField=e.layer.objectIdField,this._queryEngine=new u({layerView:this._layerView,priority:d.FILTER_VISIBILITY});const t=this._layerView.view.resourceController.scheduler;this._handles.add(t.registerTask(d.FILTER_VISIBILITY,this)),this._handles.add(o(i.owner,\"loadedGraphics\",\"after-changes\",(e=>this._graphicsChanged(e)),(()=>this.dirty=!0))),this.filterChanged()}destroy(){this._handles.destroy(),this._handles=null,this.clear(),this._layerView=null,this._core=null}clear(){this._queryEngine.clear()&&(this._core.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(2))),this._queryResult=null,this._querying=!1),this.dirty=!1,this.notifyChange(\"updating\")}_graphicsChanged(e){this._queryEngine&&0==(1&e.type)||(this.dirty=!0)}updateVisibility(e){this.active&&(e.hasVisibilityFlag(2,0)||e.setVisibilityFlag(2,!1,0),this.dirty=!0)}filterChanged(){const e=this.recomputeFilter();e!==this.filter&&(this.filter=e,this.dirty=!0)}get active(){return this.filter&&this._core.graphics3DGraphics.size>0}recomputeFilter(){const e=\"filter\"in this._layerView?this._layerView.filter:null,i=\"timeExtent\"in this._layerView?this._layerView.timeExtent:null,t=y(this._layerView);if(s(i)&&s(t))return e;const r=h(e)?e.clone():new c;if(h(i)&&(r.timeExtent=h(r.timeExtent)?r.timeExtent.intersection(i):i),h(t)){const e=null==r.where||\"\"===r.where;r.where=e?t:`(${r.where}) AND (${t})`}return r}get running(){return this._dirty&&!this._querying||null!=this._queryResult}runTask(e){this.active?(!this._dirty||this._querying||e.done||(this._querying=!0,this.dirty=!1,this._queryEngine.executeQueryForIdSet(this.filter).then((e=>{this._queryResult=e,this._querying=!1})).catch((e=>{l(e)||(p.warn(\"FeatureFilter query failed: \"+e,{error:e}),this._queryResult=new Set,this._core.graphics3DGraphics.forEach((e=>this._queryResult.add(this._getFeatureId(e.graphic)))),this._querying=!1)})),e.madeProgress()),this._queryResult&&!e.done&&(this._core.modifyGraphics3DGraphicVisibilities((i=>{if(e.done)return!1;const t=this._queryResult.has(this._getFeatureId(i.graphic));return!!i.setVisibilityFlag(2,t,0)&&(e.madeProgress(),!0)})),e.done||(this._queryResult=null)),this.notifyChange(\"updating\")):this.clear()}_getFeatureId(e){return null==e.objectId?e.attributes[this._objectIdField]:e.objectId}set dirty(e){this._dirty!==e&&(this._dirty=e,this.notifyChange(\"updating\"))}};e([n({readOnly:!0})],_.prototype,\"updating\",null),_=e([a(\"esri.views.3d.layers.graphics.Graphics3DFilterVisibility\")],_);export{_ as Graphics3DFilterVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import{neverReached as s}from\"../../../../core/compilerUtils.js\";import r from\"../../../../core/Handles.js\";import{logOnError as n}from\"../../../../core/promiseUtils.js\";import{init as a}from\"../../../../core/watchUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as p}from\"../../../../core/accessorSupport/diffUtils.js\";import{canProject as h,project as d}from\"../../../../geometry/support/webMercatorUtils.js\";import c from\"../../../../rest/support/Query.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as u}from\"./constants.js\";import{Graphics3DCore as g}from\"./Graphics3DCore.js\";import m from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFilterVisibility as y}from\"./Graphics3DFilterVisibility.js\";import f from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as b}from\"./Graphics3DObjectStates.js\";import w from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as x}from\"./graphicUtils.js\";import{attributeLookup as E}from\"../support/attributeUtils.js\";import{WatchUpdatingTracking as C}from\"../../../support/WatchUpdatingTracking.js\";let V=class extends i{constructor(t){super(t),this._handles=new r,this.watchUpdatingTracking=new C,this.suspendResumeExtentMode=\"computed\",this.dataExtent=null,this.suspendResumeExtent=null}get suspended(){var t;return null==(t=this.scaleVisibility)?void 0:t.suspended}get suspendInfo(){var t,e;const i={};return null!=(t=this.scaleVisibility)&&t.suspended&&(i.outsideScaleRange=!0),null!=(e=this.frustumVisibility)&&e.suspended&&(i.outsideOfView=!0),i}get updating(){var t,e,i;return!!(null!=(t=this.graphicsCore)&&t.updating||null!=(e=this.frustumVisibility)&&e.updating||null!=(i=this.watchUpdatingTracking)&&i.updating)}normalizeCtorArgs(t){const e=t.frustumVisibilityEnabled?new f:null,i=t.scaleVisibilityEnabled?new w:null,s=(t.filterVisibilityEnabled||t.timeExtentVisibilityEnabled)&&\"multipatch\"!==t.layer.geometryType?new y:null,r=t.elevationAlignmentEnabled?new m:null,n=new g({owner:t.owner,layer:t.layer,preferredUpdatePolicy:t.preferredUpdatePolicy,elevationFeatureExpressionEnabled:t.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:t.owner.hasZ,hasM:t.owner.hasM}),{updateClippingExtent:a,suspendResumeExtentMode:o,dataExtent:l}=t;return{graphicsCore:n,frustumVisibility:e,scaleVisibility:i,filterVisibility:s,elevationAlignment:r,updateClippingExtent:a,suspendResumeExtentMode:o,dataExtent:l}}initialize(){this.scaleVisibility&&this.watchUpdatingTracking.add(this.layer,\"scaleRangeId\",(()=>this.scaleVisibility.layerMinMaxScaleChangeHandler())),this.filterVisibility&&(this.watchUpdatingTracking.add(this.owner,\"filter\",(()=>this.filterVisibility.filterChanged())),this.watchUpdatingTracking.add(this.owner,\"timeExtent\",(()=>this.filterVisibility.filterChanged()))),this.elevationAlignment&&this.watchUpdatingTracking.add(this.layer,\"elevationInfo\",((t,e)=>{p(t,e)&&this.watchUpdatingTracking.addPromise(this.graphicsCore.elevationInfoChange())})),this.watchUpdatingTracking.add(this.layer,\"labelsVisible\",(()=>this.graphicsCore.updateVisibilityInfo())),this.watchUpdatingTracking.add(this.layer,\"labelingInfo\",((t,e)=>{p(t,e)&&this.graphicsCore.updateLabelingInfo()}))}async setup(){this.frustumVisibility&&this.frustumVisibility.setup(this.owner);const t=this.owner,e=this.owner.view.basemapTerrain,i=(t,e,i)=>this.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(t,e,i);if(this.scaleVisibility&&this.scaleVisibility.setup(t,this.layer,i,this.graphicsCore,e),this.filterVisibility&&(\"filter\"in t||\"timeExtent\"in t)&&this.filterVisibility.setup(t,this.graphicsCore),this.elevationAlignment){const e=t.view.elevationProvider;this.elevationAlignment.setup(t,i,this.graphicsCore,e)}this._set(\"objectStates\",new b(this.graphicsCore)),this._set(\"labeling\",this.owner.view.labeler.addGraphicsOwner(this.graphicsCore,this.scaleVisibility)),this._set(\"deconfliction\",t.view.deconflictor.addGraphicsOwner(this.graphicsCore)),await n(this.graphicsCore.setup({elevationAlignment:this.elevationAlignment,scaleVisibility:this.scaleVisibility,filterVisibility:this.filterVisibility,deconflictor:this.deconfliction,labeler:this.labeling,objectStates:this.objectStates})),this.watchUpdatingTracking.add(this.layer,\"renderer\",(t=>this.watchUpdatingTracking.addPromise(this.graphicsCore.rendererChange(t)))),this.watchUpdatingTracking.add(t,\"fullOpacity\",(()=>this.graphicsCore.opacityChange())),this.setupSuspendResumeExtent(),this.updateClippingExtent&&(this.watchUpdatingTracking.add(t.view,\"clippingArea\",(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await n(this.graphicsCore.updateLabelingInfo())}destroy(){this._handles&&(this._handles.destroy(),this._handles=null);const t=[\"watchUpdatingTracking\",\"frustumVisibility\",\"scaleVisibility\",\"filterVisibility\",\"elevationAlignment\",\"objectStates\",\"graphicsCore\"];for(const e of t){const t=this[e];t&&(t.destroy(),this._set(e,null))}this._set(\"layer\",null),this._set(\"owner\",null)}maskOccludee(t){const{set:e,handle:i}=this.objectStates.acquireSet(1,null);return this.objectStates.setUid(e,t.uid),i}highlight(t,i){if(t instanceof c){const{set:e,handle:s}=this.objectStates.acquireSet(0,i);return this.owner.queryObjectIds(t).then((t=>this.objectStates.setObjectIds(e,t))),s}if(\"number\"==typeof t||\"string\"==typeof t)return this.highlight([t],i);if(t instanceof e)return this.highlight([t],i);if(\"toArray\"in t&&(t=t.toArray()),Array.isArray(t)&&t.length>0){if(t[0]instanceof e){const e=t;if(null==E(this.layer.fieldsIndex,e[0].attributes,i)){const t=e.map((t=>t.uid)),{set:i,handle:s}=this.objectStates.acquireSet(0,null);return this.objectStates.setUids(i,t),s}t=e.map((t=>E(this.layer.fieldsIndex,t.attributes,i)))}if(\"number\"==typeof t[0]||\"string\"==typeof t[0]){const e=t,{set:s,handle:r}=this.objectStates.acquireSet(0,i);return this.objectStates.setObjectIds(s,e),r}}return S}_updateClippingExtent(){const t=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(t,this.owner.view.spatialReference)&&(this.updateClippingExtent(t)||this.graphicsCore.recreateAllGraphics())}setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this._handles.add(a(this,\"suspendResumeExtentMode\",(()=>{switch(this._handles.remove(j),this.suspendResumeExtentMode){case\"computed\":this._handles.add([a(this.graphicsCore,\"computedExtent\",(t=>this.updateSuspendResumeExtent(t))),this.graphicsCore.watch(\"extentPadding\",(()=>this.updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],j);break;case\"data\":this._handles.add([a(this,\"dataExtent\",(t=>this.updateSuspendResumeExtent(t))),this.graphicsCore.watch(\"extentPadding\",(()=>this.updateSuspendResumeExtent(this.dataExtent)))],j);break;default:s(this.suspendResumeExtentMode)}})))}updateSuspendResumeExtent(t){t?this.suspendResumeExtentChanged(this.extentToSuspendResumeRect(t,this.suspendResumeExtent)):this.suspendResumeExtentChanged(null)}extentToSuspendResumeRect(t,e){const i=this.owner.view.spatialReference;if(!t.spatialReference.equals(i)){if(!h(t,i))return;t=d(t,i)}return x(t,e,u,this.graphicsCore.extentPadding)}suspendResumeExtentChanged(t){this.frustumVisibility&&this.frustumVisibility.setExtent(t),this.scaleVisibility&&this.scaleVisibility.setExtent(t)}};t([o({aliasOf:\"graphicsCore.layer\"})],V.prototype,\"layer\",void 0),t([o({aliasOf:\"graphicsCore.owner\"})],V.prototype,\"owner\",void 0),t([o({constructOnly:!0})],V.prototype,\"updateClippingExtent\",void 0),t([o({constructOnly:!0})],V.prototype,\"graphicsCore\",void 0),t([o({constructOnly:!0})],V.prototype,\"scaleVisibility\",void 0),t([o({constructOnly:!0})],V.prototype,\"filterVisibility\",void 0),t([o({constructOnly:!0})],V.prototype,\"elevationAlignment\",void 0),t([o({constructOnly:!0})],V.prototype,\"frustumVisibility\",void 0),t([o({readOnly:!0})],V.prototype,\"deconfliction\",void 0),t([o({readOnly:!0})],V.prototype,\"labeling\",void 0),t([o({readOnly:!0})],V.prototype,\"objectStates\",void 0),t([o({readOnly:!0})],V.prototype,\"watchUpdatingTracking\",void 0),t([o()],V.prototype,\"suspendResumeExtentMode\",void 0),t([o()],V.prototype,\"dataExtent\",void 0),t([o({readOnly:!0})],V.prototype,\"suspended\",null),t([o({readOnly:!0})],V.prototype,\"suspendInfo\",null),t([o({readOnly:!0,dependsOn:[\"graphicsCore.updating\",\"frustumVisibility.updating\",\"watchUpdatingTracking.updating\"]})],V.prototype,\"updating\",null),V=t([l(\"esri.views.3d.layers.graphics.Graphics3DFeatureLikeLayerView\")],V);var v=V;const j=\"suspendResumeExtentMode\",S={remove(){},pause(){},resume(){}};export{v as default};\n"],"names":["c","o","l","r","constructor","e2","this","_dataQueryEngineInstance","layer","geometryType","u","outSpatialReference","spatialReference","toJSON","ensureDataQueryEngine","destroy","clear","r2","dataQueryEngine","executeQueryForIdSet","_ensureQueryJSON","executeQueryForCount","count","t2","extent","s2","executeQueryForExtent","n","fromJSON","executeQueryForIds","executeQueryForLatestObservations","i","features","forEach","e3","sourceLayer","executeQuery","t","defaultQueryJSON","timeInfo","objectIdField","y","queryGeometryType","fields","map","a","layerView","view","resourceController","scheduler","n2","priority","o2","graphics3d","graphicsCore","featureStore","hasZ","u2","hasM","l2","e","s","constructOnly","prototype","readOnly","aliasOf","p","getLogger","_","filter","_dirty","_querying","_handles","_queryResult","setup","i2","_layerView","_core","_objectIdField","_queryEngine","d","FILTER_VISIBILITY","add","registerTask","owner","_graphicsChanged","dirty","filterChanged","modifyGraphics3DGraphicVisibilities","clearVisibilityFlag","notifyChange","type","updateVisibility","active","hasVisibilityFlag","setVisibilityFlag","recomputeFilter","graphics3DGraphics","size","timeExtent","h","clone","intersection","r$12","where","runTask","done","then","catch","warn","error","Set","_getFeatureId","e4","graphic","madeProgress","has","objectId","attributes","V","watchUpdatingTracking","C","suspendResumeExtentMode","dataExtent","suspendResumeExtent","scaleVisibility","suspended","outsideScaleRange","frustumVisibility","outsideOfView","updating","normalizeCtorArgs","frustumVisibilityEnabled","f","scaleVisibilityEnabled","w","filterVisibilityEnabled","timeExtentVisibilityEnabled","elevationAlignmentEnabled","m","g","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","updateClippingExtent","filterVisibility","elevationAlignment","initialize","layerMinMaxScaleChangeHandler","addPromise","elevationInfoChange","updateVisibilityInfo","updateLabelingInfo","basemapTerrain","t3","i3","spatialIndex","queryGraphicUIDsInExtent","elevationProvider","_set","b","labeler","addGraphicsOwner","deconflictor","deconfliction","labeling","objectStates","rendererChange","opacityChange","setupSuspendResumeExtent","_updateClippingExtent","startCreateGraphics","labelsEnabled","maskOccludee","set","handle","acquireSet","setUid","uid","highlight","queryObjectIds","setObjectIds","toArray","Array","isArray","length","E","fieldsIndex","t4","setUids","S","clippingArea","setClippingExtent","recreateAllGraphics","remove","j","updateSuspendResumeExtent","watch","computedExtent","suspendResumeExtentChanged","extentToSuspendResumeRect","equals","x","extentPadding","setExtent","dependsOn","v","pause","resume"],"mappings":"2jBAIswB,MAAMA,EAAEC,EAAE,IAAIC,EAAE,cAAcC,EAAEC,YAAYC,SAASA,GAAGC,KAAKC,yBAAyB,oCAAoCD,KAAKE,MAAMC,kBAAkB,iBAAiB,YAAY,cAAc,kBAAkBH,KAAKE,MAAMC,iBAAiB,aAAa,wDAAwD,IAAIC,EAAE,CAACC,oBAAoBL,KAAKM,mBAAmBC,sCAAsCP,KAAKQ,wBAAwBC,eAAeC,QAAQA,gBAAgBV,KAAKC,gCAAgCA,yBAAyBQ,UAAUT,KAAKC,yBAAyB,MAAK,8BAA+BF,EAAEY,UAAUX,KAAKY,gBAAgBC,qBAAqBb,KAAKc,iBAAiBf,GAAGY,8BAA8BZ,EAAEY,UAAUX,KAAKY,gBAAgBG,qBAAqBf,KAAKc,iBAAiBf,GAAGY,+BAA+BZ,EAAEY,SAASK,MAAMC,EAAEC,OAAOC,SAASnB,KAAKY,gBAAgBQ,sBAAsBpB,KAAKc,iBAAiBf,GAAGY,SAAS,CAACK,MAAMC,EAAEC,OAAOG,EAAEC,SAASH,6BAA6BpB,EAAEY,UAAUX,KAAKY,gBAAgBW,mBAAmBvB,KAAKc,iBAAiBf,GAAGY,2CAA2CZ,EAAEY,SAASM,QAAQjB,KAAKY,gBAAgBY,kCAAkCxB,KAAKc,iBAAiBf,GAAGY,GAAGQ,EAAEM,EAAEH,SAASL,UAAUE,EAAEO,SAASC,eAAezB,MAAMF,KAAKE,MAAM0B,EAAEC,YAAY7B,KAAKE,SAASiB,qBAAqBpB,EAAEY,SAASM,QAAQjB,KAAKY,gBAAgBkB,aAAa9B,KAAKc,iBAAiBf,GAAGY,GAAGQ,EAAEM,EAAEH,SAASL,UAAUE,EAAEO,SAASC,eAAezB,MAAMF,KAAKE,MAAM0B,EAAEC,YAAY7B,KAAKE,SAASiB,EAAEL,iBAAiBf,UAAUgC,EAAEhC,GAAGC,KAAKgC,0CAA0CjC,IAAIA,EAAEM,wBAAwBA,oBAAoBL,KAAKM,kBAAkBP,EAAEQ,UAAUC,2BAA2BR,KAAKC,gCAAgCD,KAAKC,+BAA+BF,EAAE,aAAaC,KAAKE,OAAOF,KAAKE,MAAM+B,UAAUjC,KAAKE,MAAM+B,SAAS1B,UAAU,KAAKI,EAAEX,KAAKE,MAAMgC,cAAcjB,EAAEkB,EAAE5B,OAAOP,KAAKoC,mBAAmBjB,EAAEnB,KAAKE,MAAMmC,OAAOC,QAAQV,EAAErB,WAAWgC,EAAEvC,KAAKwC,UAAUC,KAAKC,mBAAmBC,UAAUC,EAAE5C,KAAK6C,SAASC,EAAE9C,KAAKM,iBAAiBC,SAASkB,EAAEzB,KAAKwC,UAAUO,WAAWC,aAAaC,cAAcC,KAAKC,EAAEC,KAAKC,GAAGrD,KAAKwC,iBAAiBxC,KAAKC,yBAAyB,IAAIP,EAAE,CAACwD,KAAKC,EAAEC,KAAKC,EAAElD,aAAac,EAAEoB,OAAOlB,EAAEc,SAASlC,EAAEO,iBAAiBwC,EAAEZ,cAAcvB,EAAEsC,aAAaxB,EAAEkB,UAAUJ,EAAEM,SAASD,IAAI5C,KAAKC,2BAA2BqD,EAAE,CAACC,EAAE,CAACC,eAAc,KAAM5D,EAAE6D,UAAU,iBAAY,GAAQH,EAAE,CAACC,EAAE,CAACC,eAAc,KAAM5D,EAAE6D,UAAU,gBAAW,GAAQH,EAAE,CAACC,EAAE,CAACG,UAAS,EAAGC,QAAQ,qCAAqC/D,EAAE6D,UAAU,wBAAmB,GAAQH,EAAE,CAACC,EAAE,CAACG,UAAS,EAAGC,QAAQ,qBAAqB/D,EAAE6D,UAAU,aAAQ,GAAQH,EAAE,CAACC,EAAE,CAACG,UAAS,KAAM9D,EAAE6D,UAAU,oBAAoB,MAAMH,EAAE,CAACC,EAAE,CAACG,UAAS,KAAM9D,EAAE6D,UAAU,mBAAmB,MAAM7D,EAAE0D,EAAE,CAACf,EAAE,8CAA8C3C,GAAM,IAACgE,EAAEhE,ECA3rF,MAAMgE,EAAE/D,EAAEgE,UAAU,4DAA4D,IAAIC,EAAE,cAAcrC,EAAE3B,eAAeC,YAAYA,GAAGC,KAAK+D,OAAO,KAAK/D,KAAKgE,QAAO,EAAGhE,KAAKiE,WAAU,EAAGjE,KAAKkE,SAAS,IAAInC,wBAAwB/B,KAAKgE,QAAQhE,KAAKiE,WAAW,MAAMjE,KAAKmE,aAAaC,MAAMrE,EAAEsE,QAAQC,WAAWvE,EAAEC,KAAKuE,MAAMF,EAAErE,KAAKwE,eAAezE,EAAEG,MAAMgC,cAAclC,KAAKyE,aAAa,IAAIrE,EAAE,CAACoC,UAAUxC,KAAKsE,WAAWzB,SAAS6B,EAAEC,0BAA0B1D,EAAEjB,KAAKsE,WAAW7B,KAAKC,mBAAmBC,eAAeuB,SAASU,IAAI3D,EAAE4D,aAAaH,EAAEC,kBAAkB3E,OAAOA,KAAKkE,SAASU,IAAIjF,EAAE0E,EAAES,MAAM,iBAAiB,oBAAoB9E,KAAK+E,iBAAiBnD,KAAK,IAAI5B,KAAKgF,OAAM,KAAMhF,KAAKiF,gBAAgBxE,eAAeyD,SAASzD,UAAUT,KAAKkE,SAAS,KAAKlE,KAAKU,QAAQV,KAAKsE,WAAW,KAAKtE,KAAKuE,MAAM,KAAK7D,aAAa+D,aAAa/D,eAAe6D,MAAMW,wCAAwCnF,EAAEoF,oBAAoB,KAAKnF,KAAKmE,aAAa,KAAKnE,KAAKiE,WAAU,GAAIjE,KAAKgF,OAAM,EAAGhF,KAAKoF,aAAa,YAAYL,iBAAiBhF,QAAQ0E,cAAc,MAAM1E,EAAEsF,aAAaL,OAAM,GAAIM,iBAAiBvF,QAAQwF,WAAWC,kBAAkB,EAAE,IAAIzF,EAAE0F,kBAAkB,GAAE,EAAG,GAAGzF,KAAKgF,OAAM,GAAIC,sBAAsBlF,EAAEC,KAAK0F,sBAAsB1F,KAAK+D,cAAcA,OAAOhE,EAAEC,KAAKgF,OAAM,uBAAwBhF,KAAK+D,QAAQ/D,KAAKuE,MAAMoB,mBAAmBC,KAAK,EAAEF,wBAAwB3F,EAAE,WAAWC,KAAKsE,WAAWtE,KAAKsE,WAAWP,OAAO,KAAKM,EAAE,eAAerE,KAAKsE,WAAWtE,KAAKsE,WAAWuB,WAAW,KAAK9D,EAAEI,EAAEnC,KAAKsE,eAAef,EAAEc,IAAId,EAAExB,UAAUhC,QAAQF,EAAEiG,EAAE/F,GAAGA,EAAEgG,QAAQ,IAAIrG,KAAKoG,EAAEzB,OAAOwB,WAAWC,EAAEjG,EAAEgG,YAAYhG,EAAEgG,WAAWG,aAAa3B,GAAGA,GAAGyB,EAAE/D,GAAG,OAAOH,EAAE,MAAAqE,EAAQC,OAAO,KAAKrG,EAAEqG,QAAQA,MAAMtE,EAAEG,EAAE,IAAIlC,EAAEqG,eAAenE,YAAYlC,uBAAuBG,KAAKgE,SAAShE,KAAKiE,WAAW,MAAMjE,KAAKmE,aAAagC,QAAQpG,QAAQwF,SAASvF,KAAKgE,QAAQhE,KAAKiE,WAAWlE,EAAEqG,YAAYnC,WAAU,EAAGjE,KAAKgF,OAAM,EAAGhF,KAAKyE,aAAa5D,qBAAqBb,KAAK+D,QAAQsC,eAAelC,aAAavC,EAAE5B,KAAKiE,WAAU,KAAMqC,aAAa1E,OAAO2E,KAAK,+BAA+B3E,EAAE,CAAC4E,MAAM5E,IAAI5B,KAAKmE,aAAa,IAAIsC,IAAIzG,KAAKuE,MAAMoB,mBAAmBhE,YAAY3B,KAAKmE,aAAaS,IAAI5E,KAAK0G,cAAcC,EAAEC,YAAY5G,KAAKiE,WAAU,MAAOlE,EAAE8G,gBAAgB7G,KAAKmE,eAAepE,EAAEqG,YAAY7B,MAAMW,4CAA4CnF,EAAEqG,YAAW,QAASnF,EAAEjB,KAAKmE,aAAa2C,IAAI9G,KAAK0G,cAAcrC,EAAEuC,kBAAkBvC,EAAEoB,kBAAkB,EAAExE,EAAE,OAAO4F,gBAAe,MAAO9G,EAAEqG,YAAYjC,aAAa,OAAOnE,KAAKoF,aAAa,aAAapF,KAAKU,QAAQgG,cAAc3G,UAAU,MAAMA,EAAEgH,SAAShH,EAAEiH,WAAWhH,KAAKwE,gBAAgBzE,EAAEgH,mBAAmBhH,QAAQiE,SAASjE,SAASiE,OAAOjE,EAAEC,KAAKoF,aAAa,eAAe9B,EAAE,CAACjC,EAAE,CAACqC,UAAS,KAAMI,EAAEL,UAAU,WAAW,MAAMK,EAAER,EAAE,CAACf,EAAE,6DAA6DuB,GCAvoE,IAAImD,EAAE,cAAcxF,EAAE3B,YAAYmB,SAASA,GAAGjB,KAAKkE,SAAS,IAAIrE,EAAEG,KAAKkH,sBAAsB,IAAIC,EAAEnH,KAAKoH,wBAAwB,WAAWpH,KAAKqH,WAAW,KAAKrH,KAAKsH,oBAAoB,yBAAyBrG,SAAS,SAASjB,KAAKuH,sBAAiB,EAAOtG,EAAEuG,gCAAgCvG,EAAElB,QAAQsE,EAAE,UAAU,SAASrE,KAAKuH,kBAAkBtG,EAAEuG,cAAcC,mBAAkB,GAAI,SAASzH,KAAK0H,oBAAoB3H,EAAEyH,cAAcG,eAAc,GAAItD,qBAAqBpD,EAAElB,EAAEsE,WAAW,SAASrE,KAAKgD,eAAe/B,EAAE2G,UAAU,SAAS5H,KAAK0H,oBAAoB3H,EAAE6H,UAAU,SAAS5H,KAAKkH,wBAAwB7C,EAAEuD,UAAUC,kBAAkB5G,SAASlB,EAAEkB,EAAE6G,yBAAyB,IAAIC,EAAE,KAAK1D,EAAEpD,EAAE+G,uBAAuB,IAAIC,EAAE,KAAK9G,KAAK+G,yBAAyBjH,EAAEkH,8BAA8B,eAAelH,EAAEf,MAAMC,aAAa,IAAIgC,EAAE,KAAKxB,EAAEM,EAAEmH,0BAA0B,IAAIC,EAAE,KAAKzF,EAAE,IAAI0F,EAAE,CAACxD,MAAM7D,EAAE6D,MAAM5E,MAAMe,EAAEf,MAAMqI,sBAAsBtH,EAAEsH,sBAAsBC,kCAAkCvH,EAAEuH,kCAAkCC,wBAAuB,EAAGvF,KAAKjC,EAAE6D,MAAM5B,KAAKE,KAAKnC,EAAE6D,MAAM1B,QAAQsF,qBAAqBnG,EAAE6E,wBAAwBtE,EAAEuE,WAAWhE,GAAGpC,QAAQ,CAAC+B,aAAaJ,EAAE8E,kBAAkB3H,EAAEwH,gBAAgBlD,EAAEsE,iBAAiBxH,EAAEyH,mBAAmBjI,EAAE+H,qBAAqBnG,EAAE6E,wBAAwBtE,EAAEuE,WAAWhE,GAAGwF,kBAAkBtB,iBAAiBvH,KAAKkH,sBAAsBtC,IAAI5E,KAAKE,MAAM,gBAAgB,IAAIF,KAAKuH,gBAAgBuB,kCAAkC9I,KAAK2I,wBAAwBzB,sBAAsBtC,IAAI5E,KAAK8E,MAAM,UAAU,IAAI9E,KAAK2I,iBAAiB1D,kBAAkBjF,KAAKkH,sBAAsBtC,IAAI5E,KAAK8E,MAAM,cAAc,IAAI9E,KAAK2I,iBAAiB1D,mBAAmBjF,KAAK4I,oBAAoB5I,KAAKkH,sBAAsBtC,IAAI5E,KAAKE,MAAM,iBAAiB,CAACe,EAAElB,OAAOkB,EAAElB,IAAIC,KAAKkH,sBAAsB6B,WAAW/I,KAAKgD,aAAagG,0BAA0BhJ,KAAKkH,sBAAsBtC,IAAI5E,KAAKE,MAAM,iBAAiB,IAAIF,KAAKgD,aAAaiG,yBAAyBjJ,KAAKkH,sBAAsBtC,IAAI5E,KAAKE,MAAM,gBAAgB,CAACe,EAAElB,OAAOkB,EAAElB,IAAIC,KAAKgD,aAAakG,2CAA2CxB,mBAAmB1H,KAAK0H,kBAAkBtD,MAAMpE,KAAK8E,aAAa7D,EAAEjB,KAAK8E,MAAM/E,EAAEC,KAAK8E,MAAMrC,KAAK0G,eAAe9E,EAAE,CAAC+E,EAAExH,EAAEyH,IAAIrJ,KAAKgD,aAAasG,aAAaC,yBAAyBH,EAAExH,EAAEyH,MAAMrJ,KAAKuH,iBAAiBvH,KAAKuH,gBAAgBnD,MAAMnD,EAAEjB,KAAKE,MAAMmE,EAAErE,KAAKgD,aAAajD,GAAGC,KAAK2I,8BAA8B1H,GAAG,eAAeA,IAAIjB,KAAK2I,iBAAiBvE,MAAMnD,EAAEjB,KAAKgD,cAAchD,KAAK4I,mBAAmB,OAAOhH,EAAEX,EAAEwB,KAAK+G,uBAAuBZ,mBAAmBxE,MAAMnD,EAAEoD,EAAErE,KAAKgD,aAAapB,QAAQ6H,KAAK,eAAe,IAAIC,EAAE1J,KAAKgD,eAAehD,KAAKyJ,KAAK,WAAWzJ,KAAK8E,MAAMrC,KAAKkH,QAAQC,iBAAiB5J,KAAKgD,aAAahD,KAAKuH,kBAAkBvH,KAAKyJ,KAAK,gBAAgBxI,EAAEwB,KAAKoH,aAAaD,iBAAiB5J,KAAKgD,qBAAqB3B,EAAErB,KAAKgD,aAAaoB,MAAM,CAACwE,mBAAmB5I,KAAK4I,mBAAmBrB,gBAAgBvH,KAAKuH,gBAAgBoB,iBAAiB3I,KAAK2I,iBAAiBkB,aAAa7J,KAAK8J,cAAcH,QAAQ3J,KAAK+J,SAASC,aAAahK,KAAKgK,gBAAgBhK,KAAKkH,sBAAsBtC,IAAI5E,KAAKE,MAAM,eAAeF,KAAKkH,sBAAsB6B,WAAW/I,KAAKgD,aAAaiH,eAAeb,MAAMpJ,KAAKkH,sBAAsBtC,IAAI3D,EAAE,eAAe,IAAIjB,KAAKgD,aAAakH,kBAAkBlK,KAAKmK,2BAA2BnK,KAAK0I,4BAA4BxB,sBAAsBtC,IAAI3D,EAAEwB,KAAK,gBAAgB,IAAIzC,KAAKoK,0BAA0BpK,KAAKoK,yBAAyBpK,KAAKgD,aAAaqH,sBAAsBrK,KAAKgD,aAAasH,qBAAqBjJ,EAAErB,KAAKgD,aAAakG,sBAAsBzI,eAAeyD,gBAAgBA,SAASzD,UAAUT,KAAKkE,SAAS,YAAYjD,EAAE,CAAC,wBAAwB,oBAAoB,kBAAkB,mBAAmB,qBAAqB,eAAe,0BAA0BlB,KAAKkB,EAAE,OAAOmI,EAAEpJ,KAAKD,SAASU,UAAUT,KAAKyJ,KAAK1J,EAAE,YAAY0J,KAAK,QAAQ,MAAMzJ,KAAKyJ,KAAK,QAAQ,MAAMc,aAAatJ,SAASuJ,IAAIzK,EAAE0K,OAAOpG,GAAGrE,KAAKgK,aAAaU,WAAW,EAAE,aAAa1K,KAAKgK,aAAaW,OAAO5K,EAAEkB,EAAE2J,KAAKvG,EAAEwG,UAAU5J,EAAEoD,MAAMpD,aAAavB,EAAE,OAAO8K,IAAIzK,EAAE0K,OAAOtJ,GAAGnB,KAAKgK,aAAaU,WAAW,EAAErG,UAAUrE,KAAK8E,MAAMgG,eAAe7J,GAAGoF,SAASrG,KAAKgK,aAAae,aAAahL,EAAEqJ,KAAKjI,KAAK,iBAAiBF,GAAG,iBAAiBA,SAASjB,KAAK6K,UAAU,CAAC5J,GAAGoD,MAAMpD,aAAaqC,SAAStD,KAAK6K,UAAU,CAAC5J,GAAGoD,MAAM,YAAYpD,MAAMA,EAAE+J,WAAWC,MAAMC,QAAQjK,IAAIA,EAAEkK,OAAO,EAAE,IAAIlK,EAAE,aAAaqC,EAAE,OAAOvD,EAAEkB,KAAK,MAAMmK,EAAEpL,KAAKE,MAAMmL,YAAYtL,EAAE,GAAGiH,WAAW3C,GAAG,OAAO+E,EAAErJ,EAAEuC,QAAQgJ,EAAEV,OAAOJ,IAAInB,EAAEoB,OAAOtJ,GAAGnB,KAAKgK,aAAaU,WAAW,EAAE,aAAa1K,KAAKgK,aAAauB,QAAQlC,EAAED,GAAGjI,IAAIpB,EAAEuC,QAAQ8I,EAAEpL,KAAKE,MAAMmL,YAAYjC,EAAEpC,WAAW3C,QAAQ,iBAAiBpD,EAAE,IAAI,iBAAiBA,EAAE,GAAG,OAAOlB,EAAEkB,GAAGuJ,IAAIrJ,EAAEsJ,OAAO9J,GAAGX,KAAKgK,aAAaU,WAAW,EAAErG,UAAUrE,KAAKgK,aAAae,aAAa5J,EAAEpB,GAAGY,UAAU6K,EAAEpB,8BAA8BnJ,EAAEjB,KAAK8E,MAAMrC,KAAKgJ,kBAAkBzI,aAAa0I,kBAAkBzK,EAAEjB,KAAK8E,MAAMrC,KAAKnC,yBAAyBoI,qBAAqBzH,IAAIjB,KAAKgD,aAAa2I,uBAAuBxB,iCAAiCzC,mBAAmB1H,KAAKuH,kBAAkBvH,KAAKkE,SAASU,IAAIrC,EAAEvC,KAAK,2BAA2B,YAAYA,KAAKkE,SAAS0H,OAAOC,GAAG7L,KAAKoH,6BAA6B,gBAAgBlD,SAASU,IAAI,CAACrC,EAAEvC,KAAKgD,aAAa,qBAAqBhD,KAAK8L,0BAA0B7K,KAAKjB,KAAKgD,aAAa+I,MAAM,iBAAiB,IAAI/L,KAAK8L,0BAA0B9L,KAAKgD,aAAagJ,mBAAmBH,aAAa,YAAY3H,SAASU,IAAI,CAACrC,EAAEvC,KAAK,iBAAiBA,KAAK8L,0BAA0B7K,KAAKjB,KAAKgD,aAAa+I,MAAM,iBAAiB,IAAI/L,KAAK8L,0BAA0B9L,KAAKqH,eAAewE,mBAAmB7L,KAAKoH,8BAA8B0E,0BAA0B7K,KAAKjB,KAAKiM,2BAA2BjM,KAAKkM,0BAA0BjL,EAAEjB,KAAKsH,sBAAsBtH,KAAKiM,2BAA2B,MAAMC,0BAA0BjL,EAAElB,SAASsE,EAAErE,KAAK8E,MAAMrC,KAAKnC,qBAAqBW,EAAEX,iBAAiB6L,OAAO9H,GAAG,KAAKyB,EAAE7E,EAAEoD,YAAYK,EAAEzD,EAAEoD,UAAU+H,EAAEnL,EAAElB,EAAEK,EAAEJ,KAAKgD,aAAaqJ,eAAeJ,2BAA2BhL,QAAQyG,mBAAmB1H,KAAK0H,kBAAkB4E,UAAUrL,GAAGjB,KAAKuH,iBAAiBvH,KAAKuH,gBAAgB+E,UAAUrL,KAAKc,EAAE,CAACpC,EAAE,CAACgE,QAAQ,wBAAwBsD,EAAExD,UAAU,aAAQ,GAAQ1B,EAAE,CAACpC,EAAE,CAACgE,QAAQ,wBAAwBsD,EAAExD,UAAU,aAAQ,GAAQ1B,EAAE,CAACpC,EAAE,CAAC6D,eAAc,KAAMyD,EAAExD,UAAU,4BAAuB,GAAQ1B,EAAE,CAACpC,EAAE,CAAC6D,eAAc,KAAMyD,EAAExD,UAAU,oBAAe,GAAQ1B,EAAE,CAACpC,EAAE,CAAC6D,eAAc,KAAMyD,EAAExD,UAAU,uBAAkB,GAAQ1B,EAAE,CAACpC,EAAE,CAAC6D,eAAc,KAAMyD,EAAExD,UAAU,wBAAmB,GAAQ1B,EAAE,CAACpC,EAAE,CAAC6D,eAAc,KAAMyD,EAAExD,UAAU,0BAAqB,GAAQ1B,EAAE,CAACpC,EAAE,CAAC6D,eAAc,KAAMyD,EAAExD,UAAU,yBAAoB,GAAQ1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,KAAMuD,EAAExD,UAAU,qBAAgB,GAAQ1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,KAAMuD,EAAExD,UAAU,gBAAW,GAAQ1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,KAAMuD,EAAExD,UAAU,oBAAe,GAAQ1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,KAAMuD,EAAExD,UAAU,6BAAwB,GAAQ1B,EAAE,CAACpC,KAAKsH,EAAExD,UAAU,+BAA0B,GAAQ1B,EAAE,CAACpC,KAAKsH,EAAExD,UAAU,kBAAa,GAAQ1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,KAAMuD,EAAExD,UAAU,YAAY,MAAM1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,KAAMuD,EAAExD,UAAU,cAAc,MAAM1B,EAAE,CAACpC,EAAE,CAAC+D,UAAS,EAAG6I,UAAU,CAAC,wBAAwB,6BAA6B,qCAAqCtF,EAAExD,UAAU,WAAW,MAAMwD,EAAElF,EAAE,CAACnC,EAAE,iEAAiEqH,GAAM,IAACuF,EAAEvF,EAAE,MAAM4E,EAAE,0BAA0BL,EAAE,CAACI,WAAWa,UAAUC"}