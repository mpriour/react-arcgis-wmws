{"version":3,"file":"rasterProjectionHelper.d2fb66f4.js","sources":["../../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isNone as t,isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import{isLoaded as r,isSupported as i,load as a,getTransformation as s,project as l}from\"../../../geometry/projection.js\";import{project as c}from\"../../../geometry/support/webMercatorUtils.js\";import x from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";const f=5e-4,u=function(e,t){const n=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||n)},p=function(e,t){const n=(e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4,o=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs(n-e[2*t.rows+2]),Math.abs(o-e[2*t.rows+3])]},h={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},y=32;async function M(){if(r()||!i())return null;await a()}function d(t,n,o){if(!u(t.spatialReference,n))return null;if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return o?s(n,t.spatialReference,t):s(t.spatialReference,n,t)}function g(n,o,i,a=null){if(n.spatialReference.equals(o))return n;const s=u(n.spatialReference,o);if(s&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const m=i.center,f=new x({xmin:m.x-n.x/2,xmax:m.x+n.x/2,ymin:m.y-n.y/2,ymax:m.y+n.y/2,spatialReference:n.spatialReference}),p=s?l(f,o,a):c(f,o);if(t(p))return null;return{x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w(e,t=.01){return o(e)?t/o(e):0}function R(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;let x=c(n,o);if(t(x)){if(!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");x=l(n,o,i)}if(a&&o.isGeographic){const[e,t]=N(s,!0),o=w(s);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<f?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<f&&(x.x+=360))}return x}function j(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new x({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function b(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=z(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return v(e,t,o,r);return j(e.clone().normalize().map((e=>v(e,t,o,r))))}function v(n,o,i=null,a=!0){const s=n.spatialReference;if(s.equals(o))return n;if(u(s,o)&&!r())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");let x=c(n,o);t(x)&&(x=l(n,o,i));let[p,h]=N(s,!0);if(x&&a&&s.isWebMercator&&o.isGeographic&&null!=p&&null!=h){const e=.001,t=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>t&&Math.abs(180-x.xmax)<f){x.xmin=-180;const e=[];e.push(new m(n.xmax,n.ymin,s)),e.push(new m(n.xmax,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmax,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmax=Math.max.apply(null,t)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>t&&Math.abs(180+x.xmin)<f){x.xmax=180;const e=[];e.push(new m(n.xmin,n.ymin,s)),e.push(new m(n.xmin,(n.ymin+n.ymax)/2,s)),e.push(new m(n.xmin,n.ymax,s));const t=e.map((e=>R(e,o,i))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));x.xmin=Math.min.apply(null,t)}}[p,h]=N(o,!0);const y=w(o);return y&&null!=p&&null!=h&&(Math.abs(x.xmin-p)<y&&(x.xmin=p),Math.abs(x.xmax-h)<y&&(x.xmax=h)),x}function S(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*h[e.wkid]||null}function N(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function W(e,t,n,o){let r=(e-t)/n;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function z(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return W(e.xmax,r,o,!0)-W(e.xmin,r,o,!1)}function G(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const f=[],u=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=u?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,u=(c-Math.round(h/m)%c)%c;f.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:u,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:f,hasGCSSShiftTransform:u}}function P(t,o,i,a=null,s=null,l=!1,c=[y,y]){if(u(t.spatialReference,o.spatialReference)&&!r())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&o&&i))return null;const{xmin:x,ymin:f,xmax:h,ymax:M}=t,d=t.spatialReference,g=o.spatialReference,w=S(g);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((h-x)/j.x-.1/c[0])+1,rows:Math.ceil((M-f)/j.y-.1/c[1])+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let r=0;r<b.rows;r++){let i=R(new m({x:x+v*e,y:M-N*r,spatialReference:d}),g,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[r]&&n(w)&&i.x<z[r].x&&(i.x+=w),i?(W.push((i.x-o.xmin)/(o.xmax-o.xmin)),W.push((o.ymax-i.y)/(o.ymax-o.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=p(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let t=0;t<b.rows-1;t++){let n=e*b.rows*2+2*t;const o=W[n],r=W[n+1],i=W[n+2],a=W[n+3];n+=2*b.rows;const s=W[n],l=W[n+1],c=W[n+2],x=W[n+3];let m=0,f=12*(t*(b.cols-1)+e);for(let e=0;e<3;e++)C[f++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[f++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function C(e){const t=e.clone().normalize();return 1===t.length?t[0]:j(t)}function L(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,x=(i.x+i.y)/2;if(n<=x)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=x;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const f=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new m({x:f.x,y:f.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,x=Math.log(e.y/i.y)/Math.LN2,f=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,x)):\"up\"===o?Math.ceil(Math.max(c,x)):Math.round((c+x)/2),a<0?a=0:a>f&&(s=a>f+3,a=f);const u=2**a;return{pyramidLevel:a,pyramidResolution:new m({x:u*t.nativePixelSize.x,y:u*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function k(e,t,n=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new m({x:s.x,y:s.y,spatialReference:a}),t,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,x=o(t),f=c*x*96*39.37,u=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let p=\"vector-magdir\"===e.dataType||\"vector-uv\"===e.dataType;const h=b(i,t);p||r&&(t.isGeographic||t.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=f;const d=1.001;if(p){M=u;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*x*39.37),o=t.isGeographic?4326:3857;y=g(new m({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/n,y.y*=M/n}else{y={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;M<u*(d/2)&&n<t;)n++,M*=2,y.x*=2,y.y*=2;Math.max(M,u)/Math.min(M,u)<=d&&(M=u)}const w=[M],R=[{x:y.x,y:y.y}],j=70.5310735,v=Math.min(j,f)/d;for(;M>=v;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{k as computeProjectedScales,y as defaultGridSpacing,d as getDefaultDatumTransformationForDataset,P as getProjectionOffsetGrid,G as getRasterDatasetAlignmentInfo,z as getWorldWrapCount,M as load,b as projectExtent,R as projectPoint,g as projectResolution,C as snapExtent,L as snapPyramid};\n"],"names":["f","u","e","t2","n","isWGS84","isWebMercator","equals","h","async","r","i","a","o","spatialReference","s","m","center","f2","x","xmin","xmax","ymin","y","ymax","p2","l","c","t","isGeographic","N","o2","w","abs","Math","S","length","min","max","z","j","clone","normalize","map","v","e2","h2","push","t3","R","e3","filter","isNaN","apply","y2","wkid","r2","floor","W","storageInfo","origin","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","extent","s2","maximumPyramidLevel","blockWidth","pyramidScalingFactor","u2","transform","type","n2","ceil","i2","a2","l2","round","u3","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","M2","d2","g2","w2","j2","b2","cols","rows","v2","N2","W2","z2","G2","inverseTransform","NaN","P2","p","C2","Float32Array","L2","k2","c2","x2","f3","offsets","error","coefficients","spacing","size","pixelSize","pyramidResolutions","r3","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","g","projectedPixelSize","scales","srcResolutions","isCustomTilingScheme","dataType","b","width","height","R2"],"mappings":"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"}