{"version":3,"file":"popupUtils.99eeb504.js","sources":["../../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n"],"names":["async","t2","d2","popupTemplate","e","i","getRequiredFields","fieldsIndex","lastEditInfoEnabled","n","objectIdField","s","typeIdField","a","globalIdField","o","relationships","u","includes","f","p","r","l","push","has","r$1","indexOf","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"mappings":"yDAI4IA,iBAAiBC,EAAEC,EAAED,EAAEE,mBAAmBC,EAAEF,SAAS,SAASG,QAAQH,EAAEI,kBAAkBL,EAAEM,cAAcC,oBAAoBC,GAAGP,GAAGQ,cAAcC,EAAEC,YAAYC,EAAEC,cAAcC,EAAEC,cAAcC,GAAGhB,KAAKI,EAAEa,SAAS,WAAW,CAAC,WAAWC,EAAEV,QAAQW,EAAEnB,GAAG,GAAGoB,EAAEC,EAAErB,EAAEM,YAAY,IAAIF,KAAKc,WAAWN,GAAGQ,EAAEE,KAAKV,GAAGQ,GAAGV,GAAGV,EAAEM,YAAYiB,IAAIb,SAAIc,EAAOC,QAAQf,IAAIU,EAAEE,KAAKZ,GAAGU,GAAGN,GAAGd,EAAEM,YAAYiB,IAAIT,SAAIU,EAAOC,QAAQX,IAAIM,EAAEE,KAAKR,GAAGE,GAAGA,EAAEU,mBAAmBC,SAASR,GAAGhB,KAAKgB,GAAGnB,EAAEM,YAAYiB,IAAIJ,SAAIK,EAAOC,QAAQN,IAAIC,EAAEE,KAAKH,MAAMC,EAAE,WAAWD,EAAEE,UAAUF,EAAEjB,cAAciB,EAAEjB,cAAcC,EAAEkB,IAAIA,EAAEO,6BAA6BzB,EAAEgB,EAAEU,sBAAsBV,EAAEU,qBAAqB"}