var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(r,t,s)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,n=(e,r)=>{for(var t in r||(r={}))a.call(r,t)&&i(e,t,r[t]);if(s)for(var t of s(r))o.call(r,t)&&i(e,t,r[t]);return e},u=(e,s)=>r(e,t(s));import{b5 as p,C as l,N as c,F as f,H as m,b6 as b}from"./vendor.7103ff48.js";import{u as y,d as B,c as d,p as g,f as v,o as j}from"./networkService.6894c31e.js";import"./GPMessage.b19d3dbb.js";const w=j({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});let O=class extends b{constructor(e){super(e)}solve(e,r){return async function(e,r,t){const s=[],a=[],o={},i={},f=p(e),{path:m}=f;r.stops&&r.stops.features&&y(r.stops.features,a,"stops.features",o),r.pointBarriers&&r.pointBarriers.features&&y(r.pointBarriers.features,a,"pointBarriers.features",o),r.polylineBarriers&&r.polylineBarriers.features&&y(r.polylineBarriers.features,a,"polylineBarriers.features",o),r.polygonBarriers&&r.polygonBarriers.features&&y(r.polygonBarriers.features,a,"polygonBarriers.features",o);const b=await l(a);for(const n in o){const e=o[n];s.push(n),i[n]=b.slice(e[0],e[1])}if(B(i,s)){let e=null;try{e=await d(m,r.apiKey,t)}catch{}e&&!e.hasZ&&g(i,s)}for(const n in i)i[n].forEach(((e,t)=>{r.get(n)[t].geometry=e}));const j=u(n({},t),{query:u(n(n({},f.query),w.toQueryParams(r)),{f:"json"})}),O=m.endsWith("/solve")?m:`${m}/solve`,h=await c(O,j);return v(h)}(this.url,e,r)}};O=f([m("esri.tasks.RouteTask")],O);var h=O;export{h as default};
//# sourceMappingURL=RouteTask.9470978f.js.map
