{"version":3,"file":"wfsUtils.b57f2543.js","sources":["../../node_modules/@arcgis/core/core/interatorUtils.js","../../node_modules/@arcgis/core/layers/ogc/dateUtils.js","../../node_modules/@arcgis/core/layers/ogc/wfsUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n,o){for(const f of n)if(null!=f&&o(f))return f}export{n as find};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction n(n){var s;return null!=(s=t(n))?s:e(n)}function e(n){const e=new Date(n).getTime();return Number.isNaN(e)?null:e}function t(n){var e,t,u,r;const o=s.exec(n);if(!o)return null;const l=o.groups,f=+l.year,i=+l.month-1,d=+l.day,a=+(null!=(e=l.hours)?e:\"0\"),c=+(null!=(t=l.minutes)?t:\"0\"),m=+(null!=(u=l.seconds)?u:\"0\");if(a>23)return null;if(c>59)return null;if(m>59)return null;const g=null!=(r=l.ms)?r:\"0\",T=g?+g.padEnd(3,\"0\").substring(0,3):0;let N;if(l.isUTC)N=Date.UTC(f,i,d,a,c,m,T);else if(l.offsetSign){const n=+l.offsetHours,e=+l.offsetMinutes;N=6e4*(\"+\"===l.offsetSign?-1:1)*(60*n+e)+Date.UTC(f,i,d,a,c,m,T)}else N=new Date(f,i,d,a,c,m,T).getTime();return Number.isNaN(N)?null:N}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{n as parseDate,e as parseJSDate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{find as r}from\"../../core/interatorUtils.js\";import{isNone as n,isSome as a}from\"../../core/maybe.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as s,hasSameOrigin as i,toHTTPS as u}from\"../../core/urlUtils.js\";import{initializeProjection as l,project as p}from\"../../geometry/projection.js\";import{WGS84 as c,equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as f}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as d}from\"./dateUtils.js\";import{iterateXML as g,visitXML as w}from\"./xmlUtils.js\";import b from\"../support/Field.js\";import h from\"../../geometry/SpatialReference.js\";import T from\"../../geometry/Extent.js\";const F=\"xlink:href\",S=\"2.0.0\",x=\"__esri_wfs_id__\",v=\"wfs-layer:getWFSLayerTypeInfo-error\",C=\"wfs-layer:empty-service\",E=\"wfs-layer:feature-type-not-found\",N=\"wfs-layer:geojson-not-supported\",P=\"wfs-layer:kvp-encoding-not-supported\",R=\"wfs-layer:malformed-json\",j=\"wfs-layer:unknown-geometry-type\",A=\"wfs-layer:unknown-field-type\",G=\"wfs-layer:unsupported-spatial-reference\",k=\"wfs-layer:unsupported-wfs-version\";async function U(t,r){const n=D((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:S,...null==r?void 0:r.customParameters},signal:null==r?void 0:r.signal})).data);return L(t,n),n}function D(e){const t=ee(e);re(t),ne(t);const r=t.firstElementChild,n=new Map;return{operations:O(r),get featureTypes(){return Array.from(M(r,n))},readFeatureTypes:()=>M(r,n)}}const I=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function O(e){let r=!1;const a={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(w(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{a.GetCapabilities.url=e.getAttribute(F)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{a.DescribeFeatureType.url=e.getAttribute(F)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{a.GetFeature.url=e.getAttribute(F)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;I.has(t.toLowerCase())&&(a.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{a.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(P,\"WFS service doesn't support key/value pair (KVP) encoding\");if(n(a.GetFeature.outputFormat))throw new t(N,\"WFS service doesn't support GeoJSON output format\");return a}function L(e,t){s(e)&&(i(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=u(t.operations.DescribeFeatureType.url)),i(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=u(t.operations.GetFeature.url)))}function M(e,t){return g(e,{FeatureTypeList:{FeatureType:e=>{if(t.has(e))return t.get(e);const r={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},n=new Set([4326]),a=e=>{var t,r;const a=parseInt(null==(t=e.textContent.match(/(?<wkid>\\d+$)/i))||null==(r=t.groups)?void 0:r.wkid,10);Number.isNaN(a)||n.add(a)};return w(e,{Name:e=>{const{name:t,prefix:n}=te(e.textContent);r.typeName=`${n}:${t}`,r.name=t,r.namespacePrefix=n,r.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{r.description=e.textContent},Title:e=>{r.title=e.textContent},WGS84BoundingBox:e=>{r.extent=$(e)},DefaultSRS:a,DefaultCRS:a,OtherSRS:a,OtherCRS:a}),r.title||(r.title=r.name),r.supportedSpatialReferences.push(...n),t.set(e,r),r}}})}function $(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:c}}function V(e,t,n){return r(e,(e=>n?e.name===t&&e.namespaceUri===n:e.typeName===t||e.name===t))}async function W(e,t,r,n={}){var a;const{featureType:o,extent:s}=await X(e,t,r,n),{fields:i,geometryType:u,swapXY:l,objectIdField:p,geometryField:c}=await Y(e,o.typeName,n);return{url:e.operations.GetCapabilities.url,name:o.name,namespaceUri:o.namespaceUri,fields:i,geometryField:c,geometryType:u,objectIdField:p,spatialReference:null!=(a=n.spatialReference)?a:h.WGS84,extent:s,swapXY:l,wfsCapabilities:e,customParameters:n.customParameters}}async function X(e,r,a,o={}){const{spatialReference:s=h.WGS84}=o,i=e.readFeatureTypes(),u=r?V(i,r,a):i.next().value;if(n(u))throw r?new t(E,`The type '${r}' could not be found in the service`):new t(C,\"The service is empty\");let y=new T({...u.extent,spatialReference:s});if(!m(s,c))try{await l(c,s,void 0,o),y=p(y,c)}catch{throw new t(G,\"Projection not supported\")}return{extent:y,spatialReference:s,featureType:u}}async function Y(e,r,a={}){const[s,i]=await o([_(e.operations.DescribeFeatureType.url,r,a),z(e,r,a)]);if(s.error||i.error)throw new t(v,`An error occurred while getting info about the feature type '${r}'`,{error:s.error||i.error});const{fields:u,errors:l}=s.value,p=s.value.geometryType||i.value.geometryType,c=i.value.swapXY;if(n(p))throw new t(j,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:p,fields:u,errors:l});return{...q(u),geometryType:p,swapXY:c}}function q(e){var t;const r=e.find((e=>\"geometry\"===e.type));let n=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),n||(n=new b({name:x,type:\"oid\",alias:x}),e.unshift(n)),{geometryField:null!=(t=null==r?void 0:r.name)?t:null,objectIdField:n.name,fields:e}}async function z(t,r,n={}){var a;let o,s=!1;const[i,u]=await Promise.all([B(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:K(r,void 0,{...n,count:1}),signal:null==n?void 0:n.signal})]),l=\"FeatureCollection\"===i.type&&(null==(a=i.features[0])?void 0:a.geometry);if(l){let e;switch(o=y.fromJSON(f(l.type)),l.type){case\"Point\":e=l.coordinates;break;case\"LineString\":case\"MultiPoint\":e=l.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=l.coordinates[0][0];break;case\"MultiPolygon\":e=l.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(u.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(s=!0)}}return{geometryType:o,swapXY:s}}async function _(t,r,n){return J(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:S,TYPENAME:r,...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data)}function J(e,n){const{name:o}=te(e),s=ee(n);ne(s);const i=r(g(s.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:te(e.getAttribute(\"type\")).name})}),(({name:e})=>e===o));if(a(i)){const e=r(g(s.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===i.typeName));if(a(e))return H(e)}throw new t(E,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(s)})}const Q=new Set([\"objectid\",\"fid\"]);function H(e){var r,n;const a=[],o=[];let s;const i=g(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const u of i){const i=u.getAttribute(\"name\");if(!i)continue;let l,p;if(u.hasAttribute(\"type\")?l=te(u.getAttribute(\"type\")).name:w(u,{simpleType:{restriction:e=>(l=te(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!l)continue;const c=\"true\"===u.getAttribute(\"nillable\");let m=!1;switch(l.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":o.push(new b({name:i,alias:i,type:\"integer\",nullable:c}));break;case\"float\":case\"double\":case\"decimal\":o.push(new b({name:i,alias:i,type:\"double\",nullable:c}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":o.push(new b({name:i,alias:i,type:\"string\",nullable:c,length:null!=(r=p)?r:255}));break;case\"datetime\":case\"date\":o.push(new b({name:i,alias:i,type:\"date\",nullable:c,length:null!=(n=p)?n:36}));break;case\"pointpropertytype\":s=\"point\",m=!0;break;case\"multipointpropertytype\":s=\"multipoint\",m=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":s=\"polyline\",m=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":s=\"polygon\",m=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":m=!0,a.push(new t(j,`geometry type '${l}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:a.push(new t(A,`Unknown field type '${l}'`,{type:(new XMLSerializer).serializeToString(e)}))}m&&o.push(new b({name:i,alias:i,type:\"geometry\",nullable:c}))}for(const t of o)if(\"integer\"===t.type&&!t.nullable&&Q.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:s,fields:o,errors:a}}async function B(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:K(n,a,o),signal:null==o?void 0:o.signal});s=s.replace(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{var i;if(null!=o&&null!=(i=o.dateFields)&&i.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?d(r):r))}return JSON.parse(s)}catch(u){throw new t(R,\"Error while parsing theÂ response\",{response:s,error:u})}}function K(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:S,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:null==r?void 0:r.startIndex,COUNT:null==r?void 0:r.count,...null==r?void 0:r.customParameters}}async function Z(t,r,n){const a=ee((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:S,TYPENAMES:r,RESULTTYPE:\"hits\",...null==n?void 0:n.customParameters},signal:null==n?void 0:n.signal})).data);ne(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function ee(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function te(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:null!=r?r:t}}function re(e){const r=e.firstElementChild.getAttribute(\"version\");if(r&&r!==S)throw new t(k,`Unsupported WFS version ${r}. Supported version: ${S}`)}function ne(e){let r,n;if(w(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{x as WFS_OID_FIELD_NAME,_ as describeFeatureType,V as findFeatureType,U as getCapabilities,B as getFeature,Z as getFeatureCount,X as getFeatureTypeInfo,W as getWFSLayerInfo,J as parseDescribeFeatureTypeResponse,D as parseGetCapabilitiesResponse,q as prepareWFSLayerFields};\n"],"names":["n2","o2","f","s2","e2","t2","u","r2","s","exec","l","groups","year","i2","month","d","day","a","hours","c2","minutes","m","seconds","g","ms","T","padEnd","substring","N2","isUTC","Date","UTC","offsetSign","n3","offsetHours","e3","offsetMinutes","getTime","Number","isNaN","t","e","F","S","x","v","C","E","j","A","G","k","async","ee","firstElementChild","getAttribute","ne","Map","operations","O","Array","from","M","readFeatureTypes","D","responseType","query","__spreadValues","SERVICE","REQUEST","VERSION","customParameters","signal","data","DescribeFeatureType","url","i","GetFeature","L","I","Set","GetCapabilities","outputFormat","supportsPagination","w","OperationsMetadata","Operation","DCP","HTTP","Get","e4","Parameter","AllowedValues","Value","e5","textContent","has","toLowerCase","Constraint","DefaultValue","n","FeatureTypeList","FeatureType","get","typeName","name","title","description","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","t3","r3","a2","parseInt","match","wkid","add","Name","prefix","te","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","c","$","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","push","set","r","featureType","h","WGS84","V","next","value","y2","__spreadProps","p","X","fields","geometryType","swapXY","objectIdField","geometryField","o","_","z","error","errors","q","Y","wfsCapabilities","find","type","filter","b","alias","unshift","Promise","all","B","count","K","features","geometry","y","fromJSON","coordinates","toFixed","element","complexType","complexContent","extension","sequence","i3","hasAttribute","simpleType","restriction","maxLength","nullable","length","XMLSerializer","serializeToString","Q","H","document","J","TYPENAME","replace","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText"],"mappings":"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"}