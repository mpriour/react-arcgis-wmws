import{M as n}from"./vendor.7103ff48.js";function t(n,t){return n?t?4:3:t?3:2}function e(e,N,s,c,f){if(n(N)||!N.lengths.length)return null;const i="upperLeft"===(null==f?void 0:f.originPosition)?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const T=e.coords,h=[],g=s?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:E,coords:m}=N,b=t(s,c);let F=0;for(const n of E){const t=r(g,m,F,n,s,c,i);t&&h.push(t),F+=n*b}if(h.sort(((n,t)=>{let e=i*n[2]-i*t[2];return 0===e&&s&&(e=n[4]-t[4]),e})),h.length){let n=6*h[0][2];T[0]=h[0][0]/n,T[1]=h[0][1]/n,s&&(n=6*h[0][4],T[2]=0!==n?h[0][3]/n:0),(T[0]<g[0]||T[0]>g[1]||T[1]<g[2]||T[1]>g[3]||s&&(T[2]<g[4]||T[2]>g[5]))&&(T.length=0)}if(!T.length){const n=N.lengths[0]?function(n,e,r,N,s){const c=t(N,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let t=0,m=r-1;t<m;t++,f+=c,i+=c){const t=n[f],e=n[f+1],r=n[f+2],s=n[i],c=n[i+1],m=n[i+2],b=N?o(t,e,r,s,c,m):I(t,e,s,c);if(b)if(T+=b,N){const n=l(t,e,r,s,c,m);h+=b*n[0],g+=b*n[1],E+=b*n[2]}else{const n=u(t,e,s,c);h+=b*n[0],g+=b*n[1]}}return T>0?N?[h/T,g/T,E/T]:[h/T,g/T]:r>0?N?[n[e],n[e+1],n[e+2]]:[n[e],n[e+1]]:null}(m,0,E[0],s,c):null;if(!n)return null;T[0]=n[0],T[1]=n[1],s&&n.length>2&&(T[2]=n[2])}return e}function r(n,e,r,I,o,u,l=1){const N=t(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let t=0,m=I-1;t<m;t++,s+=N,c+=N){const t=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=t*l-u*r;h+=E,f+=(t+u)*E,i+=(r+l)*E,o&&(E=t*N-u*I,T+=(I+N)*E,g+=E),t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t),r<n[2]&&(n[2]=r),r>n[3]&&(n[3]=r),o&&(I<n[4]&&(n[4]=I),I>n[5]&&(n[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function I(n,t,e,r){const I=e-n,o=r-t;return Math.sqrt(I*I+o*o)}function o(n,t,e,r,I,o){const u=r-n,l=I-t,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function u(n,t,e,r){return[n+.5*(e-n),t+.5*(r-t)]}function l(n,t,e,r,I,o){return[n+.5*(r-n),t+.5*(I-t),e+.5*(o-e)]}export{e};
//# sourceMappingURL=centroid.f07ef5b9.js.map
