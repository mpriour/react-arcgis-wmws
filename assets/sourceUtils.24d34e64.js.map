{"version":3,"file":"sourceUtils.24d34e64.js","sources":["../../node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const a in r){const s=t.get(a);if(!s)continue;const c=r[a],d=m(s,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:s,originalValue:c,sanitizedValue:d}}),f.add(s.name),s&&(o||s.editable)){const t=n(s,d);if(t)return u(i(t,s,d));e[s.name]=d}}if(s)for(const n of s)if(!f.has(n.name))return u(`missing required field \"${n.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n"],"names":["constructor","code","this","description","t","error","o","globalId","objectId","success","uniqueId","l","a","f","Set","e","r","s","o2","l2","clear","a2","s2","get","c2","d2","m","push","name","message","details","field","originalValue","sanitizedValue","add","editable","t2","n","u","i","has","parseFloat","String","p","TypeError","simplify","async","import","g"],"mappings":"kFAIoP,QAAQA,mBAAmBC,KAAK,KAAKC,KAAKC,YAAY,MAAM,QAAQH,YAAYI,QAAQC,MAAM,IAAIC,EAAEJ,KAAKK,SAAS,KAAKL,KAAKM,SAAS,KAAKN,KAAKO,SAAQ,EAAGP,KAAKQ,SAAS,KAAKR,KAAKG,MAAMF,YAAYC,GAAG,WAAWA,UAAU,IAAIO,EAAEP,GAAG,QAAQJ,YAAYI,QAAQG,SAAS,KAAKL,KAAKO,SAAQ,EAAGP,KAAKM,SAASN,KAAKQ,SAASN,GAAG,WAAWA,UAAU,IAAIQ,EAAER,GAAG,MAAMS,EAAE,IAAIC,IAAI,WAAWV,EAAEW,EAAEC,EAAEC,EAAEC,GAAE,EAAGC,KAAKC,kBAAkBC,KAAKL,EAAE,OAAOM,EAAElB,EAAEmB,IAAIF,OAAOC,iBAAiBE,EAAER,EAAEK,GAAGI,EAAEC,EAAEJ,EAAEE,MAAMC,IAAID,GAAGL,GAAGA,EAAEQ,KAAK,CAACC,KAAK,qBAAqBC,QAAQ,wDAAwDC,QAAQ,CAACC,MAAMT,EAAEU,cAAcR,EAAES,eAAeR,KAAKZ,EAAEqB,IAAIZ,EAAEM,MAAMN,OAAOA,EAAEa,UAAU,OAAOC,EAAEC,EAAEf,EAAEG,MAAMW,SAASE,EAAEC,EAAEH,EAAEd,EAAEG,MAAMH,EAAEM,MAAMH,MAAMR,YAAYoB,KAAKpB,MAAMJ,EAAE2B,IAAIH,EAAET,aAAaU,EAAE,2BAA2BD,EAAET,gBAAgB,KAAK,WAAWxB,EAAEiC,OAAOE,EAAEF,QAAQ,iBAAiBA,GAAGrB,EAAEZ,GAAGmC,EAAEE,WAAWJ,GAAG,MAAMA,GAAGpB,EAAEb,IAAI,iBAAiBiC,MAAMK,OAAOL,IAAItB,EAAEwB,GAAG,IAAII,EAAE,WAAW5B,EAAEsB,OAAOtB,IAAIX,EAAEiC,UAAUtB,KAAK,UAAUA,GAAG,UAAUA,EAAE,KAAK4B,QAAQ,IAAIC,UAAU,qCAAqCD,EAAEE,SAASR,EAAEtB,UAAUA,EAAgG+B,iBAAiB/B,EAAEsB,IAAIjC,EAAEW,IAAI,wBAAAsB,GAA2B,yBAAAA,SAAtJS,wBAA0BH,YAAYI,OAAO,oCAA8CJ,GAA6FK"}