{"version":3,"file":"QueryEngine.e60e2d2b.js","sources":["../../node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js","../../node_modules/@arcgis/core/core/sql/WhereClauseCache.js","../../node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js","../../node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js","../../node_modules/@arcgis/core/smartMapping/support/utils.js","../../node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";const s=new i(50,500),n=\"feature-store:unsupported-query\",t=\" as \",r=new Set([\"esriFieldTypeOID\",\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\",\"esriFieldTypeDate\"]);function o(i,t){if(!t)return!0;const r=s.get(t,i);if(!r)throw new e(n,\"invalid SQL expression\",{where:t});if(!r.isStandardized)throw new e(n,\"where clause is not standard\",{where:t});return c(i,r.fieldNames,\"where clause contains missing fields\"),!0}function a(i,t,r){if(!t)return!0;const o=s.get(t,i);if(!o)throw new e(n,\"invalid SQL expression\",{having:t});if(!o.isAggregate)throw new e(n,\"having does not contain a valid aggregate function\",{having:t});const a=o.fieldNames;c(i,a,\"having contains missing fields\");if(!o.getExpressions().every((e=>{const{aggregateType:s,field:n}=e,t=i.has(n)&&i.get(n).name;return r.some((e=>{const{onStatisticField:n,statisticType:r}=e;return(i.has(n)&&i.get(n).name)===t&&r.toLowerCase().trim()===s}))})))throw new e(n,\"expressions in having should also exist in outStatistics\",{having:t});return!0}function l(e,i){return e?s.get(e,i):null}function c(i,s,t,r=!0){const o=[];for(const u of s)if(\"*\"!==u&&!i.has(u))if(r){const s=d(u);try{const t=l(s,i);if(!t)throw new e(n,\"invalid SQL expression\",{where:s});if(!t.isStandardized)throw new e(n,\"expression is not standard\",{clause:t});c(i,t.fieldNames,\"expression contains missing fields\")}catch(a){const e=a&&a.details;if(e&&(e.clause||e.where))throw a;e&&e.missingFields?o.push(...e.missingFields):o.push(u)}}else o.push(u);if(o.length)throw new e(n,t,{missingFields:o})}function d(e){return e.split(t)[0]}function u(e){return e.split(t)[1]}function f(e,i){const s=i.get(e);return!!s&&!r.has(s.type)}export{u as getAliasFromFieldName,d as getExpressionFromFieldName,l as getWhereClause,f as hasInvalidFieldType,c as validateFields,a as validateHaving,o as validateWhere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../ItemCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class c{constructor(e,c){this._cache=new t(e),this._invalidCache=new t(c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=e.create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}export{c as WhereClauseCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{getExpressionFromFieldName as e,getWhereClause as s,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getNormalizedValue as a}from\"../../../smartMapping/statistics/support/utils.js\";class r{constructor(t,a,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=t.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=a;const l=t.outFields;if(l&&-1===l.indexOf(\"*\")){this.outFields=l;let t=0;for(const a of l){const l=e(a),u=this.fieldsIndex.get(l),n=u?null:s(l,r),c=u?u.name:i(a)||\"FIELD_EXP_\"+t++;this._fieldDataCache.set(a,{alias:c,clause:n})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,e,i){const a=i?i.name:e;let r=null;return this._fieldDataCache.has(a)?r=this._fieldDataCache.get(a).clause:i||(r=s(e,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:r})),i?this.featureAdapter.getAttribute(t,a):r.calculateValue(t,this.featureAdapter)}getNormalizedValue(t,e){const s=e.normalizationType,i=e.normalizationTotal;let r=this.getFieldValue(t,e.field,e.fieldInfo);if(s&&Number.isFinite(r)){const l=this.getFieldValue(t,e.normalizationField,e.normalizationFieldInfo);r=a(r,s,l,i)}return r}getExpressionValue(t,e,s){const i={attributes:this.featureAdapter.getAttributes(t)},a=s.createExecContext(i,e.viewInfo);return s.executeFunction(e.compiledFunc,a)}validateItem(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testFeature(t,this.featureAdapter)}validateItems(t,e){return this._fieldDataCache.has(e)||this._fieldDataCache.set(e,{alias:e,clause:s(e,this.fieldsIndex)}),this._fieldDataCache.get(e).clause.testSet(t,this.featureAdapter)}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const s={};for(const i of e){const{alias:e,clause:a}=this._fieldDataCache.get(i);s[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return s}_processAttributesForDistinctValues(e){if(t(e)||!this.returnDistinctValues)return e;const s=this.outFields,i=[];if(s)for(const t of s){const{alias:s}=this._fieldDataCache.get(t);i.push(e[s])}else for(const t in e)i.push(e[t]);const a=`${(s||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let r=this._returnDistinctMap.get(a)||0;return this._returnDistinctMap.set(a,++r),r>1?null:e}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../core/maybe.js\";import{toQuantizationTransform as s}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as i,equals as r}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as n}from\"../featureConversionUtils.js\";import a from\"./AttributesBuilder.js\";import{getWhereClause as o}from\"./attributeSupport.js\";import{project as u,projectMany as l}from\"./projectionSupport.js\";import{getTimeOperator as c}from\"./timeSupport.js\";import{cleanFromGeometryEngine as d,getGeometry as h,transformCentroid as m}from\"./utils.js\";import{isStringField as f}from\"../../support/fieldUtils.js\";import{isNullCountSupported as p,calculateStringStatistics as g,calculateStatistics as y,processStatsResult as I}from\"../../../smartMapping/statistics/support/utils.js\";import{loadArcade as b}from\"../../../support/arcadeOnDemand.js\";function x(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function F(e,t,s){return(s?e>t:e<t)?-1:(s?e<t:e>t)?1:0}function T(e,t,s){return s?t-e:e-t}function V(e,t,s,i){if(s&&\"esriFieldTypeDate\"===s.type){const s=new Date(e).getTime(),r=new Date(t).getTime();if(!isNaN(s)&&!isNaN(r))return T(s,r,i)}if(\"number\"==typeof e&&\"number\"==typeof t)return T(e,t,i);if(\"string\"==typeof e&&\"string\"==typeof t){const r=e.toUpperCase(),n=t.toUpperCase();return!s||\"esriFieldTypeGUID\"!==s.type&&\"esriFieldTypeGlobalID\"!==s.type?F(r,n,i):F(x(r),x(n),i)}return i?1:-1}class A{constructor(e,t,s){this.items=e,this.queryGeometry=t,this.definitionExpression=s.definitionExpression,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.fieldsIndex=s.fieldsIndex,this.timeInfo=s.timeInfo,this.featureAdapter=s.featureAdapter,this.aggregateAdapter=s.aggregateAdapter}get size(){return this.items.length}createQueryResponseForCount(e){const t=new a(e,this.featureAdapter,this.fieldsIndex);if(!e.outStatistics)return t.countDistinctValues(this.items);const{groupByFieldsForStatistics:s,having:i}=e;if(!!!(null==s?void 0:s.length))return 1;const r=new Map,n=new Map,o=new Set,u=e.outStatistics;for(const a of u){const{statisticType:e}=a,u=\"exceedslimit\"!==e?a.onStatisticField:void 0;if(!n.has(u)){const e=[];for(const i of s){const s=this._getAttributeValues(t,i,r);e.push(s)}n.set(u,this._calculateUniqueValues(e,t.returnDistinctValues))}const l=n.get(u);for(const s in l){const{data:e,items:r}=l[s],n=e.join(\",\");i&&!t.validateItems(r,i)||o.add(n)}}return o.size}createQueryResponse(e){let t;if(e.outStatistics){t=e.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse(e):this._createStatisticsQueryResponse(e)}else t=this._createFeatureQueryResponse(e);return e.returnQueryGeometry&&(i(e.outSR)&&!r(this.queryGeometry.spatialReference,e.outSR)?t.queryGeometry=d({spatialReference:e.outSR,...u(this.queryGeometry,this.queryGeometry.spatialReference,e.outSR)}):t.queryGeometry=d({spatialReference:e.outSR,...this.queryGeometry})),t}createSnappingResponse(t,s){const i=this.featureAdapter,r=_(this.hasZ,this.hasM),{x:n,y:a}=t.point,o=\"number\"==typeof t.distance?t.distance:t.distance.x,u=\"number\"==typeof t.distance?t.distance:t.distance.y,l={candidates:[]},c=\"esriGeometryPolygon\"===this.geometryType,d=this.getPointCreator(t.point,this.spatialReference,s);for(const h of this.items){const s=i.getGeometry(h);if(e(s))continue;const{coords:m,lengths:f}=s;if(1&t.types){let e=0;for(let t=0;t<f.length;t++){const s=f[t];for(let t=0;t<s;t++,e+=r){const c=m[e],f=m[e+1];if(t!==s-1){const t=m[e+r],s=m[e+r+1],{x:p,y:g}=S(n,a,c,f,t,s),y=(n-p)/o,I=(a-g)/u,b=y*y+I*I;b<=1&&l.candidates.push({type:\"edge\",objectId:i.getObjectId(h),distance:Math.sqrt(b),target:d(p,g),start:d(c,f),end:d(t,s)})}}}}if(2&t.types){const e=c?m.length-r:m.length;for(let t=0;t<e;t+=r){const e=m[t],s=m[t+1],r=(n-e)/o,c=(a-s)/u,f=r*r+c*c;f<=1&&l.candidates.push({type:\"vertex\",objectId:i.getObjectId(h),distance:Math.sqrt(f),target:d(e,s)})}}}return l.candidates.sort(((e,t)=>e.distance-t.distance)),l}getPointCreator(e,s,i){const n=t(i)&&!r(s,i)?e=>u(e,s,i):e=>e;return null!=e.z&&null!=e.m?(t,s)=>n({x:t,y:s,z:e.z,m:e.m}):null!=e.z?(t,s)=>n({x:t,y:s,z:e.z}):null!=e.m?(t,s)=>n({x:t,y:s,m:e.m}):(e,t)=>n({x:e,y:t})}executeAttributesQuery(e){const t=o(e.where,this.fieldsIndex);if(!t)return Promise.resolve(this);if(t.isStandardized){let s=0;const i=[];for(const e of this.items)t.testFeature(e,this.featureAdapter)&&(i[s++]=e);const r=new A(i,this.queryGeometry,this);return r.definitionExpression=e.where,Promise.resolve(r)}return Promise.reject(new TypeError(\"Where clause is not standardized\"))}executeAggregateIdsQuery(t){if(!t.aggregateIds||!t.aggregateIds.length||e(this.aggregateAdapter))return Promise.resolve(this);const s=new Set;for(const e of t.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(e).forEach((e=>s.add(e)))}const i=this.featureAdapter.getObjectId;return Promise.resolve(new A(this.items.filter((e=>s.has(i(e)))),this.queryGeometry,this))}executeObjectIdsQuery(e){if(!e.objectIds||!e.objectIds.length)return Promise.resolve(this);const t=new Set(e.objectIds),s=this.featureAdapter.getObjectId;return Promise.resolve(new A(this.items.filter((e=>t.has(s(e)))),this.queryGeometry,this))}executeTimeQuery(e){const s=c(this.timeInfo,e.timeExtent,this.featureAdapter);if(!t(s))return Promise.resolve(this);const i=this.items.filter(s);return Promise.resolve(new A(i,this.queryGeometry,this))}filterLatest(){const{trackIdField:e,startTimeField:t,endTimeField:s}=this.timeInfo,i=s||t,r=new Map,n=this.featureAdapter.getAttribute;for(const o of this.items){const t=n(o,e),s=n(o,i),a=r.get(t);(!a||s>n(a,i))&&r.set(t,o)}const a=Array.from(r.values());return Promise.resolve(new A(a,this.queryGeometry,this))}async project(e){if(!e||r(this.spatialReference,e))return this;const t=this.featureAdapter,s=(await l(this.items.map((e=>h(this.geometryType,this.hasZ,this.hasM,t.getGeometry(e)))),this.spatialReference,e)).map(((e,s)=>t.cloneWithGeometry(this.items[s],n(e,this.hasZ,this.hasM))));return new A(s,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:e,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})}async createSummaryStatisticsResponse(e,t){const{field:s,normalizationField:i,normalizationType:r,normalizationTotal:n,minValue:o,maxValue:u}=t,l=new a(e,this.featureAdapter,this.fieldsIndex),c=this.fieldsIndex.isDateField(s),d=t.valueExpression?await this._getAttributeExpressionValues(l,t.valueExpression,t.viewInfoParams):this._getAttributeNormalizedValues(l,{field:s,normalizationField:i,normalizationType:r,normalizationTotal:n}),h=p({normalizationType:r,normalizationField:i,minValue:o,maxValue:u}),m=f(this.fieldsIndex.get(s))?g({values:d,supportsNullCount:h}):y({values:d,minValue:o,maxValue:u,useSampleStdDev:!r,supportsNullCount:h});return I(m,c)}_sortFeatures(e,t,s){if(e.length>1&&t&&t.length)for(const i of t.reverse()){const t=i.split(\" \"),r=t[0],n=this.fieldsIndex.get(r),a=t[1]&&\"desc\"===t[1].toLowerCase();e.sort(((e,t)=>V(s(e,r,n),s(t,r,n),n,a)))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:i,hasM:r,hasZ:n,objectIdField:a,spatialReference:o}=this,{outFields:u,outSR:l,quantizationParameters:c,resultRecordCount:h,resultOffset:m,returnZ:f,returnM:p}=e,g=null!=h&&t.length>(m||0)+h,y=u&&(u.indexOf(\"*\")>-1?[...this.fieldsIndex.fields]:u.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:g,features:this._createFeatures(e,t),fields:y,geometryType:i,hasM:r&&p,hasZ:n&&f,objectIdFieldName:a,spatialReference:d(l||o),transform:c&&s(c)||null}}_createFeatures(e,t){const i=new a(e,this.featureAdapter,this.fieldsIndex),{hasM:r,hasZ:n}=this,{orderByFields:o,quantizationParameters:u,returnGeometry:l,returnCentroid:c,maxAllowableOffset:d,resultOffset:f,resultRecordCount:p,returnZ:g=!1,returnM:y=!1}=e,I=n&&g,b=r&&y;let x=[],F=0;const T=[...t];if(this._sortFeatures(T,o,((e,t,s)=>i.getFieldValue(e,t,s))),l||c){const e=s(u);if(l&&!c)for(const t of T)x[F++]={attributes:i.getAttributes(t),geometry:h(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,I,b)};else if(!l&&c)for(const t of T)x[F++]={attributes:i.getAttributes(t),centroid:m(this,this.featureAdapter.getCentroid(t,this),e)};else for(const t of T)x[F++]={attributes:i.getAttributes(t),centroid:m(this,this.featureAdapter.getCentroid(t,this),e),geometry:h(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,I,b)}}else for(const s of T){const e=i.getAttributes(s);e&&(x[F++]={attributes:e})}const V=f||0;if(null!=p){const e=V+p;x=x.slice(V,Math.min(x.length,e))}return x}_createExceedsLimitQueryResponse(e){let s=!1,i=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY;for(const t of e.outStatistics)if(\"exceedslimit\"===t.statisticType){i=null!=t.maxPointCount?t.maxPointCount:Number.POSITIVE_INFINITY,r=null!=t.maxRecordCount?t.maxRecordCount:Number.POSITIVE_INFINITY,n=null!=t.maxVertexCount?t.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)s=this.items.length>i;else if(this.items.length>r)s=!0;else{const e=this.hasZ?this.hasM?4:3:this.hasM?3:2,i=this.featureAdapter;s=this.items.reduce(((e,s)=>{const r=i.getGeometry(s);return e+(t(r)&&r.coords.length||0)}),0)/e>n}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(s)}}]}}_createStatisticsQueryResponse(e){const t={attributes:{}},s=[],i=new Map,r=new Map,n=new Map,o=new Map,u=new a(e,this.featureAdapter,this.fieldsIndex),l=e.outStatistics,{groupByFieldsForStatistics:c,having:d,orderByFields:h}=e,m=c&&c.length,f=!!m,p=f&&c[0],g=f&&!this.fieldsIndex.get(p);for(const a of l){const{outStatisticFieldName:e,statisticType:l}=a,h=a,y=\"exceedslimit\"!==l?a.onStatisticField:void 0,I=\"percentile_disc\"===l||\"percentile_cont\"===l,b=f&&1===m&&(y===p||g)&&\"count\"===l;if(f){if(!n.has(y)){const e=[];for(const t of c){const s=this._getAttributeValues(u,t,i);e.push(s)}n.set(y,this._calculateUniqueValues(e,u.returnDistinctValues))}const t=n.get(y);for(const s in t){const{count:r,data:n,items:a,itemPositions:l}=t[s],m=n.join(\",\");if(!d||u.validateItems(a,d)){const t=o.get(m)||{attributes:{}};let s=null;if(b)s=r;else{const e=this._getAttributeValues(u,y,i),t=l.map((t=>e[t]));s=I&&\"statisticParameters\"in h?this._getPercentileValue(h,t):this._getStatisticValue(h,t,null,u.returnDistinctValues)}t.attributes[e]=s,c.forEach(((e,s)=>t.attributes[this.fieldsIndex.get(e)?e:`EXPR_${s+1}`]=n[s])),o.set(m,t)}}}else{const s=this._getAttributeValues(u,y,i);t.attributes[e]=I&&\"statisticParameters\"in h?this._getPercentileValue(h,s):this._getStatisticValue(h,s,r,u.returnDistinctValues)}s.push({name:e,alias:e,type:\"esriFieldTypeDouble\"})}const y=f?Array.from(o.values()):[t];return this._sortFeatures(y,h,((e,t)=>e.attributes[t])),{fields:s,features:y}}_getStatisticValue(e,t,s,i){const{onStatisticField:r,statisticType:n}=e;let a=null;a=null!=s&&s.has(r)?s.get(r):f(this.fieldsIndex.get(r))?g({values:t,returnDistinct:i}):y({values:t,minValue:null,maxValue:null,useSampleStdDev:!0}),s&&s.set(r,a);return a[\"var\"===n?\"variance\":n]}_getPercentileValue(e,t){const{onStatisticField:s,statisticParameters:i,statisticType:r}=e,{value:n,orderBy:a}=i,o=\"desc\"===a,u=this.fieldsIndex.get(s),l=[...t].filter((e=>null!=e)).sort(((e,t)=>V(e,t,u,o)));return this._calculatePercentile(l,n,\"percentile_disc\"===r)}_getAttributeValues(e,t,s){if(s.has(t))return s.get(t);const i=this.fieldsIndex.get(t),r=this.items.map((s=>e.getFieldValue(s,t,i)));return s.set(t,r),r}_getAttributeNormalizedValues(e,t){return this.items.map((s=>e.getNormalizedValue(s,{field:t.field,fieldInfo:this.fieldsIndex.get(t.field),normalizationField:t.normalizationField,normalizationFieldInfo:this.fieldsIndex.get(t.normalizationField),normalizationType:t.normalizationType,normalizationTotal:t.normalizationTotal})))}async _getAttributeExpressionValues(e,t,s){const{arcadeUtils:i}=await b(),r=i.createFunction(t),n=s&&i.getViewInfo(s);return this.items.map((t=>e.getExpressionValue(t,{compiledFunc:r,viewInfo:n},i)))}_calculateUniqueValues(e,t){const s={},i=this.items,r=i.length;for(let n=0;n<r;n++){const r=i[n],a=[];for(const t of e)a.push(t[n]);const o=a.join(\",\");t?null==s[o]&&(s[o]={count:1,data:a,items:[r],itemPositions:[n]}):null==s[o]?s[o]={count:1,data:a,items:[r],itemPositions:[n]}:(s[o].count++,s[o].items.push(r),s[o].itemPositions.push(n))}return s}_calculatePercentile(e,t,s){if(0===e.length)return null;if(t<=0)return e[0];if(t>=1)return e[e.length-1];const i=(e.length-1)*t,r=Math.floor(i),n=r+1,a=i%1,o=e[r],u=e[n];return n>=e.length||s||\"string\"==typeof o||\"string\"==typeof u?o:o*(1-a)+u*a}}function S(e,t,s,i,r,n){const a=r-s,o=n-i,u=a*a+o*o,l=(e-s)*a+(t-i)*o,c=Math.min(1,Math.max(0,l/u));return{x:s+a*c,y:i+o*c}}function _(e,t){return e?t?4:3:t?3:2}export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{loadArcade as e}from\"../../support/arcadeOnDemand.js\";import{getWellKnownBasemapId as t}from\"../../support/basemapUtils.js\";const n={light:[\"streets\",\"gray\",\"topo\",\"terrain\",\"national-geographic\",\"oceans\",\"osm\",\"gray-vector\",\"streets-vector\",\"topo-vector\",\"streets-relief-vector\",\"streets-navigation-vector\"],dark:[\"satellite\",\"hybrid\",\"dark-gray\",\"dark-gray-vector\",\"streets-night-vector\"]},r=\"percent-of-total\",o=\"field\",i={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},s=[\"integer\",\"small-integer\"];let a=null;async function l(t){const n=t.field,r=t.normalizationField,o=t.valueExpression;let i=[];if(o){if(!a){const{arcadeUtils:t}=await e();a=t}i=a.extractFieldNames(o)}return n&&i.push(n),r&&i.push(r),i}function u(e){let t=e.normalizationType;return t||(e.normalizationField?t=o:null!=e.normalizationTotal&&(t=r)),t}function c(e){return String(e).padStart(2,\"0\")}function f(e,t,n){let r;if(\"date\"===t||\"number\"===t){\"number\"===t&&(e=new Date(e));r=`TIMESTAMP'${n?e.getFullYear():e.getUTCFullYear()}-${c((n?e.getMonth():e.getUTCMonth())+1)}-${c(n?e.getDate():e.getUTCDate())} ${c(n?e.getHours():e.getUTCHours())}:${c(n?e.getMinutes():e.getUTCMinutes())}:${c(n?e.getSeconds():e.getUTCSeconds())}'`}else r=e;return r}function g(e,t,n,r){const{hasQueryEngine:o}=e;let s=`(${f(n,d(e,n),o)} - ${f(t,d(e,t),o)})`;o&&(s=`(${s} * ${i.milliseconds})`);let a=i[r],l=\"/\";a<1&&(a=1/a,l=\"*\");return{sqlExpression:1===a?s:`(${s} ${l} ${a})`,sqlWhere:null}}function d(e,t){if(t instanceof Date)return\"date\";if(\"number\"==typeof t)return\"number\";if(\"string\"==typeof t){const n=e.getField(t);if(\"<now>\"===t.toLowerCase())return;if(n&&\"date\"===n.type)return\"field\"}}function p(e,t=n){for(const n in t)if(t[n].indexOf(e)>-1)return n}function m(e,n,r=!0){let o=null;return e&&(\"string\"==typeof e?n.includes(e)&&(o=e):o=t(e)),r?o||\"gray\":o}function y(e,t){const n=t&&e.getField(t);return n&&s.indexOf(n.type)>-1}function $(e){return`cast(${e} as float)`}export{$ as castIntegerFieldToFloat,n as defaultBasemapGroups,p as getBasemapGroup,m as getBasemapId,g as getDateDiffSQL,d as getDateType,l as getFieldsList,u as getNormalizationType,y as isIntegerField,i as unitValueInDays};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{clone as t}from\"../../../core/lang.js\";import{isNone as i,isUndefined as s}from\"../../../core/maybe.js\";import{MemCacheStorage as r,MemCache as a}from\"../../../core/MemCache.js\";import{getMetersPerUnitForSR as n}from\"../../../core/unitUtils.js\";import{create as u,set as o,NEGATIVE_INFINITY as c,expandWithAABB as h}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as l,create as m}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as p}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as d,isExtent as y,isPolygon as f}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as _}from\"../../../geometry/support/normalizeUtils.js\";import{equals as x,isValid as g}from\"../../../geometry/support/spatialReferenceUtils.js\";import{validateFields as w,validateWhere as S,validateHaving as Q,hasInvalidFieldType as R}from\"./attributeSupport.js\";import{project as I,checkProjectionSupport as F}from\"./projectionSupport.js\";import{queryCapabilities as b}from\"./QueryEngineCapabilities.js\";import j from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as A,canQueryWithRBush as E,checkSpatialQuerySupport as k}from\"./spatialQuerySupport.js\";import{getTimeExtent as C}from\"./timeSupport.js\";import{cleanFromGeometryEngine as T,normalizeQuery as B,QUERY_ENGINE_EMPTY_RESULT as O}from\"./utils.js\";import z from\"../../support/FieldsIndex.js\";import P from\"../../support/PromiseQueue.js\";import{getFieldsList as G}from\"../../../smartMapping/support/utils.js\";function v(e){return e.every((e=>\"exceedslimit\"!==e.statisticType))}const q=\"feature-store:unsupported-query\";class M{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const U=new Set,N=new r(2e6);let Z=0;class H{constructor(e){this.capabilities={query:b},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new a(Z+++\"$$\",N)),this.fieldsIndex=new z(e.fields),e.scheduler&&e.priority&&(this._frameQueue=new P,this._frameTask=e.scheduler.registerTask(e.priority,this))}destroy(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null),this.clearCache(),this._geometryQueryCache&&this._geometryQueryCache.destroy(),this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null),this.fieldsIndex.destroy()}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:T(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=C(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e={},i){let s,r=t(e);try{r=await this._schedule((()=>B(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==O)throw a;s=new j([],null,this)}return s.createQueryResponse(r)}async executeQueryForCount(e={},i){let s,r=t(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>B(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==O)throw a;return 0}return s.createQueryResponseForCount(r)}async executeQueryForExtent(e={},i){let s,r=t(e);const a=r.outSR;try{r=await this._schedule((()=>B(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.size;if(!e)return{count:e,extent:null};o(L,c),this.featureStore.forEachBounds(s.items,(e=>h(L,e)),J);const t={xmin:L[0],ymin:L[1],xmax:L[3],ymax:L[4],spatialReference:T(this.spatialReference)};this.hasZ&&isFinite(L[2])&&isFinite(L[5])&&(t.zmin=L[2],t.zmax=L[5]);const u=I(t,s.spatialReference,a);if(u.spatialReference=T(a||this.spatialReference),u.xmax-u.xmin==0){const e=n(u.spatialReference);u.xmin-=e,u.xmax+=e}if(u.ymax-u.ymin==0){const e=n(u.spatialReference);u.ymin-=e,u.ymax+=e}if(this.hasZ&&null!=u.zmin&&null!=u.zmax&&u.zmax-u.zmin==0){const e=n(u.spatialReference);u.zmin-=e,u.zmax+=e}return{count:e,extent:u}}catch(u){if(u===O)return{count:0,extent:null};throw u}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e={},i){let s,r=t(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>B(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.items,t=new Set;return await this._reschedule((()=>{for(const i of e)t.add(s.featureAdapter.getObjectId(i))}),i),t}catch(a){if(a===O)return new Set;throw a}}async executeQueryForSnapping(e,t){const{point:s,distance:r,types:a}=e;if(0===a)return{candidates:[]};const n=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),u=!x(s.spatialReference,this.spatialReference);u&&await F(s.spatialReference,this.spatialReference);const o=\"number\"==typeof r?r:r.x,c=\"number\"==typeof r?r:r.y,h={xmin:s.x-o,xmax:s.x+o,ymin:s.y-c,ymax:s.y+c,spatialReference:s.spatialReference},l=u?I(h,this.spatialReference):h;if(!l)return{candidates:[]};const m=(await _(d(s),null,{signal:t}))[0],p=(await _(d(l),null,{signal:t}))[0];if(i(m)||i(p))return{candidates:[]};let y=new j(this._searchFeatures(this._getQueryBBoxes(p.toJSON())),null,this);y=await this._reschedule((()=>y.executeObjectIdsQuery(n)),t),y=await this._reschedule((()=>y.executeTimeQuery(n)),t),y=await this._reschedule((()=>y.executeAttributesQuery(n)),t);const f=m.toJSON(),g=u?I(f,this.spatialReference):f,w=u?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:r;return y.createSnappingResponse({...e,point:g,distance:w},s.spatialReference)}async executeQueryForLatestObservations(i={},s){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new e(q,\"Missing timeInfo or timeInfo.trackIdField\",{query:i,timeInfo:this.timeInfo});let r,a=t(i);try{a=await this._schedule((()=>B(a,this.definitionExpression,this.spatialReference)),s),a=await this._reschedule((()=>this._checkQuerySupport(a)),s),r=await this._reschedule((()=>this._executeGeometryQuery(a,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),s),r=await this._reschedule((()=>r.executeTimeQuery(a)),s),r=await this._reschedule((()=>r.executeAttributesQuery(a)),s),r=await this._reschedule((()=>r.filterLatest()),s)}catch(n){if(n!==O)throw n;r=new j([],null,this)}return r.createQueryResponse(a)}async executeQueryForSummaryStatistics(e={},i,s){let r;e=t(e);try{e=await this._schedule((()=>B(e,this.definitionExpression,this.spatialReference)),s),e=await this._reschedule((()=>this._checkSummaryStatisticsSupport(e,i)),s),r=await this._reschedule((()=>this._executeGeometryQuery(e,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(e)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(e)),s),r=await this._reschedule((()=>r.executeTimeQuery(e)),s),r=await this._reschedule((()=>r.executeAttributesQuery(e)),s)}catch(a){if(a!==O)throw a;r=new j([],null,this)}return r.createSummaryStatisticsResponse(e,i)}async _schedule(e,t){return this._frameQueue?this._frameQueue.push(e,t):e()}async _reschedule(e,t){return this._frameQueue?this._frameQueue.unshift(e,t):e()}get running(){return this._frameQueue.length>0}runTask(e){for(this._budget=e;!e.done&&this._frameQueue&&this._frameQueue.process();)e.madeProgress();this._budget=null}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new j(e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:i,outSR:r,spatialRel:a,returnGeometry:n,returnCentroid:u}=e,o=n||u,c=g(r)&&!x(this.spatialReference,r),h=this._geometryQueryCache?c&&o?JSON.stringify({geometry:i,spatialRelationship:a,outSpatialReference:r}):JSON.stringify({geometry:i,spatialRelationship:a}):null;if(h){const e=this._geometryQueryCache.get(h);if(!s(e))return e}const l=async e=>{if(c&&o){const t=await e.project(r);return h&&this._geometryQueryCache.put(h,t,t.size||1),t}return h&&this._geometryQueryCache.put(h,e,e.size||1),e};if(!i)return l(this._getAll());const m=this.featureAdapter;if(\"esriSpatialRelDisjoint\"===a){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return l(this._getAll());let s,r;const n=new Set;for(const t of e)n.add(m.getObjectId(t));await this._reschedule((()=>{let e=0;s=new Array(n.size),this.featureStore.forEach((t=>s[e++]=t)),r=n}),t);const u=await this._reschedule((async()=>{const e=await A(a,i,this.geometryType,this.hasZ,this.hasM),n=t=>!r.has(m.getObjectId(t))||e(m.getGeometry(t));return new j(await this._runSpatialFilter(s,n,t),i,this)}),t);return l(u)}const p=this._searchFeatures(this._getQueryBBoxes(i));if(!p.length){const e=new j([],i,this);return h&&this._geometryQueryCache.put(h,e,e.size||1),e}if(this._canExecuteSoloPass(i,e))return l(new j(p,i,this));const d=await A(a,i,this.geometryType,this.hasZ,this.hasM),y=await this._runSpatialFilter(p,(e=>d(m.getGeometry(e))),t);return l(new j(y,i,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if(!this._budget)return e.filter((e=>t(e)));let s=0;const r=new Array,a=async()=>{for(;s<e.length;){const n=e[s];t(n)&&r.push(n),this._budget.done&&await this._reschedule((()=>a()),i),++s}};return this._reschedule((()=>a()),i).then((()=>r))}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return E(e)&&(\"esriSpatialRelEnvelopeIntersects\"===s||\"esriGeometryPoint\"===i&&(\"esriSpatialRelIntersects\"===s||\"esriSpatialRelContains\"===s||\"esriSpatialRelWithin\"===s))}_getQueryBBoxes(e){if(E(e)){if(y(e))return[l(e.xmin,e.ymin,e.xmax,e.ymax)];if(f(e))return e.rings.map((e=>l(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[p(m(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,(e=>{U.add(e)}));const t=new Array(U.size);let i=0;return U.forEach((e=>t[i++]=e)),U.clear(),t}async _checkSummaryStatisticsSupport(t,i){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new e(q,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkSummaryStatisticsParamsSupport(i),k(t,this.geometryType,this.spatialReference),F(this.spatialReference,t.outSR)]).then((()=>t))}async _checkSummaryStatisticsParamsSupport(t){const i=await G({field:t.field,normalizationField:t.normalizationField,valueExpression:t.valueExpression});if(!i.length)throw new e(q,\"params should have atleast a field or valueExpression\",{params:t});w(this.fieldsIndex,i,\"params contains missing fields\")}async _checkQuerySupport(t){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new e(q,\"Unsupported query options\",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsQuerySupport(t),k(t,this.geometryType,this.spatialReference),F(this.spatialReference,t.outSR)]).then((()=>t))}_checkAttributesQuerySupport(t){const{outFields:i,orderByFields:s,returnDistinctValues:r,outStatistics:a}=t,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())):[];if(s&&s.length>0){const e=\" asc\",t=\" desc\",i=s.map((i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i})).filter((e=>-1===n.indexOf(e)));w(this.fieldsIndex,i,\"orderByFields contains missing fields\")}if(i&&i.length>0)w(this.fieldsIndex,i,\"outFields contains missing fields\");else if(r)throw new e(q,\"outFields should be specified for returnDistinctValues\",{query:t});S(this.fieldsIndex,t.where)}async _checkStatisticsQuerySupport(t){const{outStatistics:i,groupByFieldsForStatistics:s,having:r}=t,a=s&&s.length,n=i&&i.length;if(r){if(!a||!n)throw new e(q,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:t});Q(this.fieldsIndex,r,i)}if(n){if(!v(i))return;const r=i.map((e=>e.onStatisticField));w(this.fieldsIndex,r,\"onStatisticFields contains missing fields\"),a&&w(this.fieldsIndex,s,\"groupByFieldsForStatistics contains missing fields\");for(const s of i){const{onStatisticField:i,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:i}=s;if(!i)throw new e(q,\"statisticParamters should be set for percentile type\",{definition:s,query:t})}else if(\"count\"!==r&&i&&R(i,this.fieldsIndex))throw new e(q,\"outStatistics contains non-numeric fields\",{definition:s,query:t})}}}}const J=u(),L=u();export{M as Feature,H as default};\n"],"names":["s","constructor","e","c2","_cache","t","this","_invalidCache","get","t2","i2","uid","r2","r3","create","put","n","r","Set","e2","s2","o2","u2","has","s3","d","t3","l","where","isStandardized","clause","fieldNames","a2","details","missingFields","push","length","split","type","_fieldDataCache","Map","_returnDistinctMap","returnDistinctValues","fieldsIndex","featureAdapter","l2","outFields","indexOf","a3","l3","u","n2","name","set","alias","countDistinctValues","forEach","getAttributes","size","_processAttributesForOutFields","_processAttributesForDistinctValues","getFieldValue","getAttribute","calculateValue","getNormalizedValue","normalizationType","normalizationTotal","field","fieldInfo","Number","isFinite","normalizationField","normalizationFieldInfo","a","getExpressionValue","attributes","createExecContext","viewInfo","executeFunction","compiledFunc","validateItem","testFeature","validateItems","testSet","e3","join","substr","Date","getTime","isNaN","T","toUpperCase","F","x","items","queryGeometry","definitionExpression","geometryType","hasM","hasZ","objectIdField","spatialReference","timeInfo","aggregateAdapter","createQueryResponseForCount","outStatistics","groupByFieldsForStatistics","having","statisticType","u3","onStatisticField","e4","i3","_getAttributeValues","_calculateUniqueValues","data","n3","add","createQueryResponse","some","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","outSR","__spreadValues","createSnappingResponse","_","y","point","distance","candidates","d2","getPointCreator","h","getGeometry","coords","m2","lengths","f2","types","s4","t4","c3","f3","t5","s5","p","g2","S","y2","I2","b","objectId","getObjectId","Math","sqrt","target","start","end","sort","z","m","executeAttributesQuery","o","Promise","resolve","A","reject","TypeError","executeAggregateIdsQuery","aggregateIds","getFeatureObjectIds","filter","executeObjectIdsQuery","objectIds","executeTimeQuery","c","timeExtent","filterLatest","trackIdField","startTimeField","endTimeField","Array","from","values","map","cloneWithGeometry","i","minValue","maxValue","isDateField","valueExpression","_getAttributeExpressionValues","viewInfoParams","_getAttributeNormalizedValues","f","g","supportsNullCount","useSampleStdDev","I","_sortFeatures","reverse","toLowerCase","V","quantizationParameters","resultRecordCount","resultOffset","returnZ","returnM","fields","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","orderByFields","returnGeometry","returnCentroid","maxAllowableOffset","x2","F2","T2","geometry","centroid","getCentroid","V2","slice","min","POSITIVE_INFINITY","maxPointCount","maxRecordCount","maxVertexCount","reduce","sqlType","domain","defaultValue","exceedslimit","outStatisticFieldName","h2","y3","count","itemPositions","l4","m3","t6","_getPercentileValue","_getStatisticValue","returnDistinct","statisticParameters","value","orderBy","_calculatePercentile","arcadeUtils","createFunction","getViewInfo","floor","max","q","U","N","Z","capabilities","query","featureStore","_changeHandle","events","on","clearCache","cacheSpatialQueries","_geometryQueryCache","scheduler","priority","_frameQueue","P","_frameTask","registerTask","destroy","remove","cancelAll","fullBounds","xmin","ymin","xmax","ymax","_timeExtent","C","clear","_allItems","_schedule","B","_reschedule","_checkQuerySupport","_executeGeometryQuery","O","j","extent","L","forEachBounds","J","zmin","zmax","executeQueryForIdSet","then","signal","_searchFeatures","_getQueryBBoxes","toJSON","w","__spreadProps","_checkSummaryStatisticsSupport","createSummaryStatisticsResponse","unshift","runTask","_budget","done","process","madeProgress","_getAll","spatialRel","JSON","stringify","spatialRelationship","outSpatialReference","async","project","_runSpatialFilter","_canExecuteSoloPass","E","rings","forEachInBounds","geometryPrecision","multipatchOption","pixelSize","relationParam","text","all","_checkAttributesQuerySupport","_checkSummaryStatisticsParamsSupport","k","extractFieldNames","G","params","_checkStatisticsQuerySupport","i4","isAggregate","getExpressions","every","aggregateType","trim","r4","R","definition"],"mappings":"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"}