{"version":3,"file":"centroid.f07ef5b9.js","sources":["../../node_modules/@arcgis/core/layers/graphics/centroid.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../core/maybe.js\";function n(t,n){return t?n?4:3:n?3:2}function e(e,o,u,l,N){if(t(o)||!o.lengths.length)return null;const s=\"upperLeft\"===(null==N?void 0:N.originPosition)?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const c=e.coords,f=[],i=u?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:T,coords:h}=o,g=n(u,l);let E=0;for(const t of T){const n=r(i,h,E,t,u,l,s);n&&f.push(n),E+=t*g}if(f.sort(((t,n)=>{let e=s*t[2]-s*n[2];return 0===e&&u&&(e=t[4]-n[4]),e})),f.length){let t=6*f[0][2];c[0]=f[0][0]/t,c[1]=f[0][1]/t,u&&(t=6*f[0][4],c[2]=0!==t?f[0][3]/t:0),(c[0]<i[0]||c[0]>i[1]||c[1]<i[2]||c[1]>i[3]||u&&(c[2]<i[4]||c[2]>i[5]))&&(c.length=0)}if(!c.length){const t=o.lengths[0]?I(h,0,T[0],u,l):null;if(!t)return null;c[0]=t[0],c[1]=t[1],u&&t.length>2&&(c[2]=t[2])}return e}function r(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,m=I-1;n<m;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function I(t,e,r,I,s){const c=n(I,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,m=r-1;n<m;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],m=t[i+2],b=I?u(n,e,r,s,c,m):o(n,e,s,c);if(b)if(T+=b,I){const t=N(n,e,r,s,c,m);h+=b*t[0],g+=b*t[1],E+=b*t[2]}else{const t=l(n,e,s,c);h+=b*t[0],g+=b*t[1]}}return T>0?I?[h/T,g/T,E/T]:[h/T,g/T]:r>0?I?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function o(t,n,e,r){const I=e-t,o=r-n;return Math.sqrt(I*I+o*o)}function u(t,n,e,r,I,o){const u=r-t,l=I-n,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function l(t,n,e,r){return[t+.5*(e-t),n+.5*(r-n)]}function N(t,n,e,r,I,o){return[t+.5*(r-t),n+.5*(I-n),e+.5*(o-e)]}export{e as getCentroidOptimizedGeometry,I as lineCentroid};\n"],"names":["t2","n2","e2","o2","u2","l2","N2","t","lengths","length","s","originPosition","coords","c","f","i","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","T","h","g","n","E","r","push","sort","e3","r2","I2","m","n3","r3","s2","c2","m2","b","u","o","t3","N","l","I","I3","u3","l3","N3","E2","Math","sqrt"],"mappings":"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"}