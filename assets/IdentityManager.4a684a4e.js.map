{"version":3,"file":"IdentityManager.4a684a4e.js","sources":["../../node_modules/@arcgis/core/identity/IdentityForm.js","../../node_modules/tabbable/dist/index.esm.js","../../node_modules/focus-trap/dist/focus-trap.esm.js","../../node_modules/@arcgis/core/identity/IdentityModal.js","../../node_modules/@arcgis/core/identity/OAuthCredential.js","../../node_modules/@arcgis/core/identity/OAuthInfo.js","../../node_modules/@arcgis/core/identity/ServerInfo.js","../../node_modules/@arcgis/core/identity/IdentityManagerBase.js","../../node_modules/@arcgis/core/identity/IdentityManager.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import{substitute as r}from\"../intl/substitute.js\";import o from\"../widgets/Widget.js\";import{storeNode as i}from\"../widgets/support/widgetUtils.js\";import{messageBundle as n}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as u}from\"../widgets/support/jsxFactory.js\";const a={base:\"esri-identity-form\",group:\"esri-identity-form__group\",label:\"esri-identity-form__label\",footer:\"esri-identity-form__footer\",esriInput:\"esri-input\",esriButton:\"esri-button\",esriButtonSecondary:\"esri-button--secondary\"},l=\"ArcGIS Online\";let p=class extends o{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.messages=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n,messages:p}=this,d=u(\"div\",{class:a.group},r(n?p.oAuthInfo:p.info,{server:/\\.arcgis\\.com/i.test(e)?l:e,resource:`(${t||p.lblItem})`})),c=n?null:u(\"div\",{class:a.group,key:\"username\"},u(\"label\",{class:a.label},p.lblUser,u(\"input\",{value:\"\",required:!0,autocomplete:\"off\",spellcheck:!1,type:\"text\",bind:this,afterCreate:i,\"data-node-ref\":\"_usernameInputNode\",class:a.esriInput}))),m=n?null:u(\"div\",{class:a.group,key:\"password\"},u(\"label\",{class:a.label},p.lblPwd,u(\"input\",{value:\"\",required:!0,type:\"password\",bind:this,afterCreate:i,\"data-node-ref\":\"_passwordInputNode\",class:a.esriInput}))),h=u(\"div\",{class:this.classes(a.group,a.footer)},u(\"input\",{type:\"submit\",disabled:!!o,value:o?p.lblSigning:p.lblOk,class:a.esriButton}),u(\"input\",{type:\"button\",value:p.lblCancel,bind:this,onclick:this._cancel,class:this.classes(a.esriButton,a.esriButtonSecondary)})),g=s?u(\"div\",null,s.details&&s.details.httpStatus?p.invalidUser:p.noAuthService):null;return u(\"form\",{class:a.base,bind:this,onsubmit:this._submit},d,g,c,m,h)}_cancel(){this._set(\"signingIn\",!1),this._usernameInputNode&&(this._usernameInputNode.value=\"\"),this._passwordInputNode&&(this._passwordInputNode.value=\"\"),this.emit(\"cancel\")}_submit(s){s.preventDefault(),this._set(\"signingIn\",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit(\"submit\",e)}};s([e(),n(\"esri/identity/t9n/identity\")],p.prototype,\"messages\",void 0),s([e()],p.prototype,\"signingIn\",void 0),s([e()],p.prototype,\"server\",void 0),s([e()],p.prototype,\"resource\",void 0),s([e()],p.prototype,\"error\",void 0),s([e()],p.prototype,\"oAuthPrompt\",void 0),p=s([t(\"esri.identity.IdentityForm\")],p);var d=p;export{d as default};\n","/*!\n* tabbable 5.2.1\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\nvar isContentEditable = function isContentEditable(node) {\n  return node.contentEditable === 'true';\n};\n\nvar getTabindex = function getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n\n  if (!isNaN(tabindexAttr)) {\n    return tabindexAttr;\n  } // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n\n  if (isContentEditable(node)) {\n    return 0;\n  } // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n  //  `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n  //  yet they are still part of the regular tab order; in FF, they get a default\n  //  `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n  //  order, consider their tab index to be 0.\n\n\n  if ((node.nodeName === 'AUDIO' || node.nodeName === 'VIDEO' || node.nodeName === 'DETAILS') && node.getAttribute('tabindex') === null) {\n    return 0;\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || node.ownerDocument;\n\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n\n  var radioSet;\n\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isHidden = function isHidden(node, displayCheck) {\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (!displayCheck || displayCheck === 'full') {\n    while (node) {\n      if (getComputedStyle(node).display === 'none') {\n        return true;\n      }\n\n      node = node.parentElement;\n    }\n  } else if (displayCheck === 'non-zero-area') {\n    var _node$getBoundingClie = node.getBoundingClientRect(),\n        width = _node$getBoundingClie.width,\n        height = _node$getBoundingClie.height;\n\n    return width === 0 && height === 0;\n  }\n\n  return false;\n}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\n\n\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (isInput(node) || node.tagName === 'SELECT' || node.tagName === 'TEXTAREA' || node.tagName === 'BUTTON') {\n    var parentNode = node.parentElement;\n\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> as an immediate child of the disabled\n        //  <fieldset>: if the node is in that legend, it'll be enabled even\n        //  though the fieldset is disabled; otherwise, the node is in a\n        //  secondary/subsequent legend, or somewhere else within the fieldset\n        //  (however deep nested) and it'll be disabled\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n\n          if (child.tagName === 'LEGEND') {\n            if (child.contains(node)) {\n              return false;\n            } // the node isn't in the first legend (in doc order), so no matter\n            //  where it is now, it'll be disabled\n\n\n            return true;\n          }\n        } // the node isn't in a legend, so no matter where it is now, it'll be disabled\n\n\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  } // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node, options.displayCheck) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (!isNodeMatchingSelectorFocusable(options, node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  candidates.forEach(function (candidate, i) {\n    var candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  });\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 6.6.1\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\n\n\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  var doc = document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying the first and last tabbable nodes in all containers/groups in\n    //  the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{ container: HTMLElement, firstTabbableNode: HTMLElement|null, lastTabbableNode: HTMLElement|null }>}\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  var containersContain = function containersContain(element) {\n    return state.containers.some(function (container) {\n      return container.contains(element);\n    });\n  };\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (!optionValue) {\n      return null;\n    }\n\n    var node = optionValue;\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` refers to no known node\"));\n      }\n    }\n\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` did not return a node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node; // false indicates we want no initialFocus at all\n\n    if (getOption({}, 'initialFocus') === false) {\n      return false;\n    }\n\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (containersContain(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      var firstTabbableGroup = state.tabbableGroups[0];\n      var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n      node = firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.tabbableGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container);\n\n      if (tabbableNodes.length > 0) {\n        return {\n          container: container,\n          firstTabbableNode: tabbableNodes[0],\n          lastTabbableNode: tabbableNodes[tabbableNodes.length - 1]\n        };\n      }\n\n      return undefined;\n    }).filter(function (group) {\n      return !!group;\n    }); // remove groups with no tabbable nodes\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus')) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus');\n    return node ? node : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    if (containersContain(e.target)) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(e.target)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var targetContained = containersContain(e.target); // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || e.target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = e.target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's tabbable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findIndex(state.tabbableGroups, function (_ref) {\n        var container = _ref.container;\n        return container.contains(e.target);\n      });\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return e.target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex < 0 && state.tabbableGroups[containerIndex].container === e.target) {\n          // an exception case where the target is the container itself, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return e.target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex < 0 && state.tabbableGroups[containerIndex].container === e.target) {\n          // an exception case where the target is the container itself, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    } // else, let the browser take care of [shift+]tab and move the focus\n\n  };\n\n  var checkKey = function checkKey(e) {\n    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates) !== false) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (containersContain(e.target)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n\n        addListeners();\n\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      var onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(deactivateOptions, 'checkCanReturnFocus');\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var returnFocus = getOption(deactivateOptions, 'returnFocus', 'returnFocusOnDeactivate');\n\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import{makeHandle as e}from\"../core/handleUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../widgets/Widget.js\";import{isWidget as r}from\"../widgets/support/widget.js\";import{createFocusTrap as n}from\"focus-trap\";import{messageBundle as a}from\"../widgets/support/decorators/messageBundle.js\";import{tsx as c}from\"../widgets/support/jsxFactory.js\";const d={base:\"esri-identity-modal\",open:\"esri-identity-modal--open\",closed:\"esri-identity-modal--closed\",title:\"esri-identity-modal__title\",dialog:\"esri-identity-modal__dialog\",content:\"esri-identity-modal__content\",closeButton:\"esri-identity-modal__close-button\",iconClose:\"esri-icon-close\"};let l=class extends i{constructor(t,e){super(t,e),this.container=document.createElement(\"div\"),this.content=null,this.open=!1,this._close=()=>{this.open=!1},document.body.appendChild(this.container),this.own(this.watch(\"open\",(()=>this._toggleFocusTrap())))}destroy(){this._destroyFocusTrap()}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n={[d.open]:r,[d.closed]:!r},a=c(\"button\",{class:d.closeButton,\"aria-label\":i.close,title:i.close,bind:this,onclick:this._close},c(\"span\",{\"aria-hidden\":\"true\",class:d.iconClose})),l=`${t}_title`,p=`${t}_content`,u=s?c(\"h1\",{id:l,class:d.title},s):null,m=r?c(\"div\",{bind:this,class:d.dialog,role:\"dialog\",\"aria-labelledby\":l,\"aria-describedby\":p,afterCreate:this._createFocusTrap},a,u,this._renderContent(p)):null;return c(\"div\",{tabIndex:-1,class:this.classes(d.base,n)},m)}_destroyFocusTrap(){var t;null==(t=this._focusTrap)||t.deactivate({onDeactivate:null}),this._focusTrap=null}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate())}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=n(t,{initialFocus:\"input\",onDeactivate:this._close}),this._toggleFocusTrap()}));this.own(e((()=>cancelAnimationFrame(o))))}_renderContent(t){const e=this.content;return\"string\"==typeof e?c(\"div\",{class:d.content,id:t,innerHTML:e}):r(e)?c(\"div\",{class:d.content,id:t},e.render()):e instanceof HTMLElement?c(\"div\",{class:d.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};t([o({readOnly:!0})],l.prototype,\"container\",void 0),t([o()],l.prototype,\"content\",void 0),t([o()],l.prototype,\"open\",void 0),t([o(),a(\"esri/t9n/common\")],l.prototype,\"messages\",void 0),t([o({aliasOf:\"messages.auth.signIn\"})],l.prototype,\"title\",void 0),l=t([s(\"esri.identity.IdentityModal\")],l);var p=l;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst t=\"esriJSAPIOAuth\";class s{constructor(t,s){this.oAuthInfo=null,this.storage=null,this.appId=null,this.expires=null,this.ssl=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=s,this._init()}isValid(){let t=!1;if(this.oAuthInfo&&this.token&&this.userId){const s=Date.now();if(this.expires>s){(this.expires-s)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0)}}return t}save(){if(!this.storage)return;const s=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let o=s[e.authNamespace];o||(o=s[e.authNamespace]={}),o[e.portalUrl]={appId:this.appId=e.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}destroy(){const s=this._load(),e=this.oAuthInfo;if(e&&e.appId&&e.portalUrl&&this.token&&this.expires>Date.now()){const t=e.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/rest/oauth2/revokeToken\",s=new FormData;if(s.append(\"f\",\"json\"),s.append(\"auth_token\",this.token),s.append(\"client_id\",e.appId),s.append(\"token_type_hint\",\"access_token\"),\"function\"==typeof navigator.sendBeacon)navigator.sendBeacon(t,s);else{const e=new XMLHttpRequest;e.open(\"POST\",t),e.send(s)}}if(e&&e.authNamespace&&e.portalUrl&&this.storage){const o=s[e.authNamespace];if(o){delete o[e.portalUrl];try{this.storage.setItem(t,JSON.stringify(s))}catch(i){console.log(i)}}}e&&(e._oAuthCred=null,this.oAuthInfo=null)}_init(){const t=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let e=t[s.authNamespace];e&&(e=e[s.portalUrl],e&&(this.appId=e.appId,this.expires=e.expires,this.ssl=e.ssl,this.token=e.token,this.userId=e.userId))}}_load(){let s={};if(this.storage){const i=this.storage.getItem(t);if(i)try{s=JSON.parse(i)}catch(e){console.log(e)}}return s}}s.prototype.declaredClass=\"esri.identity.OAuthCredential\";export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";var p;let s=p=class extends t{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace=\"/\",this.expiration=20160,this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl=\"oauth-callback.html\",this.popupWindowFeatures=\"height=490,width=800,resizable,scrollbars,status\",this.portalUrl=\"https://www.arcgis.com\",this.preserveUrlHash=!1,this.userId=null}clone(){return p.fromJSON(this.toJSON())}};o([r({json:{write:!0}})],s.prototype,\"appId\",void 0),o([r({json:{write:!0}})],s.prototype,\"authNamespace\",void 0),o([r({json:{write:!0}})],s.prototype,\"expiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceLogin\",void 0),o([r({json:{write:!0}})],s.prototype,\"forceUserId\",void 0),o([r({json:{write:!0}})],s.prototype,\"locale\",void 0),o([r({json:{write:!0}})],s.prototype,\"minTimeUntilExpiration\",void 0),o([r({json:{write:!0}})],s.prototype,\"popup\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupCallbackUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"popupWindowFeatures\",void 0),o([r({json:{write:!0}})],s.prototype,\"portalUrl\",void 0),o([r({json:{write:!0}})],s.prototype,\"preserveUrlHash\",void 0),o([r({json:{write:!0}})],s.prototype,\"userId\",void 0),s=p=o([e(\"esri.identity.OAuthInfo\")],s);var i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};o([e({json:{write:!0}})],s.prototype,\"adminTokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"currentVersion\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasPortal\",void 0),o([e({json:{write:!0}})],s.prototype,\"hasServer\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningSystemUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"owningTenant\",void 0),o([e({json:{write:!0}})],s.prototype,\"server\",void 0),o([e({json:{write:!0}})],s.prototype,\"shortLivedTokenValidity\",void 0),o([e({json:{write:!0}})],s.prototype,\"tokenServiceUrl\",void 0),o([e({json:{write:!0}})],s.prototype,\"webTierAuth\",void 0),s=o([t(\"esri.identity.ServerInfo\")],s);var i=s;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../config.js\";import{id as s}from\"../kernel.js\";import r from\"../request.js\";import i from\"../core/Error.js\";import n from\"../core/Evented.js\";import{on as o}from\"../core/events.js\";import a from\"../core/global.js\";import{fixJson as h}from\"../core/lang.js\";import{getDeepValue as l}from\"../core/object.js\";import{createAbortController as c,createResolver as d,onAbort as u,isAborted as p}from\"../core/promiseUtils.js\";import{Url as _,urlToObject as g,hasSameOrigin as f,queryToObject as m,normalize as v,getProxyRule as S,makeAbsolute as w,objectToQuery as I}from\"../core/urlUtils.js\";import{property as k}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{subclass as A}from\"../core/accessorSupport/decorators/subclass.js\";import y from\"./IdentityForm.js\";import U from\"./IdentityModal.js\";import T from\"./OAuthCredential.js\";import x from\"./OAuthInfo.js\";import O from\"./ServerInfo.js\";const R={},b=e=>{const t=new _(e.owningSystemUrl).host,s=new _(e.server).host,r=/.+\\.arcgis\\.com$/i;return r.test(t)&&r.test(s)},P=(e,t)=>!!(b(e)&&t&&t.some((t=>t.test(e.server))));let C=null,D=null;try{C=window.localStorage,D=window.sessionStorage}catch{}class j extends n{constructor(){super(),this._portalConfig=a.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this.defaultOAuthInfo=null,this.defaultTokenValidity=60,this.dialog=null,this.formConstructor=y,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=\"null\"!==window.origin?window.origin:window.location.origin,this._appUrlObj=g(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthHash=null,this._gwTokenUrl=\"/sharing/rest/generateToken\",this._agsRest=\"/rest/services\",this._agsPortal=/\\/sharing(\\/|$)/i,this._agsAdmin=/(https?:\\/\\/[^\\/]+\\/[^\\/]+)\\/admin\\/?(\\/.*)?$/i,this._adminSvcs=/\\/rest\\/admin\\/services(\\/|$)/i,this._gwDomains=[{regex:/^https?:\\/\\/www\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:dev|[a-z\\d-]+\\.mapsdev)\\.arcgis\\.com/i,customBaseUrl:\"mapsdev.arcgis.com\",tokenServiceUrl:\"https://dev.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:devext|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,customBaseUrl:\"mapsdevext.arcgis.com\",tokenServiceUrl:\"https://devext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/(?:qaext|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i,customBaseUrl:\"mapsqa.arcgis.com\",tokenServiceUrl:\"https://qaext.arcgis.com/sharing/rest/generateToken\"},{regex:/^https?:\\/\\/[a-z\\d-]+\\.maps\\.arcgis\\.com/i,customBaseUrl:\"maps.arcgis.com\",tokenServiceUrl:\"https://www.arcgis.com/sharing/rest/generateToken\"}],this._legacyFed=[],this._regexSDirUrl=/http.+\\/rest\\/services\\/?/gi,this._regexServerType=/(\\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/gi,this._gwUser=/http.+\\/users\\/([^\\/]+)\\/?.*/i,this._gwItem=/http.+\\/items\\/([^\\/]+)\\/?.*/i,this._gwGroup=/http.+\\/groups\\/([^\\/]+)\\/?.*/i,this._rePortalTokenSvc=/\\/sharing(\\/rest)?\\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthHash(),window.addEventListener(\"pageshow\",(e=>{this._pageShowHandler(e)}))}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server)}))}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const s of e){const e=this.findOAuthInfo(s.portalUrl);e&&t.splice(t.indexOf(e),1)}this.oAuthInfos=t.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),s=this._isServerRsrc(t);let r,i=this.findServerInfo(t),n=!0;i||(i=new O,i.server=this._getServerInstanceRoot(t),s?i.hasServer=!0:(i.tokenServiceUrl=this._getTokenSvcUrl(t),i.hasPortal=!0),this.registerServers([i])),r=this._findCredential(t),r?(delete e.server,Object.assign(r,e),n=!1):(r=new q({userId:e.userId,server:i.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:s?\"server\":\"portal\"}),r.resources=[t],this.credentials.push(r)),r.emitTokenChange(!1),n||r.refreshServerTokens()}toJSON(){return h({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;\"string\"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,s=e.oAuthInfos,r=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new O(t))})),e.length&&this.registerServers(e)}if(s){const e=[];s.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new x(t))})),e.length&&this.registerOAuthInfos(e)}r&&r.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new q(e)).emitTokenChange(),this.credentials.push(e))}))}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.serverInfos)if(this._hasSameServerInstance(s.server,e)){t=s;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const s of this.oAuthInfos)if(this._hasSameServerInstance(s.portalUrl,e)){t=s;break}return t}findCredential(e,t){let s;e=this._sanitizeUrl(e);const r=this._isServerRsrc(e)?\"server\":\"portal\";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===r){s=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===r){s=i;break}return s}getCredential(e,t){let s,r,n=!0;t&&(s=!!t.token,r=t.error,n=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const o=c(),a=d();if(t.signal&&u(t.signal,(()=>{o.abort()})),u(o,(()=>{a.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))})),p(o))return a.promise;t.signal=o.signal;const h=this._isAdminResource(e),l=s?this.findCredential(e):null;let _;if(l&&r&&r.details&&498===r.details.httpStatus)l.destroy();else if(l)return _=new i(\"identity-manager:not-authorized\",\"You are currently signed in as: '\"+l.userId+\"'. You do not have access to this resource: \"+e,{error:r}),a.reject(_),a.promise;const g=this._findCredential(e,t);if(g)return a.resolve(g),a.promise;let m=this.findServerInfo(e);if(m)!m.hasServer&&this._isServerRsrc(e)&&(m._restInfoPms=this._getTokenSvcUrl(e),m.hasServer=!0);else{const t=this._getTokenSvcUrl(e);if(!t)return _=new i(\"identity-manager:unknown-resource\",\"Unknown resource - could not find token service endpoint.\"),a.reject(_),a.promise;m=new O,m.server=this._getServerInstanceRoot(e),\"string\"==typeof t?(m.tokenServiceUrl=t,m.hasPortal=!0):(m._restInfoPms=t,m.hasServer=!0),this.registerServers([m])}return m.hasPortal&&void 0===m._selfReq&&(n||f(m.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===m.tokenServiceUrl)))&&(m._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(m.tokenServiceUrl.replace(this._rePortalTokenSvc,\"/sharing/rest/portals/self\"),e)}),this._enqueue(e,m,t,a,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"\")||\"\":this._gwUser.test(e)&&e.replace(this._gwUser,\"$1\")||this._gwItem.test(e)&&e.replace(this._gwItem,\"$1\")||this._gwGroup.test(e)&&e.replace(this._gwGroup,\"$1\")||\"\"}generateToken(e,t,s){const n=this._rePortalTokenSvc.test(e.tokenServiceUrl),o=new _(this._appOrigin),a=e.shortLivedTokenValidity;let h,l,c,d,u,p,g,m;t&&(m=this.tokenValidity||a||this.defaultTokenValidity,m>a&&a>0&&(m=a)),s&&(h=s.isAdmin,l=s.serverUrl,c=s.token,p=s.signal,g=s.ssl,e.customParameters=s.customParameters),h?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,u=new _(d.toLowerCase()),e.webTierAuth&&null!=s&&s.serverUrl&&!g&&\"http\"===o.scheme&&(f(o.uri,d,!0)||\"https\"===u.scheme&&o.host===u.host&&\"7080\"===o.port&&\"7443\"===u.port)&&(d=d.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\")));const v={query:{request:\"getToken\",username:null==t?void 0:t.username,password:null==t?void 0:t.password,serverUrl:l,token:c,expiration:m,referer:h||n?this._appOrigin:null,client:h?\"referer\":null,f:\"json\",...e.customParameters},method:\"post\",authMode:\"anonymous\",useProxy:this._useProxy(e,s),signal:p,...null==s?void 0:s.ioArgs};n||(v.withCredentials=!1);return r(d,v).then((s=>{const r=s.data;if(!r||!r.token)return new i(\"identity-manager:authentication-failed\",\"Unable to generate token\");const n=e.server;return R[n]||(R[n]={}),t&&(R[n][t.username]=t.password),r.validity=m,r}))}isBusy(){return!!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,\"\").then((e=>e.credential))}checkAppAccess(e,t,s){let n=!1;return this.getCredential(e,{prompt:!1}).then((o=>{let a;const h={f:\"json\"};if(\"portal\"===o.scope)if(t&&(this._doPortalSignIn(e)||s&&s.force))a=o.server+\"/sharing/rest/oauth2/validateAppAccess\",h.client_id=t;else{if(!o.token)return{credential:o};a=o.server+\"/sharing/rest\"}else{if(!o.token)return{credential:o};a=o.server+\"/rest/services\"}return o.token&&(h.token=o.token),r(a,{query:h,authMode:\"anonymous\"}).then((e=>{if(!1===e.data.valid)throw new i(\"identity-manager:not-authorized\",`You are currently signed in as: '${o.userId}'.`,e.data);return n=!!e.data.viewOnlyUserTypeApp,{credential:o}})).catch((e=>{if(\"identity-manager:not-authorized\"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw o.destroy(),new i(\"identity-manager:not-authenticated\",\"User is not signed in.\");if(400===t)throw new i(\"identity-manager:invalid-request\");return{credential:o}}))})).then((e=>({credential:e.credential,viewOnly:n})))}setOAuthResponseHash(e){var t;const s=this._oAuthDfd;if(this._oAuthDfd=null,!s||!e)return;clearInterval(this._oAuthIntervalId),null==(t=this._oAuthOnHashHandle)||t.remove(),\"#\"===e.charAt(0)&&(e=e.substring(1));const r=m(e);if(r.error){const e=\"access_denied\"===r.error,t=new i(e?\"identity-manager:user-aborted\":\"identity-manager:authentication-failed\",e?\"ABORTED\":\"OAuth: \"+r.error+\" - \"+r.error_description);s.reject(t)}else{const e=s.sinfo_,t=s.oinfo_,i=t._oAuthCred,n=new q({userId:r.username,server:e.server,token:r.access_token,expires:Date.now()+1e3*Number(r.expires_in),ssl:\"true\"===r.ssl,_oAuthCred:i});t.userId=n.userId,i.storage=r.persist?C:D,i.token=n.token,i.expires=n.expires,i.userId=n.userId,i.ssl=n.ssl,i.save(),s.resolve(n)}}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,t,s={}){const r=d(),n=()=>{var e,t,s,r,i;null==(e=h)||e.remove(),null==(t=l)||t.remove(),null==(s=c)||s.remove(),null==(r=a)||r.destroy(),null==(i=this.dialog)||i.destroy(),this.dialog=a=h=l=c=null},o=()=>{n(),this._oAuthDfd=null,r.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))};s.signal&&u(s.signal,(()=>{o()}));let a=new this.formConstructor;a.resource=this.getResourceName(e),a.server=t.server,this.dialog=new U,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");let h=a.on(\"cancel\",o),l=this.dialog.watch(\"open\",o),c=a.on(\"submit\",(e=>{this.generateToken(t,e,{isAdmin:s.isAdmin,signal:s.signal}).then((i=>{n();const o=new q({userId:e.username,server:t.server,token:i.token,expires:null!=i.expires?Number(i.expires):null,ssl:!!i.ssl,isAdmin:s.isAdmin,validity:i.validity});r.resolve(o)})).catch((e=>{a.error=e,a.signingIn=!1}))}));return r.promise}oAuthSignIn(e,t,s,r){this._oAuthDfd=d();const n=this._oAuthDfd;null!=r&&r.signal&&u(r.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&h()})),n.resUrl_=e,n.sinfo_=t,n.oinfo_=s;const o=!r||!1!==r.oAuthPopupConfirmation;if(!s.popup||!o)return this._doOAuthSignIn(e,t,s),n.promise;const a=new this.formConstructor;a.oAuthPrompt=!0,a.server=t.server,this.dialog=new U,this.dialog.content=a,this.dialog.open=!0,this.emit(\"dialog-create\");const h=()=>{_(),this._oAuthDfd=null,n.reject(new i(\"identity-manager:user-aborted\",\"ABORTED\"))},l=a.on(\"cancel\",h),c=this.dialog.watch(\"open\",h),p=a.on(\"submit\",(()=>{_(),this._doOAuthSignIn(e,t,s)})),_=()=>{l.remove(),c.remove(),p.remove(),a.destroy(),this.dialog.destroy(),this.dialog=null};return n.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy()}))}this.emit(\"credentials-destroy\")}enablePostMessageAuth(e=\"https://www.arcgis.com/sharing/rest\"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=o(window,\"message\",(t=>{var s;if((t.origin===this._appOrigin||t.origin.endsWith(\".arcgis.com\"))&&\"arcgis:auth:requestCredential\"===(null==(s=t.data)?void 0:s.type)){const s=t.source;this.getCredential(e).then((e=>{s.postMessage({type:\"arcgis:auth:credential\",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin)})).catch((e=>{s.postMessage({type:\"arcgis:auth:error\",error:{name:e.name,message:e.message}},t.origin)}))}}))}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthHash(){let e=window.location.hash;if(e){\"#\"===e.charAt(0)&&(e=e.substring(1));const t=m(e);let s=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty(\"username\"))try{t.state=JSON.parse(t.state),\"object\"==typeof t.state&&t.state.portalUrl&&(this._oAuthHash=t,s=!0)}catch{}else t.error&&t.error_description&&(console.log(\"IdentityManager OAuth Error: \",t.error,\" - \",t.error_description),\"access_denied\"===t.error&&(s=!0));s&&(window.location.hash=\"object\"==typeof t.state&&t.state.hash||\"\")}}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new i(\"identity-manager:user-aborted\",\"ABORTED\");this._errbackFunc(e)}}_findCredential(e,t){let s,r,i,n,o=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?\"server\":\"portal\",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(s=c[0],n=this.findServerInfo(s.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,s.userId),o=this._getIdenticalSvcIdx(e,s),!a)return-1===o&&s.resources.push(e),this._addResource(e,i),s;-1!==o&&(s.resources.splice(o,1),this._removeResource(e,i))}else{let t,s;if(c.some((a=>(s=this._getIdenticalSvcIdx(e,a),-1!==s&&(t=a,n=this.findServerInfo(t.server),r=n&&n.owningSystemUrl,i=r&&this.findCredential(r,t.userId),o=s,!0)))),a)t&&(t.resources.splice(o,1),this._removeResource(e,i));else if(t)return this._addResource(e,i),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const s of this.oAuthInfos)if(this._isIdProvider(s.portalUrl,e)){t=s;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e)}_removeResource(e,t){let s=-1;t&&(s=this._getIdenticalSvcIdx(e,t),s>-1&&t.resources.splice(s,1))}_useProxy(e,t){return t&&t.isAdmin&&!f(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&\"10.1\"===String(e.currentVersion)&&!f(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new _(e);return t.scheme+\"://\"+t.host+(null!=t.port?\":\"+t.port:\"\")}_getServerInstanceRoot(e){const t=e.toLowerCase();let s=t.indexOf(this._agsRest);return-1===s&&this._isAdminResource(e)&&(s=this._agsAdmin.test(e)?e.replace(this._agsAdmin,\"$1\").length:e.search(this._adminSvcs)),-1===s&&(s=t.indexOf(\"/sharing\")),-1===s&&\"/\"===t.substr(-1)&&(s=t.length-1),s>-1?e.substring(0,s):e}_hasSameServerInstance(e,t){return\"/\"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(\":\")))===(t=t.substr(t.indexOf(\":\")))}_normalizeAGOLorgDomain(e){const t=/^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i,s=/^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i,r=/^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i;return t.test(e)?e=e.replace(t,\"https://www.arcgis.com\"):s.test(e)?e=e.replace(s,\"https://devext.arcgis.com\"):r.test(e)&&(e=e.replace(r,\"https://qaext.arcgis.com\")),e}_sanitizeUrl(e){const s=(t.request.proxyUrl||\"\").toLowerCase(),r=s?e.toLowerCase().indexOf(s+\"?\"):-1;return-1!==r&&(e=e.substring(r+s.length+1)),e=v(e),g(e).path}_isRESTService(e){return e.indexOf(this._agsRest)>-1}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let s;if(this._isRESTService(e)&&this._isRESTService(t)){const r=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(s=r===i,!s){const e=/(.*)\\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;s=r.replace(e,\"$1\")===i.replace(e,\"$1\")}}else this._isAdminResource(e)&&this._isAdminResource(t)?s=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(s=!0);return s}_isPortalDomain(e){const s=new _(e.toLowerCase()),r=this._portalConfig;let i=this._gwDomains.some((e=>e.regex.test(s.uri)));return!i&&r&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),s.uri)),i||t.portalUrl&&(i=f(s,t.portalUrl,!0)),i||(i=this._portals.some((e=>this._hasSameServerInstance(e,s.uri)))),i=i||this._agsPortal.test(s.path),i}_isIdProvider(e,t){let s=-1,r=-1;this._gwDomains.forEach(((i,n)=>{-1===s&&i.regex.test(e)&&(s=n),-1===r&&i.regex.test(t)&&(r=n)}));let i=!1;if(s>-1&&r>-1&&(0===s||4===s?0!==r&&4!==r||(i=!0):1===s?1!==r&&2!==r||(i=!0):2===s?2===r&&(i=!0):3===s&&3===r&&(i=!0)),!i){const s=this.findServerInfo(t),r=s&&s.owningSystemUrl;r&&b(s)&&this._isPortalDomain(r)&&this._isIdProvider(e,r)&&(i=!0)}return i}_getIdenticalSvcIdx(e,t){let s=-1;for(let r=0;r<t.resources.length;r++){const i=t.resources[r];if(this._isIdenticalService(e,i)){s=r;break}}return s}_getSuffix(e){return e.replace(this._regexSDirUrl,\"\").replace(this._regexServerType,\"$1\")}_getTokenSvcUrl(e){let t,s,i;if(this._isRESTService(e)||this._isAdminResource(e)){const i=this._getServerInstanceRoot(e);return t=i+\"/admin/generateToken\",s=r(e=i+\"/rest/info\",{query:{f:\"json\"}}).then((e=>e.data)),{adminUrl:t,promise:s}}if(this._isPortalDomain(e)){let t=\"\";if(this._gwDomains.some((s=>(s.regex.test(e)&&(t=s.tokenServiceUrl),!!t))),t||this._portals.some((s=>(this._hasSameServerInstance(s,e)&&(t=s+this._gwTokenUrl),!!t))),t||(i=e.toLowerCase().indexOf(\"/sharing\"),-1!==i&&(t=e.substring(0,i)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const s=new _(e).port;/^http:\\/\\//i.test(e)&&\"7080\"===s&&(t=t.replace(/:7080/i,\":7443\")),t=t.replace(/http:/i,\"https:\")}return t}if(-1!==e.toLowerCase().indexOf(\"premium.arcgisonline.com\"))return\"https://premium.arcgisonline.com/server/tokens\"}_exchangeToken(e,t,s){return r(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:\"anonymous\",method:\"post\",query:{f:\"json\",client_id:t,token:s}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return r(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:\"anonymous\",headers:{\"X-Esri-Auth-Client-Id\":t,\"X-Esri-Auth-Redirect-Uri\":window.location.href.replace(/#.*$/,\"\")},method:\"post\",query:{f:\"json\"},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let s;if(this._gwDomains.some((t=>(t.regex.test(e)&&(s=t.customBaseUrl),!!s))),s)return Promise.resolve({allSSL:!0,currentVersion:\"4.4\",customBaseUrl:s,portalMode:\"multitenant\",supportsOAuth:!0});this._appOrigin.startsWith(\"https:\")?e=e.replace(/^http:/i,\"https:\").replace(/:7080/i,\":7443\"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,\"http:\").replace(/:7443/i,\":7080\"));return r(e,{query:{f:\"json\"},authMode:\"anonymous\",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,s=window.location.href,r=this.findServerInfo(e);return!(!t&&!this._isPortalDomain(s)||!(r?r.hasPortal||r.owningSystemUrl&&this._isPortalDomain(r.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(s,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||f(s,e,!0)))}_checkProtocol(e,t,s,r){let n=!0;const o=r?t.adminTokenServiceUrl:t.tokenServiceUrl;if(o.trim().toLowerCase().startsWith(\"https:\")&&!this._appOrigin.startsWith(\"https:\")&&S(o)&&(n=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!n)){s(new i(\"identity-manager:aborted\",\"Aborted the Sign-In process to avoid sending password over insecure connection.\"))}return n}_enqueue(e,t,s,r,i,n){return r||(r=d()),r.resUrl_=e,r.sinfo_=t,r.options_=s,r.admin_=i,r.refresh_=n,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(r)):this._xoReqs.push(r):this._doSignIn(r),r.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const t=t=>{const s=e.options_&&e.options_.resource,r=e.resUrl_,i=e.refresh_;let n=!1;-1===this.credentials.indexOf(t)&&(i&&-1!==this.credentials.indexOf(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,n=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.push(s||r),t.scope=this._isServerRsrc(r)?\"server\":\"portal\",t.emitTokenChange();const o=this._soReqs,a={};this._soReqs=[],o.forEach((e=>{if(!this._isIdenticalService(r,e.resUrl_)){const s=this._getSuffix(e.resUrl_);a[s]||(a[s]=!0,t.resources.push(e.resUrl_))}})),e.resolve(t),o.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(r),e.resUrl_)?e.resolve(t):this._soReqs.push(e)})),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,n||this.emit(\"credential-create\",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},s=t=>{e.reject(t),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=(r,n,a,h)=>{var l,c;const d=e.sinfo_,p=!e.options_||!1!==e.options_.prompt,_=d.hasPortal&&this._findOAuthInfo(e.resUrl_);let g,m;if(r)t(new q({userId:r,server:d.server,token:a||null,expires:null!=h?Number(h):null,ssl:!!n}));else if(window!==window.parent&&null!=(l=this._appUrlObj.query)&&l[\"arcgis-auth-origin\"]&&null!=(c=this._appUrlObj.query)&&c[\"arcgis-auth-portal\"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query[\"arcgis-auth-portal\"]),e.resUrl_)){var v;window.parent.postMessage({type:\"arcgis:auth:requestCredential\"},this._appUrlObj.query[\"arcgis-auth-origin\"]);const r=o(window,\"message\",(e=>{e.source===window.parent&&e.data&&(\"arcgis:auth:credential\"===e.data.type?(r.remove(),t(new q(e.data.credential))):\"arcgis:auth:error\"===e.data.type&&(r.remove(),s(i.fromJSON(e.data.error))))}));u(null==(v=e.options_)?void 0:v.signal,(()=>{r.remove()}))}else if(_){let r=_._oAuthCred;if(!r){const e=new T(_,C),t=new T(_,D);e.isValid()&&t.isValid()?e.expires>t.expires?(r=e,t.destroy()):(r=t,e.destroy()):r=e.isValid()?e:t,_._oAuthCred=r}if(r.isValid())g=new q({userId:r.userId,server:d.server,token:r.token,expires:r.expires,ssl:r.ssl,_oAuthCred:r}),_.appId!==r.appId&&this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._exchangeToken(g.server,_.appId,g.token).then((e=>{g.token=e,r.token=e,r.save(),t(g)})).catch((()=>{t(g)})):t(g);else if(this._oAuthHash&&this._hasSameServerInstance(_.portalUrl,this._oAuthHash.state.portalUrl)){const e=this._oAuthHash;g=new q({userId:e.username,server:d.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:\"true\"===e.ssl,oAuthState:e.state,_oAuthCred:r}),_.userId=g.userId,r.storage=e.persist?C:D,r.token=g.token,r.expires=g.expires,r.userId=g.userId,r.ssl=g.ssl,r.save(),this._oAuthHash=null,t(g)}else{const r=()=>{p?e._pendingDfd=this.oAuthSignIn(e.resUrl_,d,_,e.options_).then(t,s):(m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(d.server,_.appId).then((({portalUrl:e,token:s,username:i})=>{!e||f(e,this._appOrigin,!0)?(g=new q({server:d.server,userId:i,token:s}),t(g)):r()})).catch(r):r()}}else if(p){if(this._checkProtocol(e.resUrl_,d,s,e.admin_)){let r=e.options_;e.admin_&&(r=r||{},r.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,d,r).then(t,s)}}else m=new i(\"identity-manager:not-authenticated\",\"User is not signed in.\"),s(m)},n=()=>{const r=e.sinfo_,i=r.owningSystemUrl,n=e.options_;let o,a,h,l;if(n&&(o=n.token,a=n.error,h=n.prompt),l=this._findCredential(i,{token:o,resource:e.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e.resUrl_,l.userId);if(i)t(i);else if(P(r,this._legacyFed)){const e=l.toJSON();e.server=r.server,e.resources=null,t(new q(e))}else{(e._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e.resUrl_,token:l.token,signal:e.options_.signal,ssl:l.ssl})).then((s=>{t(new q({userId:l.userId,server:r.server,token:s.token,expires:null!=s.expires?Number(s.expires):null,ssl:!!s.ssl,isAdmin:e.admin_,validity:s.validity}))}),s)}}else{this._busy=null,o&&(e.options_.token=null);(e._pendingDfd=this.getCredential(i.replace(/\\/?$/,\"/sharing\"),{resource:e.resUrl_,owningTenant:r.owningTenant,signal:e.options_.signal,token:o,error:a,prompt:h})).then((()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)}),(t=>{e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(t)}))}};this._errbackFunc=s;const a=e.sinfo_.owningSystemUrl,h=this._isServerRsrc(e.resUrl_),c=e.sinfo_._restInfoPms;c?c.promise.then((t=>{const s=e.sinfo_;if(s._restInfoPms){s.adminTokenServiceUrl=s._restInfoPms.adminUrl,s._restInfoPms=null,s.tokenServiceUrl=l(\"authInfo.tokenServicesUrl\",t)||l(\"authInfo.tokenServiceUrl\",t)||l(\"tokenServiceUrl\",t),s.shortLivedTokenValidity=l(\"authInfo.shortLivedTokenValidity\",t),s.currentVersion=t.currentVersion,s.owningTenant=t.owningTenant;const e=s.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e)}h&&s.owningSystemUrl?n():r()}),(()=>{e.sinfo_._restInfoPms=null;const t=new i(\"identity-manager:server-identification-failed\",\"Unknown resource - could not find token service endpoint.\");s(t)})):h&&a?n():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then((t=>{const s={};let r,i,n,o;return t&&(r=t.user&&t.user.username,s.username=r,s.allSSL=t.allSSL,i=t.supportsOAuth,n=t.currentVersion,\"multitenant\"===t.portalMode&&(o=t.customBaseUrl)),e.sinfo_.webTierAuth=!!r,r&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:s.allSSL}).catch((()=>null)).then((e=>(s.portalToken=e&&e.token,s.tokenExpiration=e&&e.expires,s))):!r&&i&&parseFloat(n)>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:o,owningTenant:e.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>s)):s})).catch((()=>null)).then((t=>{e.sinfo_._selfReq=null,t?r(t.username,t.allSSL,t.portalToken,t.tokenExpiration):r()})):r()}_generateOAuthInfo(e){let t,s,i=e.portalUrl;const n=e.customBaseUrl,o=e.owningTenant,a=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){s=window.location.href;let e=s.indexOf(\"?\");e>-1&&(s=s.slice(0,e)),e=s.search(/\\/(apps|home)\\//),s=e>-1?s.slice(0,e):null}return a&&s?(this._hasTestedIfAppIsOnPortal=!0,t=r(s+\"/sharing/rest\",{query:{f:\"json\"}}).then((()=>{this.defaultOAuthInfo=new x({appId:\"arcgisonline\",popupCallbackUrl:s+\"/home/oauth-callback.html\"})}))):t=Promise.resolve(),t.then((()=>{if(this.defaultOAuthInfo)return i=i.replace(/^http:/i,\"https:\"),r(i+\"/sharing/rest/oauth2/validateRedirectUri\",{query:{accountId:o,client_id:this.defaultOAuthInfo.appId,redirect_uri:w(this.defaultOAuthInfo.popupCallbackUrl),f:\"json\"}}).then((e=>{if(e.data.valid){const t=this.defaultOAuthInfo.clone();e.data.urlKey&&n?t.portalUrl=\"https://\"+e.data.urlKey.toLowerCase()+\".\"+n:t.portalUrl=i,t.popup=window!==window.top||!(f(i,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(i)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t)}}))}))}_doOAuthSignIn(e,t,s){const r={portalUrl:s.portalUrl};!s.popup&&s.preserveUrlHash&&window.location.hash&&(r.hash=window.location.hash);const n={client_id:s.appId,response_type:\"token\",state:JSON.stringify(r),expiration:s.expiration,locale:s.locale,redirect_uri:s.popup?w(s.popupCallbackUrl):window.location.href.replace(/#.*$/,\"\")};s.forceLogin&&(n.force_login=!0),s.forceUserId&&s.userId&&(n.prepopulatedusername=s.userId),!s.popup&&this._doPortalSignIn(e)&&(n.redirectToUserOrgUrl=!0);const h=s.portalUrl.replace(/^http:/i,\"https:\")+\"/sharing/oauth2/authorize\",l=h+\"?\"+I(n);if(s.popup){const e=window.open(l,\"esriJSAPIOAuth\",s.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnHashHandle.remove();const e=this._oAuthDfd;if(e){const t=new i(\"identity-manager:user-aborted\",\"ABORTED\");e.reject(t)}}}),500),this._oAuthOnHashHandle=o(a,\"arcgis:auth:hash\",(e=>{this.setOAuthResponseHash(e.detail)}));else{const e=new i(\"identity-manager:popup-blocked\",\"ABORTED\");this._oAuthDfd.reject(e)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:n,authorizeUrl:h,resourceUrl:e,serverInfo:t,oAuthInfo:s}):window.location.href=l}}j.prototype.declaredClass=\"esri.identity.IdentityManagerBase\";let q=class extends n.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now())}refreshToken(){const e=s.findServerInfo(this.server),t=e&&e.owningSystemUrl,r=!!t&&\"server\"===this.scope,i=r&&P(e,s._legacyFed),n=e.webTierAuth,o=n&&s.normalizeWebTierAuth,a=R[this.server],h=a&&a[this.userId];let l,c=this.resources&&this.resources[0],d=r&&s.findServerInfo(t),u={username:this.userId,password:h};if(n&&!o)return;r&&!d&&s.serverInfos.some((e=>(s._isIdProvider(t,e.server)&&(d=e),!!d)));const p=d&&s.findCredential(d.server,this.userId);if(!r||p){if(!i){if(r)l={serverUrl:c,token:p&&p.token,ssl:p&&p.ssl};else if(o)u=null,l={ssl:this.ssl};else{if(!h){let t;return c&&(c=s._sanitizeUrl(c),this._enqueued=1,t=s._enqueue(c,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens()})).catch((()=>{this._enqueued=0}))),t}this.isAdmin&&(l={isAdmin:!0})}return s.generateToken(r?d:e,r?null:u,l).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens()})).catch((()=>{}))}p.refreshToken()}}refreshServerTokens(){\"portal\"===this.scope&&s.credentials.forEach((e=>{const t=s.findServerInfo(e.server),r=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&r&&\"server\"===e.scope&&(s._hasSameServerInstance(this.server,r)||s._isIdProvider(r,this.server))&&(P(t,s._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken())}))}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&s.findServerInfo(this.server),r=t&&t.owningSystemUrl,i=r&&s.findServerInfo(r);!1===e||r&&\"portal\"!==this.scope&&(!i||!i.webTierAuth||s.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit(\"token-change\")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=s.credentials.indexOf(this);e>-1&&s.credentials.splice(e,1),this.emitTokenChange(),this.emit(\"destroy\")}toJSON(){const e=h({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let s=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();s<0?s=0:s>t&&(s=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),s>e?s-e:s)}};e([k()],q.prototype,\"creationTime\",void 0),e([k()],q.prototype,\"expires\",void 0),e([k()],q.prototype,\"isAdmin\",void 0),e([k()],q.prototype,\"oAuthState\",void 0),e([k()],q.prototype,\"resources\",void 0),e([k()],q.prototype,\"scope\",void 0),e([k()],q.prototype,\"server\",void 0),e([k()],q.prototype,\"ssl\",void 0),e([k()],q.prototype,\"token\",void 0),e([k()],q.prototype,\"tokenRefreshBuffer\",void 0),e([k()],q.prototype,\"userId\",void 0),e([k()],q.prototype,\"validity\",void 0),q=e([A(\"esri.identity.Credential\")],q);export{q as Credential,j as IdentityManagerBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{setId as e}from\"../kernel.js\";import{IdentityManagerBase as t}from\"./IdentityManagerBase.js\";class r extends t{}r.prototype.declaredClass=\"esri.identity.IdentityManager\";const s=new r;e(s);export{s as default};\n"],"names":["a","p","o","constructor","s2","e2","this","_usernameInputNode","_passwordInputNode","messages","signingIn","server","resource","error","oAuthPrompt","render","t2","o2","n2","p2","d2","u","class","r","oAuthInfo","info","test","lblItem","c","key","lblUser","value","required","autocomplete","spellcheck","type","bind","afterCreate","i","m","lblPwd","h2","classes","disabled","lblSigning","lblOk","lblCancel","onclick","_cancel","g","details","httpStatus","invalidUser","noAuthService","onsubmit","_submit","_set","emit","preventDefault","username","password","s","e","n","prototype","t","d","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","getTabindex","node","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","nodeName","tabIndex","sortOrderedTabbables","a2","b2","documentOrder","isInput","tagName","isNonTabbableRadio","isRadio","name","radioSet","radioScope","form","ownerDocument","queryRadios","querySelectorAll","window","CSS","escape","err","message","checked","nodes","i2","length","getCheckedRadio","isTabbableRadio","isNodeMatchingSelectorFocusable","options","isHiddenInput","displayCheck","getComputedStyle","visibility","nodeUnderDetails","call","parentElement","_node$getBoundingClie","getBoundingClientRect","width","height","display","isHidden","Array","slice","apply","children","some","child","isDetailsWithSummary","parentNode","item","contains","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","tabbable","el","regularTabbables","orderedTabbables","includeContainer","filter","candidates","unshift","getCandidates","forEach","candidate","candidateTabindex","push","sort","map","concat","focusableCandidateSelector","isFocusable","Error","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","obj","defineProperty","configurable","writable","trapQueue","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","deactivateTrap","unpause","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","_len","arguments","params","_key","createFocusTrap","elements","userOptions","doc","document","config","target","source","getOwnPropertyDescriptors","defineProperties","_objectSpread2","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","containersContain","element","container","getNodeForOption","optionValue","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","tabbableNodes","lastTabbableNode","group","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","_ref","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkClick","addListeners","addEventListener","capture","passive","removeListeners","removeEventListener","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","then","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","l","createElement","content","open","_close","body","appendChild","own","watch","_toggleFocusTrap","destroy","_destroyFocusTrap","id","title","r2","close","l2","role","_createFocusTrap","_renderContent","_focusTrap","requestAnimationFrame","initialFocus","cancelAnimationFrame","innerHTML","HTMLElement","_attachToNode","readOnly","aliasOf","storage","appId","expires","ssl","token","userId","_init","isValid","Date","now","minTimeUntilExpiration","save","_load","authNamespace","portalUrl","setItem","JSON","stringify","log","replace","s3","FormData","append","navigator","sendBeacon","e3","XMLHttpRequest","send","_oAuthCred","getItem","parse","declaredClass","expiration","forceLogin","forceUserId","locale","popup","popupCallbackUrl","popupWindowFeatures","preserveUrlHash","clone","fromJSON","toJSON","json","write","adminTokenServiceUrl","currentVersion","hasPortal","hasServer","owningSystemUrl","owningTenant","shortLivedTokenValidity","tokenServiceUrl","webTierAuth","R","b","_","host","P","t3","C","D","localStorage","sessionStorage","_portalConfig","esriGeowConfig","serverInfos","oAuthInfos","credentials","_soReqs","_xoReqs","_portals","defaultOAuthInfo","defaultTokenValidity","dialog","formConstructor","y","tokenValidity","normalizeWebTierAuth","_appOrigin","origin","location","_appUrlObj","href","_busy","_rejectOnPersistedPageShow","_oAuthHash","_gwTokenUrl","_agsRest","_agsPortal","_agsAdmin","_adminSvcs","_gwDomains","regex","customBaseUrl","_legacyFed","_regexSDirUrl","_regexServerType","_gwUser","_gwItem","_gwGroup","_rePortalTokenSvc","_createDefaultOAuthInfo","_hasTestedIfAppIsOnPortal","_getOAuthHash","_pageShowHandler","registerServers","findServerInfo","registerOAuthInfos","findOAuthInfo","registerToken","__spreadValues","_sanitizeUrl","_isServerRsrc","O","_getServerInstanceRoot","_getTokenSvcUrl","_findCredential","assign","q","scope","resources","emitTokenChange","refreshServerTokens","h","initialize","x","_hasSameServerInstance","findCredential","_getIdenticalSvcIdx","getCredential","prompt","signal","abort","reject","promise","_isAdminResource","g2","resolve","_restInfoPms","_selfReq","f","selfDfd","_getPortalSelf","_enqueue","getResourceName","_isRESTService","generateToken","isAdmin","serverUrl","customParameters","scheme","uri","port","v2","query","request","referer","client","method","authMode","useProxy","_useProxy","ioArgs","withCredentials","data","n3","validity","isBusy","checkSignInStatus","checkAppAccess","credential","_doPortalSignIn","force","client_id","valid","viewOnlyUserTypeApp","catch","viewOnly","setOAuthResponseHash","_oAuthDfd","_oAuthIntervalId","_oAuthOnHashHandle","remove","charAt","substring","error_description","sinfo_","oinfo_","access_token","Number","expires_in","persist","setOAuthRedirectionHandler","_oAuthRedirectFunc","setProtocolErrorHandler","_protocolFunc","signIn","r3","U","on","o3","e4","oAuthSignIn","oAuthWin_","closed","resUrl_","oAuthPopupConfirmation","_doOAuthSignIn","destroyCredentials","enablePostMessageAuth","_postMessageAuthHandle","endsWith","postMessage","disablePostMessageAuth","hash","hasOwnProperty","persisted","_errbackFunc","_addResource","_removeResource","a3","_findOAuthInfo","_isIdProvider","_isPortalDomain","String","_getOrigin","search","substr","_normalizeAGOLorgDomain","proxyUrl","v","path","_isIdenticalService","_getSuffix","restBaseUrl","i3","adminUrl","_exchangeToken","_getPlatformSelf","headers","Promise","allSSL","portalMode","supportsOAuth","startsWith","_checkProtocol","trim","S","resourceUrl","serverInfo","options_","admin_","refresh_","_doSignIn","creationTime","s4","shift","h3","c2","parent","r4","T","_pendingDfd","oAuthState","r5","user","portalToken","tokenExpiration","parseFloat","_generateOAuthInfo","accountId","redirect_uri","w","urlKey","top","response_type","force_login","prepopulatedusername","redirectToUserOrgUrl","I","setInterval","detail","authorizeParams","authorizeUrl","j","EventedAccessor","tokenRefreshBuffer","refreshToken","_enqueued","_refreshTimer","_startRefreshTimer","k","A"],"mappings":"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"}