{"version":3,"file":"BitmapTileContainer.79d2ec63.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","../../node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{Bitmap as e}from\"./Bitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class r extends s{constructor(t,s,r,i,a,n=null){super(t,s,r,i,a),this.bitmap=new e(n,\"standard\",!1),this.bitmap.coordScale=[i,a],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{dvs:t(),tileMat3:t()}}setTransform(t,e){super.setTransform(t,e),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{r as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{BitmapTile as r}from\"./BitmapTile.js\";import{brushes as s}from\"./brushes.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import i from\"./webgl/TileContainer.js\";class n extends i{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(s){const t=this._tileInfoView.getTileBounds(e(),s),[i,n]=this._tileInfoView.tileInfo.size;return new r(s,t[0],t[3],i,n)}destroyTile(){}prepareRenderPasses(e){const r=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[s.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};\n"],"names":["s","constructor","t","r2","i","a","n2","this","bitmap","e","coordScale","once","ready","destroy","beforeRender","afterRender","stencilRef","_createTransforms","dvs","tileMat3","setTransform","transforms","onAttach","stage","onDetach","children","some","blendFunction","createTile","_tileInfoView","getTileBounds","tileInfo","size","r","destroyTile","prepareRenderPasses","registerRenderPass","name","brushes","target","map","e2","drawPhase","MAP","super","doRender","visible"],"mappings":"qOAIuJ,gBAAgBA,EAAEC,YAAYC,EAAEF,EAAEG,EAAEC,EAAEC,EAAEC,EAAE,YAAYJ,EAAEF,EAAEG,EAAEC,EAAEC,GAAGE,KAAKC,OAAO,IAAIC,EAAEH,EAAE,YAAW,GAAIC,KAAKC,OAAOE,WAAW,CAACN,EAAEC,GAAGE,KAAKC,OAAOG,KAAK,WAAW,IAAIJ,KAAKK,UAAUC,gBAAgBA,UAAUN,KAAKC,OAAOK,UAAUC,aAAaZ,SAASY,aAAaZ,GAAGK,KAAKC,OAAOM,aAAaZ,GAAGa,YAAYb,SAASa,YAAYb,GAAGK,KAAKC,OAAOO,YAAYb,kBAAkBA,QAAQM,OAAOQ,WAAWd,0BAA0BK,KAAKC,OAAOQ,WAAWC,0BAA0B,CAACC,IAAIhB,IAAIiB,SAASjB,KAAKkB,aAAalB,EAAEO,SAASW,aAAalB,EAAEO,GAAGF,KAAKC,OAAOa,WAAWH,IAAIX,KAAKc,WAAWH,IAAII,gBAAgBd,OAAOe,MAAMhB,KAAKgB,MAAMC,gBAAgBhB,cAAcA,OAAOe,MAAM,OCA9jB,gBAAgBnB,oCAAoCG,KAAKkB,SAASC,SAAS,aAAAjB,EAAeD,OAAOmB,gBAAgBC,WAAW5B,SAASE,EAAEK,KAAKsB,cAAcC,cAAcrB,IAAIT,IAAII,EAAEE,GAAGC,KAAKsB,cAAcE,SAASC,YAAY,IAAIC,EAAEjC,EAAEE,EAAE,GAAGA,EAAE,GAAGE,EAAEE,GAAG4B,eAAeC,oBAAoB1B,SAASN,EAAEM,EAAE2B,mBAAmB,CAACC,KAAK,gBAAgBC,QAAQ,CAACtC,EAAEQ,QAAQ+B,OAAO,IAAIhC,KAAKkB,SAASe,QAAQC,EAAEjC,SAASkC,UAAUxC,EAAEyC,YAAY,IAAIC,MAAMT,oBAAoB1B,GAAGN,GAAG0C,SAASpC,QAAQqC,SAASrC,EAAEiC,YAAYxC,EAAEyC,KAAKC,MAAMC,SAASpC"}