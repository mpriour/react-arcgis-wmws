{"version":3,"file":"GraphicsLayerView2D.d62dbecd.js","sources":["../../node_modules/@arcgis/core/views/2d/layers/GraphicsLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import r from\"../../../core/Collection.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as a}from\"./LayerView2D.js\";import h from\"./graphics/GraphicContainer.js\";import p from\"./graphics/GraphicsView2D.js\";import o from\"../../layers/LayerView.js\";const c={remove(){},pause(){},resume(){}};let n=class extends(a(o)){initialize(){this.graphicsView=new p({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics,container:new h(this.view.featuresTilingScheme)})}attach(){this.container.addChild(this.graphicsView.container),this.handles.add(this.layer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler),\"graphicslayerview2d\")}detach(){this.container.removeAllChildren(),this.graphicsView.destroy(),this.handles.remove(\"graphicslayerview2d\")}hitTest(e,i){return this.suspended||!this.graphicsView?Promise.resolve(null):this.graphicsView.hitTest(e,i)}async fetchPopupFeatures(e){if(this.graphicsView)return this.graphicsView.searchFeatures(e).then((e=>e.filter((e=>!!e.popupTemplate))))}update(e){this.graphicsView.processUpdate(e)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(e){let s;return\"number\"==typeof e?s=[e]:e instanceof i?s=[e.uid]:Array.isArray(e)&&e.length>0?s=\"number\"==typeof e[0]?e:e.map((e=>e&&e.uid)):r.isCollection(e)&&(s=e.map((e=>e&&e.uid)).toArray()),s=s.filter((e=>null!=e)),s.length?(this.graphicsView.addHighlight(s),{remove:()=>this.graphicsView.removeHighlight(s)}):c}queryGraphics(){return Promise.resolve(this.graphicsView.graphics)}};e([s()],n.prototype,\"graphicsView\",void 0),e([s()],n.prototype,\"updating\",void 0),n=e([t(\"esri.views.2d.layers.GraphicsLayerView2D\")],n);var g=n;export{g as default};\n"],"names":["c","remove","pause","resume","n","a","o","initialize","graphicsView","p","requestUpdateCallback","this","requestUpdate","view","graphics","layer","container","h","featuresTilingScheme","attach","addChild","handles","add","on","graphicUpdateHandler","detach","removeAllChildren","destroy","hitTest","e2","i","suspended","Promise","resolve","searchFeatures","then","e3","filter","e4","popupTemplate","update","processUpdate","moveStart","viewChange","moveEnd","isUpdating","updating","highlight","s","uid","Array","isArray","length","map","r","isCollection","toArray","addHighlight","removeHighlight","queryGraphics","e","prototype","t","g"],"mappings":"4qCAIukB,MAAMA,EAAE,CAACC,WAAWC,UAAUC,YAAY,IAAIC,EAAE,cAAcC,EAAEC,IAAIC,kBAAkBC,aAAa,IAAIC,EAAE,CAACC,sBAAsB,IAAIC,KAAKC,gBAAgBC,KAAKF,KAAKE,KAAKC,SAASH,KAAKI,MAAMD,SAASE,UAAU,IAAIC,EAAEN,KAAKE,KAAKK,wBAAwBC,cAAcH,UAAUI,SAAST,KAAKH,aAAaQ,WAAWL,KAAKU,QAAQC,IAAIX,KAAKI,MAAMQ,GAAG,iBAAiBZ,KAAKH,aAAagB,sBAAsB,uBAAuBC,cAAcT,UAAUU,oBAAoBf,KAAKH,aAAamB,UAAUhB,KAAKU,QAAQpB,OAAO,uBAAuB2B,QAAQC,EAAEC,UAAUnB,KAAKoB,YAAYpB,KAAKH,aAAawB,QAAQC,QAAQ,MAAMtB,KAAKH,aAAaoB,QAAQC,EAAEC,4BAA4BD,MAAMlB,KAAKH,oBAAoBG,KAAKH,aAAa0B,eAAeL,GAAGM,SAASC,EAAEC,aAAaC,EAAEC,kBAAkBC,OAAOX,QAAQrB,aAAaiC,cAAcZ,GAAGa,aAAaC,kBAAkBnC,aAAamC,aAAaC,WAAWC,oBAAoBlC,KAAKH,cAAcG,KAAKH,aAAasC,SAASC,UAAUlB,OAAOmB,QAAQ,iBAAiBnB,EAAEmB,EAAE,CAACnB,GAAGA,aAAaC,EAAEkB,EAAE,CAACnB,EAAEoB,KAAKC,MAAMC,QAAQtB,IAAIA,EAAEuB,OAAO,EAAEJ,EAAE,iBAAiBnB,EAAE,GAAGA,EAAEA,EAAEwB,QAAQjB,GAAGA,EAAEa,MAAMK,EAAEC,aAAa1B,OAAOA,EAAEwB,QAAQjB,GAAGA,EAAEa,MAAMO,WAAWR,EAAEA,EAAEX,WAAW,MAAAD,IAAUY,EAAEI,aAAa5C,aAAaiD,aAAaT,GAAG,CAAC/C,OAAO,IAAIU,KAAKH,aAAakD,gBAAgBV,KAAKhD,EAAE2D,uBAAuB3B,QAAQC,QAAQtB,KAAKH,aAAaM,YAAY8C,EAAE,CAACZ,KAAK5C,EAAEyD,UAAU,oBAAe,GAAQD,EAAE,CAACZ,KAAK5C,EAAEyD,UAAU,gBAAW,GAAQzD,EAAEwD,EAAE,CAACE,EAAE,6CAA6C1D,GAAM,IAAC2D,EAAE3D"}