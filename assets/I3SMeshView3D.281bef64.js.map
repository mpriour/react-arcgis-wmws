{"version":3,"file":"I3SMeshView3D.281bef64.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGeometryUtil.js","../../node_modules/@arcgis/core/views/3d/support/LimitGraphicsMap.js","../../node_modules/@arcgis/core/views/3d/layers/I3SMeshViewLabeler.js","../../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/Highlights.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SCrossfadeHelper.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SElevationProvider.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIntersectionHandler.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/IDBCache.js","../../node_modules/@arcgis/core/views/3d/layers/I3SMeshView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{t as e,b as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as n}from\"../../../../geometry/projection.js\";import{create as a,set as m,expandWithBuffer as s,NEGATIVE_INFINITY as c,ZERO as f}from\"../../../../geometry/support/aaBoundingBox.js\";function i(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=4&c?m[2]:m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[3*c]=b[0],a[3*c+1]=b[1],a[3*c+2]=b[2];return a}function u(e,o,r){const a=new Float64Array(24);return u=>{let l=u.meta.featureExtents;if(t(l)){l=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=l;for(let t=0;t<l.length;t+=6)l[t]=Number.POSITIVE_INFINITY}const p=new Float64Array(l.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return p[0]===Number.POSITIVE_INFINITY&&(i(u.index,r,u.meta.objectHandle,a),n(a,o,0,a,e,0,8)?(m(p,c),s(p,a,0,8)):m(p,f)),p}}function l(t,r,n,a){const m=r.getComponentAabb(n,t,p),s=r.getObjectTransform(n);a[0]=0,a[1]=0,a[2]=0;for(let c=0;c<8;++c)b[0]=1&c?m[0]:m[3],b[1]=2&c?m[1]:m[4],b[2]=m[5],e(b,b,s.rotationScale),o(b,b,s.position),a[0]+=b[0],a[1]+=b[1],a[2]+=b[2];return a[0]/=8,a[1]/=8,a[2]/=8,a}const p=a(),b=r();export{i as boundingBoxCornerPoints,l as boundingBoxTop,u as createGetFeatureExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{GraphicsMap as s}from\"./GraphicsMap.js\";class i extends e{constructor(e){super(),this._limit=e,this._all=new s,this._active=new a(this),this._pending=new Map,this._handle=this._all.on(\"change\",(e=>this._handleChanges(e)))}destroy(){this._handle.remove()}get length(){return this._active.length}toArray(){return this._active.toArray()}find(e){return this._active.find(e)}forEach(e){this._active.forEach(e)}addMany(e){this._all.addMany(e)}removeManyByObjectId(e){this._all.removeManyByObjectId(e)}_handleChanges(e){let t=e.removed;if(this._pending.size>0){t=new Array;for(const s of e.removed)this._pending.delete(s.objectId)||t.push(s)}let s=this._limit-this._active.length+t.length;s<e.added.length&&(this._active.removeMany(t),t=[],h.reset(1-this._limit/(this._active.length+e.added.length)),this._active.forEach((e=>{h.sample()&&(t.push(e),this._pending.set(e.objectId,e))})),s=this._limit-this._active.length+t.length);let i=e.added;if(s<e.added.length){i=new Array,h.reset(s/e.added.length);for(const t of e.added)h.sample()?i.push(t):this._pending.set(t.objectId,t)}const n=s-i.length;n>0&&this._pending.size>0&&(h.reset(n/this._pending.size),this._pending.forEach((e=>{h.sample()&&(i.push(e),this._pending.delete(e.objectId))}))),this._active.addAndRemove(i,t)}}class n{constructor(){this.percentage=1,this.last=-1,this.index=0}reset(e){this.percentage=e,this.last=-1}sample(){const e=Math.floor(this.index*this.percentage);return++this.index,e!==this.last&&(this.last=e,!0)}}const h=new n;class a{constructor(e){this._parent=e,this._map=new Map}get length(){return this._map.size}forEach(e){this._map.forEach((t=>e(t)))}find(e){let s;return t(this._map,(t=>!!e(t)&&(s=t,!0))),s}toArray(){return[...this._map.values()]}addAndRemove(e,t){for(const s of e)this._map.set(s.objectId,s);for(const s of t)this._map.delete(s.objectId);(e.length>0||t.length>0)&&this._parent.emit(\"change\",{added:e,removed:t})}removeMany(e){for(const t of e)this._map.delete(t.objectId);e.length>0&&this._parent.emit(\"change\",{added:[],removed:e})}}export{i as LimitGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import\"../../../symbols.js\";import s from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{diff as l}from\"../../../core/accessorSupport/diffUtils.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{makeDehydratedPoint as c}from\"../../../layers/graphics/dehydratedFeatures.js\";import{Graphics3DCore as h}from\"./graphics/Graphics3DCore.js\";import n from\"./graphics/Graphics3DScaleVisibility.js\";import{boundingBoxTop as d}from\"./i3s/I3SGeometryUtil.js\";import{LimitGraphicsMap as y}from\"../support/LimitGraphicsMap.js\";import g from\"../../../symbols/PointSymbol3D.js\";let u=class extends s{constructor(e){super(e),this.loadedGraphics=new y(5e4),this.slicePlaneEnabled=!1,this._renderingInfo={symbol:new g},this._handles=new r,this._graphicsByNode=new Map,this._scaleVisibility=null}initialize(){this._graphicsCore=new h({owner:this,layer:this.layer,preferredUpdatePolicy:0,elevationFeatureExpressionEnabled:!1,graphicSymbolSupported:!1,getRenderingInfoWithoutRenderer:!0,hasZ:!0,hasM:!1});const e=this.view.basemapTerrain;this._scaleVisibility=new n({layerScaleEnabled:!1}),this._scaleVisibility.setup(this,this.layer,((e,i,s)=>this._graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,i,s)),this._graphicsCore,e);const i=this.view.labeler.addGraphicsOwner(this._graphicsCore,this._scaleVisibility,{emptySymbolLabelSupported:!0,elevationInfoOverride:{mode:\"absolute-height\",offset:0},disablePlacement:{logEntityDescription:\"3D Object Scene Layer features\"}}),s=this.view.deconflictor.addGraphicsOwner(this._graphicsCore);this._graphicsCore.setup({labeler:i,deconflictor:s,scaleVisibility:this._scaleVisibility}).then((()=>{this._graphicsCore.startCreateGraphics()})).catch((()=>{})),this._handles.add([this.layer.watch(\"labelingInfo\",((e,i)=>{l(e,i)&&this._graphicsCore.updateLabelingInfo()}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null),null!=this._scaleVisibility&&(this._scaleVisibility.destroy(),this._scaleVisibility=null),null!=this._graphicsCore&&(this._graphicsCore.destroy(),this._graphicsCore=null),this.loadedGraphics.destroy(),this.view=null}addNodeMeta(e,s){let r=0;const o=e.filteredIds,a=e.featureIds.map(((a,l)=>{d(l,this.collection,e.objectHandle,f);const p=c(0,0,0,this.view.spatialReference);this.view.renderCoordsHelper.fromRenderCoords(f,p);const h=s(l,e);let n=!1;return t(o)?n=!0:r<o.length&&a===o[r]&&(n=!0,r++),{objectId:a,uid:i.generateUID(),attributes:h,visible:n,geometry:p}}));this.loadedGraphics.addMany(a),this._graphicsByNode.set(e.node.index,a)}setNodeMetaAttributes(e,i){const s=this._graphicsByNode.get(e.node.index),r=new Array(s.length);for(let t=0;t<s.length;t++){const o=s[t];o.attributes=i(t,e),r[t]=o.uid}this._graphicsCore.updateLabelingInfo(r)}applyFilterChange(e){const i=this._graphicsByNode.get(e.node.index);if(i)if(t(e.filteredIds))for(const s of i)s.visible||(s.visible=!0,m.graphic=s,m.property=\"visible\",m.oldValue=!1,m.newValue=!0,this._graphicsCore.graphicUpdateHandler(m));else{let s=0;for(const r of i){const i=r.visible;s<e.filteredIds.length&&r.objectId===e.filteredIds[s]?(r.visible=!0,s++):r.visible=!1,i!==r.visible&&(m.graphic=r,m.property=\"visible\",m.oldValue=i,m.newValue=r.visible,this._graphicsCore.graphicUpdateHandler(m))}}}removeNodeMeta(e){this.loadedGraphics.removeManyByObjectId(e.featureIds)}getRenderingInfo(){return this._renderingInfo}notifyGraphicGeometryChanged(){}notifyGraphicVisibilityChanged(){}get updatePolicy(){return this._graphicsCore.effectiveUpdatePolicy}get usedMemory(){return this._graphicsCore.usedMemory}get unloadedMemoryEstimate(){return this._graphicsCore.unprocessedMemoryEstimate}get test(){return{graphicsCore:this._graphicsCore}}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"collection\",void 0),e([o()],u.prototype,\"loadedGraphics\",void 0),e([o({aliasOf:\"_graphicsCore.updating\"})],u.prototype,\"updating\",void 0),e([o()],u.prototype,\"slicePlaneEnabled\",void 0),e([o()],u.prototype,\"_graphicsCore\",void 0),u=e([a(\"esri.views.3d.layers.I3SMeshViewLabeler\")],u);const m={graphic:null,property:null,oldValue:null,newValue:null},f=p();var b=u;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import t from\"../../../core/PooledArray.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r,projectVectorToVector as s}from\"../../../geometry/projection.js\";const n=e.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\");class i extends o{constructor(e){super(\"SceneLayerWorker\",\"process\",e,{hasInitialize:!0})}getTransferList(e){return[e.geometryBuffer]}setModifications(e,t,o){const r={context:e,modifications:f(t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(e,t){const o=JSON.stringify(t);this.broadcast({context:e,jsonSchema:o},\"setLegacySchema\")}destroyContext(e){return this.broadcast(e,\"destroyContext\")}}const c=new t({deallocator:null}),a=[0,0,0];function f(e,t){c.clear();for(const i of e){const e=\"clip\"===i.type?2:\"mask\"===i.type?1:0,o=i.geometry;let f=e=>e;if(o.spatialReference){if(!r(o.spatialReference,t)){n.warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}f=e=>(s(e,o.spatialReference,a,t),a)}else o.hasZ||(a[2]=0,f=e=>(a[0]=e[0],a[1]=e[1],a));c.push(e),c.push(o.rings.length);for(const t of o.rings){c.push(t.length);for(const e of t){const t=f(e);c.push(t[0]),c.push(t[1]),c.push(t[2])}}}c.push(3);const o=new Float64Array(c.length);for(let r=0;r<c.length;++r)o[r]=c.getItemAt(r);return o}export{i as I3SMeshWorkerHandle,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../../core/arrayUtils.js\";class t{constructor(){this.ids=new Set,this.paused=!1}}class s{constructor({collection:e,forAllFeatures:t,forAllFeaturesOfNode:s}){this.highlights=[],this.collection=e,this.forAllFeatures=t,this.forAllFeaturesOfNode=s}destroy(){this.highlights.forEach((e=>this.releaseSet(e))),this.highlights=null}acquireSet(){const s=new t;this.highlights.push(s);const i={remove:()=>{this.releaseSet(s),e(this.highlights,s)},pause:()=>{this.releaseSet(s),s.paused=!0},resume:()=>{s.paused=!1,this.initializeSet(s)}};return{set:s,handle:i}}setFeatureIds(e,t){t.forEach((t=>e.ids.add(t))),this.initializeSet(e)}initializeSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.addComponentHighlight(i.objectHandle,s),1)))}releaseSet(e){this.forAllFeatures(((t,s,i)=>(e.ids.has(t)&&this.collection.removeComponentHighlight(i.objectHandle,s),1)))}objectCreated(e){this.highlights.forEach((t=>{t.paused||this.forAllFeaturesOfNode(e,((s,i)=>(t.ids.has(s)&&this.collection.addComponentHighlight(e.objectHandle,i),1)))}))}objectDeleted(e){this.collection.clearHighlights(e.objectHandle)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e,isSome as s}from\"../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";class d{constructor(){this.lodCrossfadeSignedDuration=0}}class i{constructor(e){this.view=e,this._preRenderFrameTaskHandle=null,this._currentFrameStartTime=null,this._numFadingNodes=0}get updating(){return this._numFadingNodes>0}stopNodeFading(s){null!=s.lodCrossfadeProgress&&(this._numFadingNodes--,s.lodCrossfadeProgress=null,0===this._numFadingNodes&&(null!=this._preRenderFrameTaskHandle&&(this._preRenderFrameTaskHandle=e(this._preRenderFrameTaskHandle)),this.view.notifyLODUpdate(),this.view.notifyUpdate()))}_startNodeFading(e,s,d){0===this._numFadingNodes&&(this._preRenderFrameTaskHandle=o({preRender:e=>this._updateAllNodeFading(e)}),this.view.notifyLODUpdate()),null==e.lodCrossfadeProgress&&(this._numFadingNodes++,this.view.notifyUpdate()),e.lodCrossfadeSignedDuration=d,e.lodCrossfadeProgress=s}_updateAllNodeFading(e){const o=this.view.nodeCrossfadingEnabled;this.view.foreachCrossfadeNode(((d,i)=>{if(s(i)&&s(i.lodCrossfadeProgress)){const s=i.lodCrossfadeSignedDuration,t=s>0?this.view.fullOpacity:0,a=e.deltaTime/s,r=i.lodCrossfadeProgress+Math.abs(a),n=!o||r>=1||0===s,l=t-(n?0:s>0?1:-1)*(1-r);n?(this.stopNodeFading(i),s<0&&this.view.markNodeToRemove(d)):i.lodCrossfadeProgress=r,this.view.setNodeOpacityByIndex(d,l)}})),this.view.removeMarkedNodes()}stopAllNodeFading(){this.view.foreachCrossfadeNode(((e,o)=>{if(s(o)&&s(o.lodCrossfadeProgress)){this.stopNodeFading(o);const s=o.lodCrossfadeSignedDuration;s<0&&this.view.markNodeToRemove(e);const d=s>0?this.view.fullOpacity:0;this.view.setNodeOpacityByIndex(e,d)}})),this.view.removeMarkedNodes()}fadeNode(e,s,o,d){null==this._currentFrameStartTime&&(this._currentFrameStartTime=Date.now());const i=this.view,a=i.nodeCrossfadingEnabled,r=0===o?i.fullOpacity:0,n=a?d?0===o?i.lodCrossfadeinDuration:i.lodCrossfadeoutDuration:i.lodCrossfadeUncoveredDuration:0,l=this.view.getNodeOpacityByIndex(e);if(a&&l!==r&&n>0){const e=1-Math.abs(r-l);this._startNodeFading(s,e,t(o)*n)}else this.stopNodeFading(s),this.view.setNodeOpacityByIndex(e,r),1===o&&this.view.removeNode(e)}isNodeFullyFadedIn(e){const o=this.view.getNodeCrossfadeMetaData(e);return s(o)&&null==o.lodCrossfadeProgress&&this.view.getNodeOpacityByIndex(e)===this.view.fullOpacity}}function t(e){return 0===e?1:-1}export{i as I3SCrossfadeHelper,d as NodeCrossfadeMetaData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{x as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{m as l,g as p}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{empty as d,expand as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{Intersector as f}from\"../../webgl-engine/lib/Intersector.js\";const u=d(),v=c(),x=h(),y=h(),E=h(),g=s.getLogger(\"esri.views.3d.layers.i3s.I3SElevationProvider\");let j=class extends(r.EventedMixin(t)){constructor(e){super(e),this.tmpEvent={spatialReference:null,extent:u,context:\"scene\"}}initialize(){this.view=this.layerView.view,this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersector=new f(this.view.state.viewingMode),this.intersector.options.store=0;const e=this.layerView.i3slayer.fullExtent;this.zmin=e.zmin,this.zmax=e.zmax,this.tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}getElevation(e,t,r,s){if(x[0]=e,x[1]=t,x[2]=r,!this.renderCoordsHelper.toRenderCoords(x,s,x))return g.error(\"could not project point to compute elevation\"),null;const i=this.layerView.elevationOffset,o=this.zmin+i,n=this.zmax+i;return this.renderCoordsHelper.setAltitude(y,n,x),this.renderCoordsHelper.setAltitude(E,o,x),this.intersector.reset(y,E),this.intersectionHandler.intersect(this.intersector,null,y,E),this.intersector.results.min.getIntersectionPoint(x)?this.renderCoordsHelper.getAltitude(x):null}layerChanged(){this.spatialReference&&(this.tmpEvent.extent=this.computeLayerExtent(),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}objectChanged(e){this.spatialReference&&(this.tmpEvent.extent=this.computeObjectExtent(e),this.tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this.tmpEvent))}computeObjectExtent(e){return d(u),this._expandExtent(e,u),u}computeLayerExtent(){d(u);for(const e of this.layerView.getVisibleNodes())this._expandExtent(e,u);return u}_expandExtent(e,t){const r=e.visibilityObb||e.serviceObbInRenderSR;if(i(r)){a(v,r.quaternion),v[12]=r.center[0],v[13]=r.center[1],v[14]=r.center[2];for(let e=0;e<8;++e)x[0]=1&e?r.halfSize[0]:-r.halfSize[0],x[1]=2&e?r.halfSize[1]:-r.halfSize[1],x[2]=4&e?r.halfSize[2]:-r.halfSize[2],l(x,x,v),this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}else{const r=e.renderMbs[3],s=p(y,e.renderMbs);s[0]-=r,s[1]-=r,s[2]-=r;const i=p(E,e.renderMbs);i[0]+=r,i[1]+=r,i[2]+=r;for(let e=0;e<8;++e)x[0]=1&e?s[0]:i[0],x[1]=2&e?s[1]:i[1],x[2]=4&e?s[2]:i[2],this.renderCoordsHelper.fromRenderCoords(x,x,this.spatialReference),m(t,x,t)}}};e([o({constructOnly:!0})],j.prototype,\"layerView\",void 0),e([o({constructOnly:!0})],j.prototype,\"intersectionHandler\",void 0),e([o()],j.prototype,\"view\",void 0),e([o({readOnly:!0,aliasOf:\"view.elevationProvider.spatialReference\"})],j.prototype,\"spatialReference\",void 0),j=e([n(\"esri.views.3d.layers.i3s.I3SElevationProvider\")],j);var b=j;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{g as t}from\"../../../../chunks/vec3.js\";import{intersectLine as r}from\"../../support/orientedBoundingBox.js\";import{IntersectorResult as i}from\"../../webgl-engine/lib/intersectorUtils.js\";import{getVerticalOffsetI3S as s}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";class n{constructor(e){this.type=\"I3S\",this.layerUid=e.layerUid,this.sublayerUid=e.sublayerUid,this.collection=e.collection,this.traverseNodeHierarchy=e.traverseNodeHierarchy,this.slicePlane=e.slicePlaneEnabled,this.isGround=e.isGround}intersect(n,l,d,a){const c=n.results,u=2===n.options.store,b=n.ray.direction,m=n.tolerance;let y=e=>e,h=e=>e;const p=s(n.verticalOffset);e(p)&&(y=e=>p.applyToMbs(e),h=e=>p.applyToObb(e)),this.traverseNodeHierarchy(((s,f)=>!(e(s.serviceObbInRenderSR)&&!r(h(s.serviceObbInRenderSR),d,b,m))&&(!f||e(s.geometryObb)&&!r(h(s.geometryObb),d,b,m)||!e(s.serviceObbInRenderSR)&&!o(y(s.renderMbs),d,b,m)||this.collection.intersect(f,d,a,m,p,((e,r,o,b)=>{if(r>=0){if(null!=l&&!l(d,a,r))return;const m=i=>{i.intersector=this.type,i.target={type:\"external\",metadata:{layerUid:this.layerUid,sublayerUid:this.sublayerUid,nodeIndex:s.index,componentIndex:e}},i.dist=r,t(i.normal,o),i.triangleNr=b};if(this.isGround&&(null==c.ground.dist||r<c.ground.dist)&&m(c.ground),n.options.isFiltered)return;if((null==c.min.dist||r<c.min.dist)&&m(c.min),(null==c.max.dist||r>c.max.dist)&&m(c.max),u){const e=new i(n.ray);m(e),n.results.all.push(e)}}})),!0)))}get intersectionHandlerId(){return this.layerUid}}function o(e,t,r,i=0){const s=e[3]+i,n=t[0]-e[0],o=t[1]-e[1],l=t[2]-e[2],d=r[0],a=r[1],c=r[2],u=d*n+a*o+c*l;return u*u-(d*d+a*a+c*c)*(n*n+o*o+l*l-s*s)>=0}export{n as I3SIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{onAbort as s,throwIfAborted as r}from\"../../../../core/promiseUtils.js\";const i=14;class o{constructor(e,t,s=i){this._version=s,this._db=null,this._quotaReductionPromise=null,this._gcCounter=0,this._hit=0,this._miss=0,this._destroyed=!1,this.gcFrequency=50,this.maxByteSize=1073741824,this.quotaReductionFactor=.2,this._dbName=e,this._storeName=t}init(){return Promise.resolve().then((()=>{const e=indexedDB.open(this._dbName,this._version);return e.onupgradeneeded=t=>{const s=e.result,r=e.transaction,i=s.objectStoreNames.contains(this._storeName)?r.objectStore(this._storeName):s.createObjectStore(this._storeName),o=s.objectStoreNames.contains(\"last_access\")?r.objectStore(\"last_access\"):s.createObjectStore(\"last_access\");o.indexNames.contains(\"date\")||o.createIndex(\"date\",\"date\",{unique:!1}),o.indexNames.contains(\"byteSize\")||o.createIndex(\"byteSize\",\"byteSize\",{unique:!1}),t.oldVersion<this._version&&(i.clear(),o.clear())},c(e)})).then((e=>{this._destroyed?e.close():this._db=e}))}destroy(){this._db&&(this._db.close(),this._db=null),this._destroyed=!0}get initialized(){return null!=this._db}getHitRate(){return this._hit/(this._hit+this._miss)}put(t,s){if(null==this._db)return Promise.reject(new e(\"indexedb:not-initialized\",\"IndexedDB Cache is not initialized\"));return(null!=this._quotaReductionPromise?this._quotaReductionPromise:Promise.resolve()).then((()=>this._put(t,s))).catch((e=>{if(e&&\"QuotaExceededError\"===e.name)return null==this._quotaReductionPromise&&(this._quotaReductionPromise=this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(s.byteSize+Math.ceil(e*this.quotaReductionFactor)))),this._quotaReductionPromise.then((()=>this._quotaReductionPromise=null),(()=>this._quotaReductionPromise=null))),this._quotaReductionPromise.then((()=>this._put(t,s)));throw e})).then((()=>{this._gcCounter--,this._gcCounter<0&&null!=this._db&&(this._gcCounter=this.gcFrequency,this._getCacheSize().then((e=>this._removeLeastRecentlyAccessed(e-this.maxByteSize))))}))}get(e,i){if(null==this._db)return Promise.resolve(null);let o=null;return Promise.resolve().then((()=>{const t=this._db.transaction(this._storeName,\"readonly\");o=s(i,(()=>{t.abort()}));return c(t.objectStore(this._storeName).get(e))})).then((s=>{if(null==s)++this._miss;else if(this._db){++this._hit;this._db.transaction(\"last_access\",\"readwrite\").objectStore(\"last_access\").put({date:Date.now(),byteSize:s.byteSize},e)}return t(o)&&o.remove(),s})).catch((()=>(++this._miss,r(i),t(o)&&o.remove(),null)))}remove(e){return null==this._db?Promise.resolve():Promise.resolve().then((async()=>{const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\"),i=s.delete(e),o=r.delete(e);await Promise.all([c(i),c(o),n(t)])}))}_put(e,t){const s=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),r=s.objectStore(this._storeName),i=s.objectStore(\"last_access\"),o=r.put(t,e),a=i.put({date:Date.now(),byteSize:t.byteSize},e);return Promise.all([c(o),c(a),n(s)])}_removeLeastRecentlyAccessed(e){if(e<=0)return;const t=this._db.transaction([this._storeName,\"last_access\"],\"readwrite\"),s=t.objectStore(this._storeName),r=t.objectStore(\"last_access\");let i=0;const o=r.index(\"date\").openCursor(null,\"next\");return o.onsuccess=()=>{const t=o.result;null!=t&&(null!=t.value.byteSize&&(i+=t.value.byteSize),s.delete(t.primaryKey),r.delete(t.primaryKey),i<e&&t.continue())},n(t)}_getCacheSize(){const e=this._db.transaction(\"last_access\"),t=e.objectStore(\"last_access\");let s=0;const r=t.index(\"byteSize\").openKeyCursor();return r.onsuccess=()=>{const e=r.result;if(!e)return;const t=e.key;null!=t&&(s+=t),e.continue()},n(e).then((()=>s))}}function n(e){return new Promise(((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)}))}function c(e){return new Promise(((t,s)=>{\"done\"===e.readyState?null!=e.error?s(e.error):t(e.result):(e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error))}))}export{o as IDBCache,c as whenRequest,n as whenTransaction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../Graphic.js\";import s from\"../../../core/Collection.js\";import r from\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{someMap as a}from\"../../../core/MapUtils.js\";import{unwrapOr as n,destroyMaybe as l,isSome as d,isNone as h,applySome as c,unwrap as u}from\"../../../core/maybe.js\";import _ from\"../../../core/PooledArray.js\";import{throwIfAborted as m,createResolver as g}from\"../../../core/promiseUtils.js\";import{schedule as p}from\"../../../core/scheduling.js\";import{isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{init as y}from\"../../../core/watchUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as I}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as M}from\"../../../chunks/mat3.js\";import{c as C}from\"../../../chunks/mat3f32.js\";import{m as x,v as O}from\"../../../chunks/mat4.js\";import{b as j,c as w}from\"../../../chunks/mat4f64.js\";import{m as S,g as E}from\"../../../chunks/vec3.js\";import{c as F}from\"../../../chunks/vec3f64.js\";import{s as D}from\"../../../chunks/vec4.js\";import{projectBuffer as R,getProjectorName as N,localLinearScaleFactors as T,projectVectorToVector as V,projectBoundingSphere as A}from\"../../../geometry/projection.js\";import{create as P,empty as H,expandWithBuffer as U,intersects as G}from\"../../../geometry/support/aaBoundingBox.js\";import L from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import{fixFields as B}from\"../../../layers/support/fieldUtils.js\";import{areLabelsVisible as k}from\"../../../layers/support/layerUtils.js\";import q from\"../../../layers/support/SceneModification.js\";import{getColor as z,getOpacity as W}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{loadArcade as $}from\"../../../support/arcadeOnDemand.js\";import K from\"../../../symbols/Symbol3D.js\";import{getMetersPerUnit as J}from\"../../../symbols/support/unitConversionUtils.js\";import Q from\"./I3SMeshViewLabeler.js\";import{I3SMeshWorkerHandle as X,toWasmModification as Y}from\"./I3SMeshWorkerHandle.js\";import{initialize as Z,setModificationsSync as ee,filterObbsForModificationsSync as te,interpretObbModificationResults as ie}from\"./SceneLayerWorker.js\";import{overrideColor as se}from\"./graphics/graphicUtils.js\";import re from\"./i3s/Highlights.js\";import{I3SAttributeOverrides as oe}from\"./i3s/I3SAttributeOverrides.js\";import{I3SCrossfadeHelper as ae,NodeCrossfadeMetaData as ne}from\"./i3s/I3SCrossfadeHelper.js\";import le from\"./i3s/I3SElevationProvider.js\";import{boundingBoxCornerPoints as de}from\"./i3s/I3SGeometryUtil.js\";import{I3SIntersectionHandler as he}from\"./i3s/I3SIntersectionHandler.js\";import{getSupportedEncodings as ce,selectEncoding as ue,createTexture as _e,configureMaterial as me}from\"./i3s/I3SMaterialUtil.js\";import{computeGlobalTransformation as ge,getLocalOrigin as pe}from\"./i3s/I3SProjectionUtil.js\";import{rendererNeedsTextures as fe,checkSceneLayerValid as be,checkSceneLayerCompatibleWithView as ye,getCacheKeySuffix as ve,whenGraphicAttributes as Ie,computeVisibilityObb as Me,filterInPlace as Ce,getCachedAttributeValue as xe,intersectBoundingBoxWithMbs as Oe,addWraparound as je,getSymbolInfo as we,transparentEdgeMaterial as Se,getClipAABB as Ee}from\"./i3s/I3SUtil.js\";import{IDBCache as Fe}from\"./i3s/IDBCache.js\";import{attributeLookup as De}from\"./support/attributeUtils.js\";import Re from\"../support/debugFlags.js\";import{projectToBoundingBox as Ne}from\"../support/extentUtils.js\";import{create as Te,clone as Ve}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Ae}from\"../support/updatingProperties.js\";import{glLayout as Pe}from\"../support/buffer/glUtil.js\";import{createVertexBufferLayout as He}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{loadBasis as Ue}from\"../webgl-engine/lib/BasisUtil.js\";const Ge=o.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),Le=[1,1,1,1];class Be extends ne{constructor(e,t,i,s,r,o,a){super(),this.node=e,this.featureIds=t,this.objectHandle=i,this.cachedRendererVersion=s,this.attributeInfo=r,this.material=o,this.textures=a,this.cachedEdgeMaterials=new Array,this.cachedSymbology=null}}const ke=19,qe=104857600,ze=t=>{let o=class extends t{constructor(...e){super(e),this._elevationProvider=null,this._intersectionHandler=null,this._nodeId2Meta=new Map,this._nodeId2MetaReloading=new Map,this._i3sWasmLoaded=!1,this._hasLoadedPBRTextures=!1,this._asyncModuleLoading=0,this._addTasks=new Map,this._rendererVersion=0,this._colorVariable=null,this._opacityVariable=null,this._rendererFields=null,this._symbologyFields=null,this._symbologyOverride=null,this._symbologyOverrideFields=null,this._symbolInfos=new Map,this._idbCache=new Fe(\"esri-scenelayer-cache\",\"geometries\"),this.holeFilling=\"auto\",this._hasColors=!1,this._hasTextures=!1,this._hasData=!1,this.slicePlaneEnabled=!1,this._modifications=new Array,this._layerUrl=\"\",this._cacheKeySuffix=null,this._arcade=null,this._tmpAttributeOnlyGraphic=new i(null,null,{}),this._crossfadeHelper=new ae(this)}get lodCrossfadeoutDuration(){return 0}get lodCrossfadeinDuration(){return 0}get lodCrossfadeUncoveredDuration(){return 0}get layerUid(){return this.i3slayer&&this.i3slayer.uid}get sublayerUid(){return null}get hasTexturesOrVertexColors(){return this._hasData?this._hasTextures||this._hasColors?\"yes\":\"probably-not\":\"unknown\"}get rendererTextureUsage(){return fe(this._currentRenderer)?this._usePBR()||this._hasLoadedPBRTextures?63:37:this._usePBR()||this._hasLoadedPBRTextures?44:36}get elevationOffset(){const e=null!=this.i3slayer?this.i3slayer.elevationInfo:null;if(null!=e&&\"absolute-height\"===e.mode){const t=b(this.i3slayer.spatialReference),i=J(e.unit);return n(e.offset,0)*i/t}return 0}get supportedTextureEncodings(){return ce(this.view._stage.renderView.capabilities)}get uncompressedTextureDownsamplingEnabled(){var e;const t=null==(e=this.view)?void 0:e.qualitySettings.sceneService.uncompressedTextureDownsamplingEnabled,i=0==(4&this.supportedTextureEncodings);return t&&i}initialize(){this.preLoadBasis(),this.addResolvingPromise(this.i3slayer.indexInfo);const e=this.view.resourceController;if(this.attributeOverrides=new oe(this.i3slayer,e.memoryController),this._worker=new X((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._worker.setLegacySchema(this.layerUid,this.i3slayer.store.defaultGeometrySchema),be(this.i3slayer),ye(this.i3slayer,this.view),this._layerUrl=this.i3slayer.parsedUrl.path,this._controller=new L({layerView:this}),this.gpuMemoryEstimate=0,this.texMemoryEstimate=0,this.geoMemoryEstimate=0,this._stage=this.view._stage,this._collection=this._stage.renderView.componentObjectCollection,this._highlights=new re({collection:this._collection,forAllFeatures:e=>this._forAllFeatures(e,null,1),forAllFeaturesOfNode:(e,t)=>this._forAllFeaturesOfNode(e,t)}),this._isIntegratedMesh||!this.i3slayer.store.defaultGeometrySchema)this._hasSymbolColors=!1;else{const e=this.i3slayer.store.defaultGeometrySchema.featureAttributes;this._hasSymbolColors=!!(e&&e.faceRange&&e.id)}this._hasVertexColors=null!=this.i3slayer.store.defaultGeometrySchema.vertexAttributes.color&&(null==this.i3slayer.cachedDrawingInfo||!this.i3slayer.cachedDrawingInfo.color),this._isIntegratedMesh||(this._edgeView=this._stage.renderView.ensureEdgeView()),this._memCache=this.view.resourceController.memoryController.getMemCache(this.i3slayer.uid,(e=>this._deleteComponentObject(e)));const t=e=>d(this._controller.index)&&d(this._controller.index.rootNode)?this._controller.index.traverse(this._controller.index.rootNode,(t=>{const i=t.index,s=this._nodeId2Meta.get(i)||this._nodeId2MetaReloading.get(i);return e(t,d(s)?s.objectHandle:null)})):()=>{};this._intersectionHandler=new he({layerUid:this.layerUid,sublayerUid:this.sublayerUid,collection:this._collection,slicePlaneEnabled:this.slicePlaneEnabled,isGround:this._isIntegratedMesh,traverseNodeHierarchy:t}),this._elevationProvider=new le({layerView:this,intersectionHandler:this._intersectionHandler}),this._hasLoadedPBRTextures=this._usePBR(),this.updatingHandles.add(this,\"view.clippingArea\",(()=>this._clippingAreaChanged()),2),this.updatingHandles.add(this,\"fullOpacity\",(e=>this._opacityChange(e))),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._slicePlaneEnabledChange(e))),this.updatingHandles.add(this,\"elevationOffset\",((e,t)=>{this._reloadAll(t),this._controller.invalidateVisibilityObbs()})),this.updatingHandles.add(this,\"filter\",(()=>this._filterChange()),2),this.updatingHandles.add(this,\"view.qualitySettings.physicallyBasedRenderingEnabled\",(()=>this._updatePBR()));const i=()=>{this._reloadAll(),this.clearMemCache()};this.updatingHandles.add(this,\"rendererTextureUsage\",i),this.updatingHandles.add(this,\"uncompressedTextureDownsamplingEnabled\",i),this.updatingHandles.add(this,\"suspended\",(e=>this._suspendedChange(e)),2),this.updatingHandles.add(this.i3slayer,\"labelsVisible\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this.i3slayer,\"labelingInfo\",(()=>this._labelingChanged()),2),this.updatingHandles.add(this,\"_modifications\",(()=>this._modificationsChanged()),2),this.handles.add([y(Re,\"I3S_TREE_SHOW_TILES\",(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Re.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||Re.I3S_TREE_SHOW_TILES||(this._treeDebugger=l(this._treeDebugger))})),y(Re,\"I3S_SHOW_MODIFICATIONS\",(()=>this._showModifications()))]),this._cacheKeySuffix=ve(this.i3slayer.spatialReference,this.view.renderSpatialReference),this._idbCache.init().catch((e=>Ge.warn(`Failed to initialize IndexedDB cache: ${e}`)))}destroy(){this._clearAddTasks(),this.attributeOverrides=l(this.attributeOverrides),this._elevationProvider&&(this._elevationProvider.layerChanged(),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this._intersectionHandler&&(this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null);const e=this._worker;e&&(e.destroyContext(this.i3slayer.uid).then((()=>e.destroy())),this._worker=null),this._removeAllNodeDataFromStage(),this._memCache=l(this._memCache),this._collection=null,this._stage=null,this._edgeView=null,this._labeler=l(this._labeler),this._treeDebugger=l(this._treeDebugger),this._controller=l(this._controller),this._highlights.destroy(),this._nodeId2Meta.clear(),this._nodeId2MetaReloading.clear(),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}memEstimateTextureAdded(e){const t=e.estimatedTexMemRequired;return this.gpuMemoryEstimate+=t,this.texMemoryEstimate+=t,t}memEstimateTextureRemoved(e){const t=e.estimatedTexMemRequired;this.gpuMemoryEstimate-=t,this.texMemoryEstimate-=t}memEstimateGeometryAdded(e){const t=this._collection.getObjectGPUMemoryUsage(e);return this.gpuMemoryEstimate+=t,this.geoMemoryEstimate+=t,t}memEstimateGeometryRemoved(e){const t=this._collection.getObjectGPUMemoryUsage(e);this.gpuMemoryEstimate-=t,this.geoMemoryEstimate-=t}isNodeLoaded(e){return this._nodeId2Meta.has(e)}isNodeReloading(e){return this._nodeId2MetaReloading.has(e)}getUsedMemory(){let e=d(this._labeler)?this._labeler.usedMemory:0;return this._nodeId2Meta.forEach((t=>e+=d(t)?t.node.memory:0)),this._nodeId2MetaReloading.forEach((t=>e+=d(t)?t.node.memory:0)),e}getUnloadedMemory(){return(d(this._controller)?this._controller.unloadedMemoryEstimate:0)+(d(this._labeler)?this._labeler.unloadedMemoryEstimate:0)}ignoresMemoryFactor(){return!1}_labelingChanged(){if(!(k(this.i3slayer)&&this._supportsLabeling))return void(d(this._labeler)&&(this._labeler.destroy(),this._labeler=null));if(d(this._labeler))return;const e=new Q({view:this.view,layer:this.i3slayer,collection:this._collection});this._nodeId2Meta.forEach((t=>d(t)&&this._addMetaToLabeler(e,t))),this._labeler=e}_loadAsyncModule(e){return++this._asyncModuleLoading,e.then((e=>(--this._asyncModuleLoading,e)),(e=>{throw--this._asyncModuleLoading,e}))}_modificationsChanged(){if(!this._i3sWasmLoaded&&this._hasModifications)return this._i3sWasmLoaded=Z().then((()=>{this._i3sWasmLoaded=!0,this._modificationsChanged(),this.notifyUpdate()})),void this.notifyUpdate();if(!0!==this._i3sWasmLoaded)return;const e=this.i3slayer.uid,t=this.i3slayer.spatialReference;this._worker.setModifications(e,this._modifications,t);const i=Y(this._modifications,t);ee({context:e,modifications:i,isGeodetic:t.isGeographic}),this._controller.modificationsChanged();const s=this._hasModifications?new _:null;this._nodeId2Meta.forEach(((e,t)=>{h(e)?this._nodeId2Meta.delete(t):e.node.hasModifications?(this._nodeId2Meta.delete(t),this._nodeId2MetaReloading.set(t,e)):d(s)&&s.push(e.node)})),d(s)&&this._nodeId2MetaReloading.forEach((e=>s.push(e.node))),d(s)&&s.length>0&&(this.updateNodeModificationStatus(s),s.forAll((e=>{if(2!==e.imModificationImpact){const t=this._nodeId2Meta.get(e.index);this._controller.invalidateGeometryVisibility(e.index),this._nodeId2Meta.delete(e.index),d(t)&&this._nodeId2MetaReloading.set(e.index,t)}}))),this.clearMemCache(),this._controller.restartNodeLoading(),this._showModifications()}_showModifications(){if(d(this._modificationGraphics)&&(this.view.graphics.removeMany(this._modificationGraphics),this._modificationGraphics=null),!Re.I3S_SHOW_MODIFICATIONS||0===this._modifications.length)return;const e={clip:[227,227,79,.8],mask:[227,139,79,.8],replace:[139,227,79,.8]},t={type:\"simple-fill\",outline:{color:[255,255,255],width:1}};this._modificationGraphics=new Array;for(const s of this._modifications){s.geometry.spatialReference=this.i3slayer.spatialReference;const r={...t,color:e[s.type]};this._modificationGraphics.push(new i({geometry:s.geometry,symbol:r}))}this.view.graphics.addMany(this._modificationGraphics)}_addMetaToLabeler(e,t){e.addNodeMeta(t,((e,t)=>this._createAttributes(e,t)))}_suspendedChange(e){e?(this._removeAllNodeDataFromStage(),this.view.elevationProvider&&this.view.elevationProvider.unregister(this._elevationProvider),this._stage.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler)):(this.view.elevationProvider.register(this._elevationContext,this._elevationProvider),this._stage.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler))}getLoadedAttributes(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this._nodeId2Meta.get(e);if(d(t)&&d(t.attributeInfo))return t.attributeInfo.attributeData}setAttributeData(e,t){const i=this._nodeId2Meta.get(e);d(i)&&d(i.attributeInfo)&&(i.attributeInfo.attributeData=t,this._attributeValuesChanged(i))}async updateAttributes(e,t,i){const s=this._nodeId2Meta.get(e);d(s)&&(await this.attributeOverrides.apply(s.featureIds,t,i),s.attributeInfo=t,this._attributeValuesChanged(s))}_attributeValuesChanged(e){e.cachedRendererVersion=this._getInvalidRendererVersion(),e.filteredIds=null,d(this._labeler)&&this._labeler.setNodeMetaAttributes(e,((e,t)=>this._createAttributes(e,t))),this._updateEngineObject(e)}clearMemCache(){d(this._memCache)&&this._memCache.clear()}getVisibleNodes(){const e=new Array;return this._nodeId2Meta.forEach((t=>d(t)&&e.push(t.node))),e}getLoadedNodeIndices(e){this._nodeId2Meta.forEach(((t,i)=>e.push(i))),this._nodeId2MetaReloading.forEach(((t,i)=>e.push(i)))}preLoadBasis(){!r(\"disable-feature:i3s-basis\")&&0!=(2&this.supportedTextureEncodings)&&c(this.i3slayer.textureSetDefinitions,(e=>e.some((e=>e.formats.some((e=>\"basis\"===e.format||\"ktx2\"===e.format))))))&&Ue()}_getVertexBufferLayout(e,t){const i={hasTexture:Ye(e.params.material),hasNormals:t.normal,hasRegions:t.uvRegion};return Pe(He(this._getGeometryParameters(i)))}_getObjectIdField(){return this.i3slayer.objectIdField||\"OBJECTID\"}_findGraphicNodeAndIndex(e){const t=De(this.i3slayer.fieldsIndex,e.attributes,this._getObjectIdField());let i=null;return a(this._nodeId2Meta,(e=>{if(h(e))return!1;const s=e.featureIds.indexOf(t);return-1!==s&&(i={node:e.node,index:s},!0)})),i}_getGraphicIndices(e,t){const i=this._nodeId2Meta.get(e.index);if(h(i))return[];const s=[],r=this._getObjectIdField(),o=this.i3slayer.fieldsIndex;for(const a of t){const e=De(o,a.attributes,r),t=i.featureIds.indexOf(e);-1!==t&&s.push(t)}return s}whenGraphicBounds(e){const t=this._findGraphicNodeAndIndex(e);if(!t)return Promise.reject();const i=this._nodeId2Meta.get(t.node.index);if(h(i))return Promise.reject();const s=i.objectHandle,r=de(t.index,this._collection,s,new Float64Array(24)),o=this.view.renderSpatialReference,a=this.view.spatialReference;if(R(r,o,0,r,a,0,8)){const e=H();return U(e,r,0,8),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}}whenGraphicAttributes(e,t){return Ie(this.i3slayer,e,this._getObjectIdField(),t,(()=>[...this._nodeId2Meta.values()].filter(d)))}getGraphicFromIntersectorMetadata(e){if(null==e.nodeIndex||null==e.componentIndex)return null;const t=this._nodeId2Meta.get(e.nodeIndex);return h(t)||null==t.featureIds||e.componentIndex>=t.featureIds.length?null:this._createGraphic(e.componentIndex,t)}_getCacheKey(e){return`${this._layerUrl}/v${ke}/${e.id}${this._cacheKeySuffix}`}_getMemCacheKey(e,t=this.elevationOffset){return e+\"#\"+t}get _idbCacheEnabled(){return!this._controller.disableIDBCache&&0===this._modifications.length&&0===this.elevationOffset&&null!=this._cacheKeySuffix}loadCachedGPUData(e){return d(this._memCache)?this._memCache.pop(this._getMemCacheKey(e.index)):null}deleteCachedGPUData(e){d(e)&&this._deleteComponentObject(e)}_cacheGPUData(e,t=this.elevationOffset){if(h(this._memCache))return void this._deleteComponentObject(e);const i=this._controller.indexDepth-e.node.level;this._memCache.put(this._getMemCacheKey(e.node.index,t),e,e.node.memory,i)}loadMissingTextures(e,t,i,s){const r=e.filter(((e,i)=>{if(0==(e.usage&this.rendererTextureUsage))return!1;if(h(t))return!0;const s=ue(e.encodings,this.supportedTextureEncodings),r=t[i];return!!(h(r)||null==r.data||s&&r.encoding!==s.encoding)}));return 0===r.length?Promise.resolve(!1):i(r,s).then((i=>{let s=0;for(let r=0;r<e.length;r++)s<i.length&&i[s].id===e[r].id&&(t[r]=i[s],s++);return!0}))}loadCachedNodeData(e,t,i){return this._idbCacheEnabled?this._idbCache.get(this._getCacheKey(e),t).then((s=>null==s?null:s.nodeVersion!==e.version?(this._idbCache.remove(this._getCacheKey(e)),null):(e.geometryObb=s.geometryObb,this.loadMissingTextures(s.requiredTextures,s.textureData,i,t).then((i=>(i&&this._idbCache.initialized&&d(s.textureData)&&(s.byteSize=tt(s.transformedGeometry,s.textureData),s.textureData.every(et)&&it(e,s)&&this._idbCache.put(this._getCacheKey(e),s).catch((t=>Ge.warn(`Failed to update node with textures in IndexedDB cache: ${e.id}: ${t}`)))),m(t),s)))))):Promise.resolve(null)}addNode(e,t,i){return Ze(t)?this._addData(e,t.attributeDataInfo,(()=>this._transformNode(e,t,i).then((s=>this._safeReschedule((()=>{if(h(s))return e.hasModifications=!1,this._addCachedNodeData(e,null,i);e.hasModifications=s.transformedGeometry.hasModifications;const{obb:r,componentOffsets:o,featureIds:a,transformedGeometry:n}=s,l=this._controller.crsIndex,c=this.view.renderSpatialReference,u=ge(e.mbs,this.elevationOffset,l,c);e.geometryObb=Te([r.center.x,r.center.y,r.center.z],[r.extents.x,r.extents.y,r.extents.z],[r.orientation.x,r.orientation.y,r.orientation.z,r.orientation.w]),S(e.geometryObb.center,e.geometryObb.center,u),t.geometryData.componentOffsets=o,a&&(t.geometryData.featureIds=Array.prototype.slice.call(a));const _={nodeVersion:e.version,geometryData:t.geometryData,requiredTextures:t.requiredTextures,textureData:t.textureData,transformedGeometry:n,globalTrafo:u,geometryObb:e.geometryObb,byteSize:tt(n,t.textureData)};if(this._idbCacheEnabled&&this._idbCache.initialized&&it(e,_)){const t=d(_.textureData)?_.textureData.map((e=>et(e)?e:null)):null;this._idbCache.put(this._getCacheKey(e),{..._,textureData:t}).catch((t=>Ge.warn(`Failed to store node in IndexedDB cache: ${e.id}: ${t}`)))}return this._addCachedNodeData(e,_,i)}),i))))):Promise.reject()}computeVisibilityObb(e){return Me(e,this.view.renderSpatialReference,this._controller.crsIndex,this.i3slayer.spatialReference,this.elevationOffset,this._modifications)}_transformNode(e,t,i){const s=t.geometryData.geometries,r=new Array(s.length);for(let h=0;h<s.length;++h)r[h]=this._getVertexBufferLayout(s[h],t.geometryDescriptor);const o=e.mbs,a=this.elevationOffset,n=this._controller.crsIndex,l=this._controller.crsVertex,d=this.view.renderSpatialReference,c=pe(o,a,n),u=ge(o,a,n,d),_=N(n,l),m=N(l,d);if(h(_)||h(m))return Promise.resolve(null);const g={context:this.i3slayer.uid,geometryBuffer:t.geometryBuffer,geometryData:t.geometryData,geometryDescriptor:t.geometryDescriptor,layouts:r,localOrigin:c,globalTrafo:u,mbs:o,obb:e.serviceObb,elevationOffset:a,needNormals:!this._isIntegratedMesh&&this._controller.isMeshPyramid,normalReferenceFrame:this.i3slayer.normalReferenceFrame||\"none\",indexToVertexProjector:_,vertexToRenderProjector:m};return this._worker.invoke(g,i)}get supportsNodeCrossFading(){var e,t;return!(null!=(e=this.view)&&null!=(t=e._stage)&&t.renderView.hasShadowsEnabled)}get nodeCrossfadingEnabled(){return this.supportsNodeCrossFading&&(this.lodCrossfadeinDuration>0||this.lodCrossfadeoutDuration>0||this.lodCrossfadeUncoveredDuration>0)}get nodeFadeoutEnabled(){return this.supportsNodeCrossFading&&this.lodCrossfadeoutDuration>0}_setNewNodeOpacity(e){const t=this.nodeCrossfadingEnabled?0:this.fullOpacity;this._setNodeOpacity(e,t)}addCachedGPUData(e,t,i){if(e.geometryObb=Ve(this._collection.getComponentObb(t.objectHandle)),!this._controller.isGeometryVisible(e))return void this._cacheGPUData(t);d(this._labeler)&&this._addMetaToLabeler(this._labeler,t);const s=e.index;this._addNodeMeta(s,t),this.updateNodeState(s,i),this._collection.setObjectVisibility(t.objectHandle,1),this._updateMaterial(t),this._setNewNodeOpacity(t),this._updateEngineObject(t),this._highlights.objectCreated(t),d(this._treeDebugger)&&this._treeDebugger.update()}addCachedNodeData(e,t,i,s){return this._addData(e,i,(()=>this._addCachedNodeData(e,t,s)))}async _addCachedNodeData(e,t,i){if(this.suspended||!this._controller.isGeometryVisible(e))return void this._removeNodeStageData(e.index,this.elevationOffset,this._nodeId2MetaReloading);if(h(t))return void this._addNodeMeta(e.index,null);const s=this._addTasks.get(e.index),{geometryData:o,transformedGeometry:a,globalTrafo:n}=t;await this.attributeOverrides.apply(o.featureIds,s.attributeInfo,i);const l=d(t.textureData)?t.textureData.filter((e=>d(e)&&0!=(e.usage&this.rendererTextureUsage))):[];!r(\"disable-feature:i3s-basis\")&&l.some((e=>d(e)&&(2===e.encoding||1===e.encoding)))&&await Ue(),e.memory=0;const{componentOffsets:c,geometries:_,featureIds:m}=o,g=this._collection,p=_[0],{layout:f,indices:b,interleavedVertexData:y,positionData:v,hasColors:I}=a,S=this._materialParameters(p,f),E=c||new Uint32Array([0,b?b.length:y.byteLength/f[0].stride]),D={vertices:{data:y,count:y.byteLength/f[0].stride,layoutParameters:S.geometryParams},positionData:{positions:v.data,indices:v.indices},indices:b,componentOffsets:E},R=p.transformation?j(p.transformation):w();x(R,n,R);const N=O(F(),R),A=M(C(),R),P=this.view.renderSpatialReference,H=this.view.basemapTerrain.spatialReference,U=F(),G=[1,1,1];T(N,P,G,H)||Ge.errorOnce(\"Unsupported coordinate system for IM overlay\"),V(N,P,U,H);const L=g.createObject({toMapSpace:[U[0],U[1],G[0],G[1]],geometry:D,obb:u(e.geometryObb),transform:{position:N,rotationScale:A}}),B=2===S.geometryParams.textureCoordinates,k=this._initMaterialAndTextures(L,S.material,l,B);e.memory+=this.memEstimateGeometryAdded(L),e.memory+=k.reduce(((e,t)=>e+(d(t)?this.memEstimateTextureAdded(t):0)),0);const q=!!S.material.hasParametersFromSource,z=\"blend\"!==S.material.alphaMode&&S.material.metallicRoughness.baseColorFactor[3]>=1,W=new Be(e,m,L,this._getInvalidRendererVersion(),s.attributeInfo,{hasParametersFromSource:q,isOpaque:z},k);s.meta=W,!this._hasTextures&&t.requiredTextures.some((({usage:e})=>0!=(19&e)))&&(this._hasTextures=!0),this._hasData=!0,this._hasColors=this._hasColors||I,this._hasTextures=this._hasTextures||!!e.resources.texture,this.notifyChange(\"hasTexturesOrVertexColors\");const $=this.slicePlaneEnabled;return this._addOrUpdateEdgeRendering(W).then((t=>(d(t)&&t.updateObjectVisibility(W.objectHandle,!1),this._safeReschedule((()=>{const i=this._addTasks.get(e.index);if(!i)return;if(d(this._labeler)&&this._addMetaToLabeler(this._labeler,W),this._addNodeMeta(e.index,W),i.meta=null,this.suspended)return void this._removeNodeStageData(e.index,this.elevationOffset);g.setObjectVisibility(L,1),d(t)&&t.updateObjectVisibility(W.objectHandle,!0),W.attributeInfo=i.attributeInfo;const s=W.cachedRendererVersion!==this._rendererVersion,r=$!==this.slicePlaneEnabled;this._setObjectSymbolColors(W);const o=this._applyFiltersToNode(W);(s||d(t)&&(r||o))&&this._addOrUpdateEdgeRendering(W),this._visibleGeometryChanged(W),this._highlights.objectCreated(W),this._updateMaterial(W),this._setNewNodeOpacity(W),d(this._treeDebugger)&&this._treeDebugger.update()}),i)))).catch((e=>{throw d(s.meta)&&(this._deleteComponentObject(s.meta),s.meta=null),e}))}_addNodeMeta(e,t){if(this._removeNodeStageData(e,this.elevationOffset,this._nodeId2MetaReloading),this._nodeId2Meta.has(e)){Ge.error(\"Removing duplicated node\");const t=this._nodeId2Meta.get(e);d(t)&&this._deleteComponentObject(t)}d(t)&&(t.lodCrossfadeProgress=null,this.nodeCrossfadingEnabled&&ot(t.cachedEdgeMaterials,0)),this._nodeId2Meta.set(e,t)}_safeReschedule(e,t){return m(t),this._controller.reschedule(e,t)}_materialParameters(e,t){const i=e.params.material,s=t.some((e=>\"uvRegion\"===e.name)),r=t.some((e=>\"normalCompressed\"===e.name)),o=Ye(i);return{geometryParams:this._getGeometryParameters({hasTexture:o,hasNormals:r,hasRegions:s}),material:i}}_initMaterialAndTextures(e,t,i,s){const r=this._stage.renderView,o=i.map((e=>_e(e,t,s,r)));for(const a of o)d(a)&&this._stage.add(a);return this._collection.updateMaterial(e,(e=>{me(e,t,o,i,this.view._stage.renderView.textureRepository,{rendererTextureUsage:this.rendererTextureUsage,usePBR:this._usePBR(),isIntegratedMesh:this._isIntegratedMesh,slicePlaneEnabled:this.slicePlaneEnabled,viewSpatialReference:this.view.spatialReference}),this._updateMaterialOverlay(e)})),o}_getGeometryParameters(e){return{textureCoordinates:e.hasTexture?e.hasRegions?2:1:0,colors:this._hasVertexColors,normals:e.hasNormals&&!this._isIntegratedMesh}}_addData(e,t,i){let s=this._addTasks.get(e.index);return s?s.attributeInfo=t:(s={...g(),attributeInfo:t,meta:null},this._addTasks.set(e.index,s),i().then(s.resolve,s.reject).then((()=>this._addTasks.delete(e.index))).catch((t=>{throw this._addTasks.delete(e.index),t}))),s.promise}_clearAddTasks(){this._addTasks.forEach((e=>{d(e.meta)&&(this._deleteComponentObject(e.meta),e.meta=null)})),this._addTasks.clear()}_clippingAreaChanged(){const e=P();Ne(this.view.clippingArea,e,this.view.renderSpatialReference)?this._clippingArea=e:this._clippingArea=null,this._filterChange(),this._controller&&this._controller.updateClippingArea(this.view.clippingArea)}_geometryFilterChange(){this._controller.geometryFilterChanged(this.hasGeometryFilter)}get hasGeometryFilter(){return!1}_filterChange(){this._applyFilters(!1)}_applyFilters(e){this._filters=this.getFilters(),e?this._controller&&this._controller.requestUpdate():this._nodeId2Meta.forEach((e=>{d(e)&&this._applyFiltersToNode(e)&&(this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e))}))}getFilters(){const e=[];return this._clippingArea&&e.push(((e,t)=>this._boundingboxFilter(e,t,this._clippingArea))),e}addSqlFilter(e,t,i){if(d(t)){const s=t.fieldNames;e.push(((e,r)=>this._sqlFilter(e,r,t,s,i)))}}_sqlFilter(e,t,i,s,r){const o={},a=this._createLayerGraphic(o),n=this.i3slayer.objectIdField,l=t.featureIds,h=d(t.attributeInfo)&&t.attributeInfo.attributeData;s.every((e=>null!=h[e]||e===n))&&Ce(e,l,(e=>{o[n]=l[e];for(const i of s)i!==n&&(o[i]=xe(h[i],e));try{return i.testFeature(a)}catch(t){return r(t),!1}}))}_boundingboxNodeTest(e,t){return A(e.node.mbs,this._controller.crsIndex,Xe,this.view.renderSpatialReference),Oe(t,Xe)}_boundingboxFeatureTest(e,t,i){return G(i,this._collection.getComponentAabb(e.objectHandle,t,We))}_boundingboxFilter(e,t,i){const s=this._collection,r=this._boundingboxNodeTest(t,i);if(3===r)return;if(0===r)return void(e.length=0);const o=s.getComponentCount(t.objectHandle);if(o.invisible+o.visible!==t.featureIds.length)return;const a=this._transformAABB($e,i,t.objectHandle);Ce(e,t.featureIds,(e=>this._boundingboxFeatureTest(t,e,a)))}_transformAABB(e,t,i){const s=this._collection.getObjectTransform(i),r=s.position,o=s.rotationScale;return e[0]=(t[0]-r[0])/o[0],e[1]=(t[1]-r[1])/o[4],e[2]=(t[2]-r[2])/o[8],e[3]=(t[3]-r[0])/o[0],e[4]=(t[4]-r[1])/o[4],e[5]=(t[5]-r[2])/o[8],e}_addOrUpdateEdgeRendering(e,t=!0){if(h(this._edgeView))return Promise.resolve(null);const i=e.objectHandle,s=this._edgeView.hasObject(i),{hasEdges:r,perFeatureEdgeMaterials:o}=this._getFilteredEdgeMaterials(e),a={slicePlaneEnabled:this.slicePlaneEnabled};if(r){if(s){if(this.nodeCrossfadingEnabled){ot(o,this.getNodeOpacity(e))}return this._edgeView.updateAllComponentMaterials(i,o,a,t),this._edgeView.updateObjectVisibility(i,!0),Promise.resolve(this._edgeView)}return this._collection.addEdges(i,this._edgeView,o,a).then((()=>this._edgeView))}return s&&this._edgeView.removeObject(i),Promise.resolve(null)}_removeEdgeRendering(e){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._edgeView.removeObject(e.objectHandle)}_applyFiltersToNode(e){return!!this._applyFiltersToNodeComponents(e)&&(d(this._labeler)&&this._labeler.applyFilterChange(e),!0)}_applyFiltersToNodeComponents(e){const t=this._collection,i=0===t.getComponentCount(e.objectHandle).invisible;if(t.setAllComponentVisibilities(e.objectHandle,\"all\"),0===this._filters.length)return e.filteredIds=null,!i;if(this._updateCachedFilteredIds(e),e.filteredIds===e.featureIds)return!i;const s=this._computeFilteredComponentIndices(e);return t.setAllComponentVisibilities(e.objectHandle,s),!0}_updateCachedFilteredIds(e){null!=e.filteredIds&&e.appliedFilters===this._filters||(e.filteredIds=this._computeFilteredIds(e),e.appliedFilters=this._filters)}_computeFilteredIds(e){const t=e.featureIds.slice();for(const i of this._filters)if(i(t,e),0===t.length)break;return t.length===e.featureIds.length?e.featureIds:t}_computeFilteredComponentIndices(e){const t=new Array;return e.featureIds.forEach(((i,s)=>{e.filteredIds[t.length]===i&&t.push(s)})),t}_removeAllNodeDataFromStage(e=this.elevationOffset){this._nodeId2Meta.forEach(((t,i)=>this._removeNodeStageData(i,e))),this._nodeId2MetaReloading.forEach(((t,i)=>this._removeNodeStageData(i,e,this._nodeId2MetaReloading)))}removeNode(e){const t=this.elevationOffset;this._removeNodeStageData(e,t),this._removeNodeStageData(e,t,this._nodeId2MetaReloading)}_removeNodeStageData(e,t,i=this._nodeId2Meta){const s=i.get(e);h(s)?i.delete(e):(this._collection.setObjectVisibility(s.objectHandle,0),this._visibleGeometryChanged(s),this._removeEdgeRendering(s),d(this._labeler)&&this._labeler.removeNodeMeta(s),i.delete(e),this._highlights.objectDeleted(s),i===this._nodeId2Meta?(this._cacheGPUData(s,t),this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopNodeFading(s)):this._deleteComponentObject(s),d(this._treeDebugger)&&this._treeDebugger.update())}_deleteComponentObject(e){if(d(this._edgeView)&&this._edgeView.removeObject(e.objectHandle),this.memEstimateGeometryRemoved(e.objectHandle),this._collection.destroyObject(e.objectHandle),e.textures)for(const t of e.textures)this.memEstimateTextureRemoved(t),this._stage.remove(t)}updateNodeState(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._collection.updateMaterial(i.objectHandle,(e=>e.polygonOffsetEnabled=0===t))}_invalidateAllSymbols(){this._rendererVersion=je(this._rendererVersion,1),this._controller&&this._controller.requestUpdate()}_getInvalidRendererVersion(){return je(this._rendererVersion,-1)}async _rendererChange(e){if(this._currentRenderer=e,this.notifyChange(\"rendererTextureUsage\"),this._rendererVersion=je(this._rendererVersion,1),this._rendererFields=null,this._colorVariable=null,this._opacityVariable=null,this._invalidateAllSymbols(),e&&(this._rendererFields=await e.getRequiredFields(this.i3slayer.fieldsIndex)),this._updateSymbologyFields(),!this._arcade&&e&&\"arcadeRequired\"in e&&e.arcadeRequired&&(this._arcade=await $()),e&&\"visualVariables\"in e&&e.visualVariables)for(const t of e.visualVariables)\"color\"===t.type?this._colorVariable=t:\"opacity\"===t.type?this._opacityVariable=t:Ge.warn(`Unsupported visual variable type for 3D Object Scene Services: ${t.type}`);if(e)for(const t of e.getSymbols())\"mesh-3d\"!==t.type&&Ge.error(`Symbols of type '${t.type}' are not supported for 3D Object Scene Services.`);this._controller&&this._controller.requestUpdate()}_getCachedEdgeMaterials(e){return this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e),e.cachedEdgeMaterials}_getSymbolColors(e){this._hasSymbolColors&&e.cachedRendererVersion!==this._rendererVersion&&this._updateCachedRendererData(e);const t=e.cachedSymbology;return(e,i)=>{const s=5*e;D(i.externalColor,t[s+0]/255,t[s+1]/255,t[s+2]/255,t[s+3]/255),i.externalColorMixMode=15&t[s+4],i.castShadows=0!=(16&t[s+4]),i.pickable=0!=(32&t[s+4])}}_getSymbolInfo(e,t){const i=e&&e.getSymbol(t,{arcade:this._arcade});if(!(i instanceof K))return null;const s=i.id;if(this._symbolInfos.has(s))return this._symbolInfos.get(s);const r=we(i);return this._symbolInfos.set(s,r),r}_setSymbologyOverride(e,t){this._symbologyOverride!==e&&(this._symbologyOverride=e,this._symbologyOverrideFields=t,this._invalidateAllSymbols(),this._updateSymbologyFields())}_updateSymbologyFields(){this._symbologyFields=d(this._symbologyOverrideFields)&&this._symbologyOverrideFields.length>0?d(this._rendererFields)&&this._rendererFields.length>0?B(this.i3slayer.fieldsIndex,[...this._rendererFields,...this._symbologyOverrideFields]):this._symbologyOverrideFields:this._rendererFields}_updateCachedRendererData(e){if(e.cachedRendererVersion=this._rendererVersion,!this._hasSymbolColors)return;const t=this._tmpAttributeOnlyGraphic,i={};t.attributes=i;const s=this._currentRenderer,r=d(e.attributeInfo)&&e.attributeInfo.attributeData,o=null!=e.featureIds?this.i3slayer.objectIdField:null,a=null!=r&&d(this._symbologyFields)&&this._symbologyFields.length>0,n=a?[]:null,l=a?[]:null;if(a&&d(this._symbologyFields))for(const d of this._symbologyFields){const e=r[d];e&&(n.push(d),l.push(e))}e.cachedSymbology||(e.cachedSymbology=new Uint8Array(5*e.featureIds.length));const c={color:Je,castShadows:!0,pickable:!0,colorMixMode:1,edgeMaterial:null},u=this.fullOpacity,_=this.nodeCrossfadingEnabled?this.getNodeOpacity(e):u;let m=null,g=2,p=Se,f=0;for(let b=0;b<e.featureIds.length;b++){if(null!=o&&(i[o]=e.featureIds[b]),a)for(let e=0;e<n.length;e++)i[n[e]]=xe(l[e],b);const r=this._getSymbolInfo(s,t);let u=null,y=null;if(s&&\"visualVariables\"in s){if(this._colorVariable){const e=z(this._colorVariable,t,{color:Qe,arcade:this._arcade});e&&(u=Je,u[0]=e.r/255,u[1]=e.g/255,u[2]=e.b/255,this._opacityVariable||null===e.a||(y=e.a))}this._opacityVariable&&(y=W(this._opacityVariable,t,{arcade:this._arcade}))}if(r&&r.material){const e=r.material;u=h(u)||h(y)?se(u,y,e.color,e.alpha,Le,Je):se(u,y,null,null,Le,Je)}if(h(u)&&(u=Je,u[0]=1,u[1]=1,u[2]=1,u[3]=1),c.pickable=!0,c.castShadows=!r||r.castShadows,c.colorMixMode=r&&r.material?r.material.colorMixMode:1,c.edgeMaterial=r?r.edgeMaterial:null,d(this._symbologyOverride)&&(c.color=u,this._symbologyOverride(t,c),u=c.color),d(c.edgeMaterial)){const t=u[3]<=0?0:u[3]>=1&&(e.material.isOpaque||3===c.colorMixMode)?2:1;c.edgeMaterial===m&&t===g||(p={...c.edgeMaterial,opacity:_,objectTransparency:t},m=c.edgeMaterial,g=t),e.cachedEdgeMaterials[b]=p}else e.cachedEdgeMaterials[b]=Se;e.cachedSymbology[f+0]=Math.round(255*u[0]),e.cachedSymbology[f+1]=Math.round(255*u[1]),e.cachedSymbology[f+2]=Math.round(255*u[2]),e.cachedSymbology[f+3]=Math.round(255*u[3]),e.cachedSymbology[f+4]=c.colorMixMode|+c.castShadows<<4|+c.pickable<<5,f+=5}}_getFilteredEdgeMaterials(e){const t=this._getCachedEdgeMaterials(e);if(this.nodeCrossfadingEnabled||ot(t,this.fullOpacity),h(e.filteredIds)){return{hasEdges:t.some((e=>e!==Se)),perFeatureEdgeMaterials:t}}let i=0,s=!1;const r=t.map(((t,r)=>e.featureIds[r]!==e.filteredIds[i]?Se:(s=s||t!==Se,i++,t)));return{hasEdges:s,perFeatureEdgeMaterials:r}}_setObjectSymbolColors(e){if(!this._hasSymbolColors)return;const t=e.objectHandle,i=this._getSymbolColors(e);this._collection.setComponentData(t,i),this._stage.renderView.setNeedsRender()}_reloadAll(e=this.elevationOffset){this._removeAllNodeDataFromStage(e),null!=this._controller&&this._controller.restartNodeLoading()}_opacityChange(e){this.nodeCrossfadingEnabled&&this._crossfadeHelper.stopAllNodeFading(),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>t.objectOpacity=e)),ot(t.cachedEdgeMaterials,e),this._updateEdgeRendering(t))}))}_updateMaterial(e){this._collection.updateMaterial(e.objectHandle,(e=>{e.commonMaterialParameters.slicePlaneEnabled=this.slicePlaneEnabled,e.usePBR=this._usePBR(),this._updateMaterialOverlay(e)}))}_updateMaterialOverlay(e){}_updateEngineObject(e){this._setObjectSymbolColors(e),this._applyFiltersToNode(e),this._addOrUpdateEdgeRendering(e),this._visibleGeometryChanged(e)}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlane=e),d(this._labeler)&&(this._labeler.slicePlaneEnabled=e),this._nodeId2Meta.forEach((t=>{h(t)||(this._collection.updateMaterial(t.objectHandle,(t=>{t.commonMaterialParameters.slicePlaneEnabled=e})),this._updateEdgeRendering(t,!1))}))}_updatePBR(){this._nodeId2Meta.forEach((e=>{h(e)||this._collection.updateMaterial(e.objectHandle,(e=>{e.usePBR=this._usePBR()}))})),this._hasLoadedPBRTextures=!0}_usePBR(){return!this._isIntegratedMesh&&this.view.qualitySettings.physicallyBasedRenderingEnabled}_updateEdgeRendering(e,t=!0){d(this._edgeView)&&this._edgeView.hasObject(e.objectHandle)&&this._addOrUpdateEdgeRendering(e,t)}_forAllNodes(e){this._nodeId2Meta.forEach(e)}_forAllFeatures(e,t,i=0){a(this._nodeId2Meta,(s=>{if(h(s))return!1;if(d(t)){switch(t(s)){case 0:return!0;case 2:return!1}}let r=1;switch(i){case 1:r=this._forAllFeaturesOfNode(s,e);break;case 0:r=this._forVisibleFeaturesOfNode(s,e);break;case 2:r=this._forAllFeaturesOfNodeInClippingArea(s,e)}return 0===r}))}_forAllFeaturesOfNode(e,t){let i=1;const s=e.featureIds;for(let r=0;r<s.length;r++)if(i=t(s[r],r,e),0===i)return i;return i}_forVisibleFeaturesOfNode(e,t){let i=1;const s=e.featureIds;return this._collection.forEachVisibleComponent(e.objectHandle,(r=>(i=t(s[r],r,e),1===i))),i}_forAllFeaturesOfNodeInClippingArea(e,t){if(null==this._clippingArea)return this._forAllFeaturesOfNode(e,t);const i=this._boundingboxNodeTest(e,this._clippingArea);if(0===i)return 1;if(3===i)return this._forAllFeaturesOfNode(e,t);const s=1,r=e.featureIds,o=e.objectHandle,a=Ee(this._clippingArea,this._collection.getObjectTransform(o));for(let n=0;n<r.length;n++){if(!this._boundingboxFeatureTest(e,n,a))continue;const i=t(r[n],n,e);if(0===i)return i}return s}_createAttributes(e,t){const i={};null!=t.featureIds&&(i[this._getObjectIdField()]=t.featureIds[e]);const s=d(t.attributeInfo)&&t.attributeInfo.attributeData;if(d(s))for(const r of Object.keys(s))i[r]=xe(s[r],e);return i}_createGraphic(e,t){return this._createLayerGraphic(this._createAttributes(e,t))}highlight(e){const t=this._highlights;if(\"number\"==typeof e||e instanceof i?e=[e]:e instanceof s&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof i){const i=e,s=this.i3slayer.fieldsIndex,r=this._getObjectIdField(),o=i.map((e=>De(s,e.attributes,r))),{set:a,handle:n}=t.acquireSet();return t.setFeatureIds(a,o),n}if(\"number\"==typeof e[0]){const i=e,{set:s,handle:r}=t.acquireSet();return t.setFeatureIds(s,i),r}}return rt}_visibleGeometryChanged(e){this._elevationProvider&&(this._elevationProvider.objectChanged(e.node),null==this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle=p((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))))}get performanceInfo(){const e={displayedNumberOfFeatures:0,maximumNumberOfFeatures:0,totalNumberOfFeatures:0,core:null,index:0,nodes:this._nodeId2Meta.size,\"Total GPU Memory Estimate\":(this.gpuMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Geometry Memory Estimate\":(this.geoMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Texture Memory Estimate\":(this.texMemoryEstimate/1048576).toFixed(1)+\"MB\",\"Unloaded Memory Estimate\":(this.getUnloadedMemory()/1048576).toFixed(1)+\"MB\"};return d(this._memCache)&&(e.MemCache=Math.round(100*this._memCache.hitRate)+\"% hit\"),this._controller&&(this._idbCacheEnabled&&(e.IDBCache=Math.round(100*this._idbCache.getHitRate())+\"% hit\"),this._controller.updateStats(e)),e}get test(){const e=this;return{controller:this._controller,labeler:this._labeler,get visibleObjectIds(){const t=[];return e._forAllFeatures((e=>(t.push(e),1)),null,0),t.sort(((e,t)=>e-t)),t},get numNodes(){return e._nodeId2Meta.size}}}getNodeOpacityByIndex(e){const t=this._nodeId2Meta.get(e);return this.getNodeOpacity(t)}getNodeOpacity(e){return d(e)?this._collection.getMaterial(e.objectHandle).objectOpacity:0}isNodeFullyFadedIn(e){return this._crossfadeHelper.isNodeFullyFadedIn(e)}getNodeCrossfadeMetaData(e){return this._nodeId2Meta.get(e)}markNodeToRemove(e){this._controller&&this._controller.markNodeToRemove(e)}removeMarkedNodes(){this._controller&&this._controller.removeMarkedNodes()}foreachCrossfadeNode(e){this._nodeId2Meta.forEach(((t,i)=>e(i,t)))}fadeNode(e,t,i){if(!this.nodeCrossfadingEnabled)return;const s=this._nodeId2Meta.get(e);d(s)&&this._crossfadeHelper.fadeNode(e,s,t,i)}setNodeOpacityByIndex(e,t){const i=this._nodeId2Meta.get(e);d(i)&&this._setNodeOpacity(i,t)}_setNodeOpacity(e,t){this._collection.updateMaterial(e.objectHandle,(e=>e.objectOpacity=t)),this._setNodeEdgeOpacity(e,t)}_setNodeEdgeOpacity(e,t){if(!d(this._edgeView)||!e.cachedEdgeMaterials)return;ot(e.cachedEdgeMaterials,t);const i=e.objectHandle;this._edgeView.hasObject(i)&&this._edgeView.updateAllComponentOpacities(i,t)}get _hasModifications(){return this._modifications&&this._modifications.length>0}updateNodeModificationStatus(e){const t=e.length;if(!this._hasModifications||t<=0||!0!==this._i3sWasmLoaded)return;const i=this.i3slayer.uid,s=st(e);if(d(s)){const t={context:i,buffer:s.buffer};te(t);const r=new Float64Array(s.buffer);e.forAll(((e,t)=>{const i=r[t],s=ie(i);e.imModificationImpact=s,0!==s&&this._controller.invalidateGeometryVisibility(e.index)}))}}notifyUpdate(){this.notifyChange(\"updating\")}notifyLODUpdate(){this._controller.notifyLODUpdate()}isUpdating(){return!(!this._controller||!this._controller.updating)||!!this._visibleGeometryChangedSchedulerHandle||d(this._labeler)&&this._labeler.updating||this._crossfadeHelper.updating||this._i3sWasmLoaded instanceof Promise||this._asyncModuleLoading>0}};return e([v()],o.prototype,\"_hasLoadedPBRTextures\",void 0),e([v()],o.prototype,\"_asyncModuleLoading\",void 0),e([v()],o.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([v()],o.prototype,\"view\",void 0),e([v()],o.prototype,\"i3slayer\",void 0),e([v()],o.prototype,\"_controller\",void 0),e([v()],o.prototype,\"_labeler\",void 0),e([v()],o.prototype,\"updating\",void 0),e([v()],o.prototype,\"suspended\",void 0),e([v()],o.prototype,\"holeFilling\",void 0),e([v(Ae)],o.prototype,\"updatingProgress\",void 0),e([v({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],o.prototype,\"updatingProgressValue\",void 0),e([v({readOnly:!0})],o.prototype,\"hasTexturesOrVertexColors\",null),e([v({readOnly:!0})],o.prototype,\"rendererTextureUsage\",null),e([v({readOnly:!0})],o.prototype,\"elevationOffset\",null),e([v({type:Boolean})],o.prototype,\"slicePlaneEnabled\",void 0),e([v()],o.prototype,\"supportedTextureEncodings\",null),e([v()],o.prototype,\"uncompressedTextureDownsamplingEnabled\",null),e([v({type:[q]})],o.prototype,\"_modifications\",void 0),o=e([I(\"esri.views.3d.layers.I3SMeshView3D\")],o),o},We=P(),$e=P(),Ke=Te(),Je=[0,0,0,0],Qe=new t([0,0,0,0]),Xe=[0,0,0,0];function Ye(e){const t=e.metallicRoughness;return t&&t.baseColorTextureId>=0||t&&t.metallicRoughnessTextureId>=0||e.normalTextureId>=0||e.emissiveTextureId>=0||e.occlusionTextureId>=0}function Ze(e){return\"geometryData\"in e}function et(e){return d(e)&&f(e.data)}function tt(e,t){let i=1024+e.interleavedVertexData.byteLength+(e.indices?e.indices.byteLength:0)+e.positionData.data.byteLength+e.positionData.indices.byteLength;if(d(t))for(const s of t)d(s)&&f(s.data)&&(i+=s.data.byteLength);return i}function it(e,t){return t.byteSize>qe?(Ge.warn(`Node is too big to store in IndexedDB cache: ${e.id} (${t.byteSize} bytes)`),!1):t.byteSize>0}function st(e){if(0===e.length)return null;const t=10*e.length,i=new Float64Array(t);return e.forAll(((e,t)=>{let s=e.serviceObb;h(s)&&(s=Ke,E(s.center,e.mbs),s.halfSize[0]=s.halfSize[1]=s.halfSize[2]=e.mbs[3]);const r=10*t;i[r+0]=s.center[0],i[r+1]=s.center[1],i[r+2]=s.center[2],i[r+3]=s.halfSize[0],i[r+4]=s.halfSize[1],i[r+5]=s.halfSize[2],i[r+6]=s.quaternion[0],i[r+7]=s.quaternion[1],i[r+8]=s.quaternion[2],i[r+9]=s.quaternion[3]})),i}const rt={remove(){},pause(){},resume(){}};function ot(e,t){e.forEach((e=>e.opacity=t))}export{ze as I3SMeshView3D};\n"],"names":["t2","r2","n2","a2","m2","getComponentAabb","p","s2","getObjectTransform","c2","b","e","rotationScale","o","position","e2","o2","Float64Array","l2","u2","meta","featureExtents","t","featureIds","length","Number","POSITIVE_INFINITY","p2","buffer","index","BYTES_PER_ELEMENT","objectHandle","n","c","s","m","f","a","r","constructor","this","_limit","_all","_active","_pending","Map","_handle","on","_handleChanges","e3","destroy","remove","toArray","find","forEach","addMany","removeManyByObjectId","removed","size","Array","s3","delete","objectId","push","added","removeMany","h","reset","sample","set","i2","t3","addAndRemove","percentage","last","Math","floor","_parent","_map","values","emit","u","loadedGraphics","y","slicePlaneEnabled","_renderingInfo","symbol","g","_handles","_graphicsByNode","_scaleVisibility","initialize","_graphicsCore","owner","layer","preferredUpdatePolicy","elevationFeatureExpressionEnabled","graphicSymbolSupported","getRenderingInfoWithoutRenderer","hasZ","hasM","view","basemapTerrain","layerScaleEnabled","setup","i3","spatialIndex","queryGraphicUIDsInExtent","labeler","addGraphicsOwner","emptySymbolLabelSupported","elevationInfoOverride","mode","offset","disablePlacement","logEntityDescription","deconflictor","scaleVisibility","then","startCreateGraphics","catch","add","watch","updateLabelingInfo","addNodeMeta","filteredIds","map","a3","l","collection","spatialReference","renderCoordsHelper","fromRenderCoords","h2","uid","i","generateUID","attributes","visible","geometry","node","setNodeMetaAttributes","get","applyFilterChange","graphic","property","oldValue","newValue","graphicUpdateHandler","removeNodeMeta","getRenderingInfo","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","effectiveUpdatePolicy","usedMemory","unprocessedMemoryEstimate","graphicsCore","prototype","aliasOf","getLogger","hasInitialize","getTransferList","geometryBuffer","setModifications","context","modifications","isGeodetic","isGeographic","broadcast","setLegacySchema","JSON","stringify","jsonSchema","destroyContext","deallocator","clear","type","o3","f2","e4","warn","rings","t4","getItemAt","ids","Set","paused","forAllFeatures","forAllFeaturesOfNode","highlights","releaseSet","acquireSet","pause","resume","initializeSet","handle","setFeatureIds","has","addComponentHighlight","removeComponentHighlight","objectCreated","objectDeleted","clearHighlights","_preRenderFrameTaskHandle","_currentFrameStartTime","_numFadingNodes","stopNodeFading","lodCrossfadeProgress","notifyLODUpdate","notifyUpdate","_startNodeFading","d2","preRender","_updateAllNodeFading","lodCrossfadeSignedDuration","nodeCrossfadingEnabled","foreachCrossfadeNode","fullOpacity","deltaTime","abs","markNodeToRemove","setNodeOpacityByIndex","removeMarkedNodes","stopAllNodeFading","fadeNode","Date","now","lodCrossfadeinDuration","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","getNodeOpacityByIndex","removeNode","isNodeFullyFadedIn","getNodeCrossfadeMetaData","d","v","x","E","j","EventedMixin","tmpEvent","extent","layerView","intersector","state","viewingMode","options","store","i3slayer","fullExtent","zmin","zmax","intersectionHandler","isGround","getElevation","toRenderCoords","error","elevationOffset","setAltitude","intersect","results","min","getIntersectionPoint","getAltitude","layerChanged","computeLayerExtent","objectChanged","computeObjectExtent","_expandExtent","getVisibleNodes","visibilityObb","serviceObbInRenderSR","quaternion","center","halfSize","renderMbs","constructOnly","readOnly","layerUid","sublayerUid","traverseNodeHierarchy","slicePlane","b2","ray","direction","tolerance","y2","verticalOffset","applyToMbs","applyToObb","geometryObb","b3","m3","target","metadata","nodeIndex","componentIndex","dist","normal","triangleNr","ground","isFiltered","max","all","_version","_db","_quotaReductionPromise","_gcCounter","_hit","_miss","_destroyed","gcFrequency","maxByteSize","quotaReductionFactor","_dbName","_storeName","init","Promise","resolve","indexedDB","open","onupgradeneeded","result","transaction","objectStoreNames","contains","objectStore","createObjectStore","indexNames","createIndex","unique","oldVersion","close","getHitRate","put","reject","_put","name","_getCacheSize","_removeLeastRecentlyAccessed","byteSize","ceil","abort","date","async","openCursor","onsuccess","value","primaryKey","continue","openKeyCursor","key","oncomplete","onerror","onabort","readyState","Ge","Le","cachedRendererVersion","attributeInfo","material","textures","cachedEdgeMaterials","cachedSymbology","ze","_elevationProvider","_intersectionHandler","_nodeId2Meta","_nodeId2MetaReloading","_i3sWasmLoaded","_hasLoadedPBRTextures","_asyncModuleLoading","_addTasks","_rendererVersion","_colorVariable","_opacityVariable","_rendererFields","_symbologyFields","_symbologyOverride","_symbologyOverrideFields","_symbolInfos","_idbCache","Fe","holeFilling","_hasColors","_hasTextures","_hasData","_modifications","_layerUrl","_cacheKeySuffix","_arcade","_tmpAttributeOnlyGraphic","_crossfadeHelper","ae","fe","_currentRenderer","_usePBR","elevationInfo","J","unit","ce","_stage","renderView","capabilities","qualitySettings","sceneService","uncompressedTextureDownsamplingEnabled","supportedTextureEncodings","preLoadBasis","addResolvingPromise","indexInfo","resourceController","attributeOverrides","oe","memoryController","_worker","X","schedule","promise","defaultGeometrySchema","be","ye","parsedUrl","path","_controller","L","gpuMemoryEstimate","texMemoryEstimate","geoMemoryEstimate","_collection","componentObjectCollection","_highlights","re","_forAllFeatures","_forAllFeaturesOfNode","_isIntegratedMesh","_hasSymbolColors","featureAttributes","faceRange","id","_hasVertexColors","vertexAttributes","color","cachedDrawingInfo","_edgeView","ensureEdgeView","_memCache","getMemCache","_deleteComponentObject","he","rootNode","traverse","le","updatingHandles","_clippingAreaChanged","_opacityChange","_slicePlaneEnabledChange","_reloadAll","invalidateVisibilityObbs","_filterChange","_updatePBR","clearMemCache","_suspendedChange","_labelingChanged","_modificationsChanged","handles","Re","_treeDebugger","crsIndex","I3STreeDebugger","I3S_TREE_SHOW_TILES","lv","nodeSR","_showModifications","ve","renderSpatialReference","_clearAddTasks","elevationProvider","unregister","sceneIntersectionHelper","removeIntersectionHandler","_removeAllNodeDataFromStage","_labeler","_visibleGeometryChangedSchedulerHandle","memEstimateTextureAdded","estimatedTexMemRequired","memEstimateTextureRemoved","memEstimateGeometryAdded","getObjectGPUMemoryUsage","memEstimateGeometryRemoved","isNodeLoaded","isNodeReloading","getUsedMemory","memory","getUnloadedMemory","unloadedMemoryEstimate","ignoresMemoryFactor","_supportsLabeling","Q","_addMetaToLabeler","_loadAsyncModule","_hasModifications","Z","Y","modificationsChanged","_","hasModifications","updateNodeModificationStatus","forAll","imModificationImpact","invalidateGeometryVisibility","restartNodeLoading","_modificationGraphics","graphics","I3S_SHOW_MODIFICATIONS","clip","mask","replace","outline","width","__spreadProps","_createAttributes","register","_elevationContext","addIntersectionHandler","getLoadedAttributes","loadedAttributes","getAttributeData","attributeData","setAttributeData","_attributeValuesChanged","apply","_getInvalidRendererVersion","_updateEngineObject","getLoadedNodeIndices","textureSetDefinitions","some","formats","format","Ue","_getVertexBufferLayout","hasTexture","Ye","params","hasNormals","hasRegions","uvRegion","Pe","He","_getGeometryParameters","_getObjectIdField","objectIdField","_findGraphicNodeAndIndex","De","fieldsIndex","indexOf","_getGraphicIndices","whenGraphicBounds","de","R","H","U","boundingBox","screenSpaceObjects","whenGraphicAttributes","Ie","filter","getGraphicFromIntersectorMetadata","_createGraphic","_getCacheKey","_getMemCacheKey","disableIDBCache","loadCachedGPUData","pop","deleteCachedGPUData","_cacheGPUData","indexDepth","level","loadMissingTextures","usage","rendererTextureUsage","ue","encodings","r3","data","encoding","loadCachedNodeData","_idbCacheEnabled","nodeVersion","version","requiredTextures","textureData","initialized","tt","transformedGeometry","every","et","it","addNode","Ze","_addData","attributeDataInfo","_transformNode","_safeReschedule","_addCachedNodeData","obb","componentOffsets","ge","mbs","Te","z","extents","orientation","w","S","geometryData","slice","call","globalTrafo","t5","computeVisibilityObb","Me","geometries","geometryDescriptor","crsVertex","pe","N","g2","layouts","localOrigin","serviceObb","needNormals","isMeshPyramid","normalReferenceFrame","indexToVertexProjector","vertexToRenderProjector","invoke","hasShadowsEnabled","supportsNodeCrossFading","_setNewNodeOpacity","_setNodeOpacity","addCachedGPUData","Ve","getComponentObb","isGeometryVisible","_addNodeMeta","updateNodeState","setObjectVisibility","_updateMaterial","update","addCachedNodeData","suspended","_removeNodeStageData","layout","indices","interleavedVertexData","positionData","v2","hasColors","I2","_materialParameters","E2","Uint32Array","byteLength","stride","D2","vertices","count","layoutParameters","geometryParams","positions","transformation","O","F","A2","M","C","P2","H2","G","errorOnce","V","L2","createObject","toMapSpace","transform","B2","textureCoordinates","k","_initMaterialAndTextures","reduce","q","hasParametersFromSource","alphaMode","metallicRoughness","baseColorFactor","W","Be","isOpaque","resources","texture","notifyChange","$","_addOrUpdateEdgeRendering","updateObjectVisibility","_setObjectSymbolColors","_applyFiltersToNode","_visibleGeometryChanged","ot","reschedule","_e","updateMaterial","textureRepository","usePBR","isIntegratedMesh","viewSpatialReference","_updateMaterialOverlay","colors","normals","P","clippingArea","_clippingArea","updateClippingArea","_geometryFilterChange","geometryFilterChanged","hasGeometryFilter","_applyFilters","_filters","getFilters","requestUpdate","_boundingboxFilter","addSqlFilter","fieldNames","_sqlFilter","_createLayerGraphic","Ce","xe","testFeature","_boundingboxNodeTest","A","Xe","Oe","_boundingboxFeatureTest","We","getComponentCount","invisible","_transformAABB","$e","hasObject","hasEdges","perFeatureEdgeMaterials","_getFilteredEdgeMaterials","getNodeOpacity","updateAllComponentMaterials","addEdges","removeObject","_removeEdgeRendering","_applyFiltersToNodeComponents","setAllComponentVisibilities","_updateCachedFilteredIds","_computeFilteredComponentIndices","appliedFilters","_computeFilteredIds","destroyObject","polygonOffsetEnabled","_invalidateAllSymbols","je","getRequiredFields","_updateSymbologyFields","arcadeRequired","visualVariables","getSymbols","_getCachedEdgeMaterials","_updateCachedRendererData","_getSymbolColors","externalColor","externalColorMixMode","castShadows","pickable","_getSymbolInfo","getSymbol","arcade","K","we","_setSymbologyOverride","B","r$12","Uint8Array","Je","colorMixMode","edgeMaterial","Se","u3","Qe","se","alpha","opacity","objectTransparency","round","setComponentData","setNeedsRender","objectOpacity","_updateEdgeRendering","commonMaterialParameters","physicallyBasedRenderingEnabled","_forAllNodes","_forVisibleFeaturesOfNode","_forAllFeaturesOfNodeInClippingArea","forEachVisibleComponent","Ee","Object","keys","highlight","isArray","rt","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","nodes","toFixed","MemCache","hitRate","IDBCache","updateStats","controller","sort","getMaterial","_setNodeEdgeOpacity","updateAllComponentOpacities","Ke","st","ie","isUpdating","updating","Ae","Boolean","I","baseColorTextureId","metallicRoughnessTextureId","normalTextureId","emissiveTextureId","occlusionTextureId"],"mappings":"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"}