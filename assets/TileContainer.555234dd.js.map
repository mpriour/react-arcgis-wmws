{"version":3,"file":"TileContainer.555234dd.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{o as default,i as sortByLevel};\n"],"names":["i","e","r","key","level","row","col","s","constructor","this","_tileInfoView","renderChildren","sortChildren","setStencilReference","super","createRenderParams","state","s2","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","i2","push","registerRenderPass","name","brushes","n","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","t","children","updateTransforms","getTileResolution","setTransform","stencilRef"],"mappings":"iLAIuM,MAAMA,EAAE,CAACC,EAAEC,IAAID,EAAEE,IAAIC,MAAMF,EAAEC,IAAIC,OAAO,EAAEH,EAAEE,IAAIC,MAAMF,EAAEC,IAAIC,MAAMH,EAAEE,IAAIE,IAAIH,EAAEC,IAAIE,KAAK,EAAEJ,EAAEE,IAAIE,IAAIH,EAAEC,IAAIE,IAAIJ,EAAEE,IAAIG,IAAIJ,EAAEC,IAAIG,IAAI,gBAAgBC,EAAEC,YAAYP,WAAWQ,KAAKC,cAAcT,oCAAmC,EAAGU,eAAeV,QAAQW,aAAaZ,GAAGS,KAAKI,sBAAsBC,MAAMH,eAAeV,GAAGc,mBAAmBd,SAASe,MAAMd,GAAGD,EAAEgB,EAAEH,MAAMC,mBAAmBd,UAAUgB,EAAEC,cAAcT,KAAKC,cAAcS,uBAAuBjB,EAAEkB,OAAOhB,MAAMa,EAAEI,aAAaZ,KAAKC,cAAcY,SAASC,YAAYrB,EAAEkB,OAAOH,EAAEO,oBAAoBjB,SAASkB,EAAEX,MAAMU,oBAAoBjB,UAAUkB,EAAEC,KAAKnB,EAAEoB,mBAAmB,CAACC,KAAK,UAAUC,QAAQ,CAACC,GAAGC,UAAU7B,EAAE8B,MAAM9B,EAAE+B,IAAI/B,EAAEgC,UAAUC,OAAO,IAAI1B,KAAK2B,sBAAsBnC,EAAE,qBAAqBwB,EAAEC,KAAKnB,EAAEoB,mBAAmB,CAACC,KAAK,WAAWC,QAAQ,CAACQ,GAAGN,UAAU7B,EAAE8B,MAAMG,OAAO,IAAI1B,KAAK6B,YAAYb,EAAEW,0BAA0B3B,KAAK6B,SAASC,iBAAiBtC,aAAaC,KAAKO,KAAK6B,SAAS,OAAOrB,EAAER,KAAKC,cAAc8B,kBAAkBtC,EAAEC,OAAOsC,aAAaxC,EAAEgB,IAAIJ,0BAA0BZ,EAAE,YAAYC,KAAKO,KAAK6B,WAAWI,WAAWzC"}