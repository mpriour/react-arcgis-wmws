import{F as e,G as t,k_ as s,H as r,z as o,B as a,eQ as i,aL as p}from"./vendor.7103ff48.js";import{d as n}from"./popupUtils.99eeb504.js";const u=u=>{let l=class extends u{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,t){const{layer:s}=this;if(!e)throw new o("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:s});const{popupEnabled:r}=s,u=n(s,t);if(!r||!a(u))throw new o("imagerylayerview:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:r,popupTemplate:u});const l=await u.getRequiredFields(),c=new i;c.timeExtent=this.timeExtent,c.geometry=e,c.outFields=l,c.outSpatialReference=e.spatialReference;const w=this.view.resolution,m="2d"===this.view.type?new p(w,w,this.view.spatialReference):new p(.5*w,.5*w,this.view.spatialReference),{returnTopmostRaster:h,showNoDataRecords:y}=u.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:h,pixelSize:m,showNoDataRecords:y,signal:a(t)?t.signal:null};return s.queryVisibleRasters(c,d).then((e=>e))}canResume(){var e;return!(!super.canResume()||null!=(e=this.timeExtent)&&e.isEmpty)}};return e([t()],l.prototype,"layer",void 0),e([t()],l.prototype,"suspended",void 0),e([t(s)],l.prototype,"timeExtent",void 0),e([t()],l.prototype,"view",void 0),l=e([r("esri.views.layers.ImageryLayerView")],l),l};export{u};
//# sourceMappingURL=ImageryLayerView.444cfe29.js.map
