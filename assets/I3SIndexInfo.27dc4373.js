import{B as e,N as o,z as n}from"./vendor.7103ff48.js";async function r(r,t,a,s,d,i){let l=null;if(e(a)){const n=`${r}/nodepages/`,t=n+Math.floor(a.rootIndex/a.nodesPerPage);try{return{type:"page",rootPage:(await o(t,{query:{f:"json",token:s},responseType:"json",signal:i})).data,rootIndex:a.rootIndex,pageSize:a.nodesPerPage,lodMetric:a.lodSelectionMetricType,urlPrefix:n}}catch(f){e(d)&&d.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",t,f),l=f}}if(!t)return null;const p=`${r}/nodes/`,c=p+(t&&t.split("/").pop());try{return{type:"node",rootNode:(await o(c,{query:{f:"json",token:s},responseType:"json",signal:i})).data,urlPrefix:p}}catch(f){throw new n("sceneservice:root-node-missing","Root node missing.",{pageError:l,nodeError:f,url:c})}}export{r as n};
//# sourceMappingURL=I3SIndexInfo.27dc4373.js.map
