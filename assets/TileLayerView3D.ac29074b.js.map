{"version":3,"file":"TileLayerView3D.ac29074b.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/TileLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{isNone as t}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as s}from\"../../../geometry/projection.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{TiledLayerView3D as l}from\"./TiledLayerView3D.js\";import n from\"../../layers/LayerView.js\";import{RefreshableLayerView as p}from\"../../layers/RefreshableLayerView.js\";import{TileLayerView as m}from\"../../layers/TileLayerView.js\";import{createQueryGeometry as f}from\"../../support/drapedUtils.js\";let c=class extends(p(l(m(a(n))))){constructor(){super(...arguments),this.type=\"tile-3d\"}get imageFormatIsOpaque(){return\"jpg\"===this.layer.tileInfo.format}get hasMixedImageFormats(){return\"mixed\"===this.layer.tileInfo.format}get dataLevelRange(){if(this.tileInfo){const e=this.tileInfo.lods,r=e[0].scale,t=e[e.length-1].scale;return this.levelRangeFromScaleRange(r,t)}return{minLevel:0,maxLevel:0}}initialize(){if(\"web-tile\"===this.layer.type){const e=this.layer.get(\"fullExtent.spatialReference\"),o=this.layer.get(\"tileInfo.spatialReference\");if(t(e)||t(o)||!s(e,o)){const e=\"defaults\"===this.layer.originOf(\"fullExtent\")||t(this.layer.fullExtent)?\"SceneView requires fullExtent to be specified by the user on WebTileLayer\":\"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer\";this.addResolvingPromise(Promise.reject(new r(\"layerview:incompatible-fullextent\",e)))}}this._addTilingSchemeMatchPromise()}createFetchPopupFeaturesQueryGeometry(e,r){return f(e,r,this.view)}async doRefresh(e){this.suspended||this.emit(\"data-changed\")}};e([o({readOnly:!0})],c.prototype,\"imageFormatIsOpaque\",null),e([o({readOnly:!0})],c.prototype,\"hasMixedImageFormats\",null),e([o({aliasOf:\"layer.fullExtent\"})],c.prototype,\"fullExtent\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o({aliasOf:\"layer.tileInfo\"})],c.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],c.prototype,\"dataLevelRange\",null),c=e([i(\"esri.views.3d.layers.TileLayerView3D\")],c);var y=c;export{y as default};\n"],"names":["c","p","l","m","a","n","constructor","arguments","this","type","layer","tileInfo","format","e2","lods","r","scale","t2","length","levelRangeFromScaleRange","minLevel","maxLevel","initialize","get","o","t","s","e3","originOf","fullExtent","addResolvingPromise","Promise","reject","_addTilingSchemeMatchPromise","createFetchPopupFeaturesQueryGeometry","f","view","suspended","emit","e","readOnly","prototype","aliasOf","i","y"],"mappings":"oSAIg0B,IAAIA,EAAE,cAAcC,EAAEC,EAAEC,EAAEC,EAAEC,OAAOC,uBAAuBC,WAAWC,KAAKC,KAAK,0CAA0C,QAAAD,KAAaE,MAAMC,SAASC,wCAAwC,UAAAJ,KAAeE,MAAMC,SAASC,+BAA+BJ,KAAKG,SAAS,OAAOE,EAAEL,KAAKG,SAASG,KAAKC,EAAEF,EAAE,GAAGG,MAAMC,EAAEJ,EAAEA,EAAEK,OAAO,GAAGF,aAAaR,KAAKW,yBAAyBJ,EAAEE,SAAS,CAACG,SAAS,EAAEC,SAAS,GAAGC,gBAAgB,aAAAd,KAAkBE,MAAMD,KAAK,OAAOI,EAAEL,KAAKE,MAAMa,IAAI,+BAA+BC,EAAEhB,KAAKE,MAAMa,IAAI,gCAAgCE,EAAEZ,IAAIY,EAAED,KAAKE,EAAEb,EAAEW,GAAG,OAAOG,EAAE,aAAAnB,KAAkBE,MAAMkB,SAAS,eAAeH,EAAEjB,KAAKE,MAAMmB,YAAY,4EAA4E,+GAA+GC,oBAAoBC,QAAQC,OAAO,IAAIjB,EAAE,oCAAoCY,WAAWM,+BAA+BC,sCAAsCrB,EAAEE,UAAUoB,EAAEtB,EAAEE,EAAEP,KAAK4B,sBAAsBvB,QAAQwB,WAAW7B,KAAK8B,KAAK,kBAAkBC,EAAE,CAACf,EAAE,CAACgB,UAAS,KAAMxC,EAAEyC,UAAU,sBAAsB,MAAMF,EAAE,CAACf,EAAE,CAACgB,UAAS,KAAMxC,EAAEyC,UAAU,uBAAuB,MAAMF,EAAE,CAACf,EAAE,CAACkB,QAAQ,sBAAsB1C,EAAEyC,UAAU,kBAAa,GAAQF,EAAE,CAACf,KAAKxB,EAAEyC,UAAU,aAAQ,GAAQF,EAAE,CAACf,EAAE,CAACkB,QAAQ,oBAAoB1C,EAAEyC,UAAU,gBAAW,GAAQF,EAAE,CAACf,EAAE,CAACgB,UAAS,KAAMxC,EAAEyC,UAAU,iBAAiB,MAAMzC,EAAEuC,EAAE,CAACI,EAAE,yCAAyC3C,GAAM,IAAC4C,EAAE5C"}