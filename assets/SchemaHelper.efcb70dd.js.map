{"version":3,"file":"SchemaHelper.efcb70dd.js","sources":["../../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SchemaHelper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/LOD.js\";import i from\"../../../../layers/support/TileInfo.js\";class s{constructor(e,i){this.lockedSchemaPixelSize=e,this.isGCS=i}getLevelRowColumn(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}adjustLevel(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}getShift(e,i){let s=0,t=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(s=i),e[1]%2&&(t=i)),[s,t]}getScale(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}static create256x256CompatibleTileInfo(s){if(!s)return null;if(256===s.size[0]&&256===s.size[1])return s;const t=256,l=s.spatialReference.isGeographic,r=[],o=s.lods.length;for(let i=0;i<o;i++){const t=s.lods[i],o=l?t.resolution:2*t.resolution;r.push(new e({level:t.level,scale:t.scale,resolution:o}))}return new i({size:[t,t],dpi:s.dpi,format:s.format,compressionQuality:s.compressionQuality,origin:s.origin,spatialReference:s.spatialReference,lods:r})}static create512x512CompatibleTileInfo(s){if(!s)return null;if(256===s.size[0]||256===s.size[1])return null;const t=512,l=[],r=s.lods.length;for(let i=0;i<r;i++){const t=s.lods[i],r=.5*t.resolution;l.push(new e({level:t.level,scale:t.scale,resolution:r}))}return new i({size:[t,t],dpi:s.dpi,format:s.format,compressionQuality:s.compressionQuality,origin:s.origin,spatialReference:s.spatialReference,lods:l})}}export{s as default};\n"],"names":["constructor","e","i","lockedSchemaPixelSize","this","isGCS","getLevelRowColumn","adjustLevel","getShift","s2","t","getScale","size","l","spatialReference","isGeographic","r","o","lods","length","t2","o2","resolution","push","level","scale","dpi","format","compressionQuality","origin","r2"],"mappings":"kDAIuG,QAAQA,YAAYC,EAAEC,QAAQC,sBAAsBF,EAAEG,KAAKC,MAAMH,EAAEI,kBAAkBL,UAAUG,KAAKC,MAAM,CAACJ,EAAE,GAAGA,EAAE,IAAI,EAAEA,EAAE,IAAI,GAAG,MAAAG,KAAWD,uBAAuBF,EAAE,GAAG,EAAE,CAACA,EAAE,GAAG,EAAEA,EAAE,IAAI,EAAEA,EAAE,IAAI,GAAGA,EAAEM,YAAYN,UAAUG,KAAKC,MAAMJ,EAAE,MAAAG,KAAWD,sBAAsBF,EAAE,EAAEA,EAAE,EAAE,EAAEA,EAAEO,SAASP,EAAEC,OAAOO,EAAE,EAAEC,EAAE,SAAS,MAAMN,KAAKD,uBAAuBC,KAAKC,WAAW,GAAG,MAAMH,GAAGD,EAAE,GAAG,MAAMC,IAAI,CAACO,EAAEC,GAAGC,SAASV,MAAMG,KAAKC,UAAU,MAAMD,KAAKD,6BAA6B,UAAU,MAAAC,KAAWD,uBAAuB,IAAAF,SAAa,SAAS,yCAAyCQ,OAAOA,SAAS,QAAQ,MAAMA,EAAEG,KAAK,IAAI,MAAAH,EAAQG,KAAK,UAAUH,QAAcI,EAAEJ,EAAEK,iBAAiBC,aAAaC,EAAE,GAAGC,EAAER,EAAES,KAAKC,eAAejB,EAAE,EAAEA,EAAEe,EAAEf,IAAI,OAAOkB,EAAEX,EAAES,KAAKhB,GAAGmB,EAAER,EAAEO,EAAEE,WAAW,EAAEF,EAAEE,aAAaC,KAAK,IAAItB,EAAE,CAACuB,MAAMJ,EAAEI,MAAMC,MAAML,EAAEK,MAAMH,WAAWD,YAAY,IAAInB,EAAE,CAACU,KAAK,CAA/M,IAAA,KAAqNc,IAAIjB,EAAEiB,IAAIC,OAAOlB,EAAEkB,OAAOC,mBAAmBnB,EAAEmB,mBAAmBC,OAAOpB,EAAEoB,OAAOf,iBAAiBL,EAAEK,iBAAiBI,KAAKF,2CAA2CP,OAAOA,SAAS,QAAQ,MAAMA,EAAEG,KAAK,IAAI,MAAAH,EAAQG,KAAK,UAAU,WAAiBC,EAAE,GAAGG,EAAEP,EAAES,KAAKC,eAAejB,EAAE,EAAEA,EAAEc,EAAEd,IAAI,OAAOkB,EAAEX,EAAES,KAAKhB,GAAG4B,EAAE,GAAGV,EAAEE,aAAaC,KAAK,IAAItB,EAAE,CAACuB,MAAMJ,EAAEI,MAAMC,MAAML,EAAEK,MAAMH,WAAWQ,YAAY,IAAI5B,EAAE,CAACU,KAAK,CAA/J,IAAA,KAAqKc,IAAIjB,EAAEiB,IAAIC,OAAOlB,EAAEkB,OAAOC,mBAAmBnB,EAAEmB,mBAAmBC,OAAOpB,EAAEoB,OAAOf,iBAAiBL,EAAEK,iBAAiBI,KAAKL"}