{"version":3,"file":"FeatureFilter.92b7d1aa.js","sources":["../../node_modules/@arcgis/core/views/layers/support/FeatureFilter.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../../geometry.js\";import r from\"../../../TimeExtent.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{clone as o}from\"../../../core/lang.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../../core/accessorSupport/decorators/writer.js\";import{fromJSON as l}from\"../../../geometry/support/jsonUtils.js\";import c from\"../../../rest/support/Query.js\";var d;const m=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),u=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let h=d=class extends s{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.hiddenIds=new Set,this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null,this.enabled=!1}writeWhere(e,t){t.where=e||\"1=1\"}enable(){this._set(\"enabled\",!0)}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:p}=this;return new c({geometry:o(r),objectIds:o(n),spatialRelationship:i,timeExtent:o(s),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,hiddenIds:i,timeExtent:s,objectIds:n,units:a,distance:p}=this,l=new Set;return i.forEach((e=>l.add(e))),new d({geometry:o(t),hiddenIds:l,objectIds:o(n),spatialRelationship:r,timeExtent:o(s),where:e,units:a,distance:p})}};e([n({type:String})],h.prototype,\"where\",void 0),e([p(\"where\")],h.prototype,\"writeWhere\",null),e([n({types:t,json:{read:l,write:!0}})],h.prototype,\"geometry\",void 0),e([n({type:String,json:{read:{source:\"spatialRel\",reader:m.read},write:{target:\"spatialRel\",writer:m.write}}})],h.prototype,\"spatialRelationship\",void 0),e([n({json:{write:(e,t,r)=>t[r]=Array.from(e),read:e=>new Set(e)}})],h.prototype,\"hiddenIds\",void 0),e([n({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],h.prototype,\"distance\",void 0),e([n({type:[Number],json:{write:!0}})],h.prototype,\"objectIds\",void 0),e([n({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],h.prototype,\"units\",void 0),e([n({type:r,json:{write:!0}})],h.prototype,\"timeExtent\",void 0),e([n({readOnly:!0})],h.prototype,\"enabled\",void 0),h=d=e([a(\"esri.views.layers.support.FeatureFilter\")],h);var y=h;export{y as default};\n"],"names":["d","m","i","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","u","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","h","s","constructor","e2","this","where","geometry","spatialRelationship","hiddenIds","Set","distance","objectIds","units","timeExtent","enabled","writeWhere","t","enable","_set","createQuery","r","i2","n2","a2","p","c","__spreadValues","o","clone","l","forEach","add","e3","e","n","type","String","prototype","types","json","read","write","source","reader","target","writer","Array","from","Number","overridePolicy","readOnly","a","y"],"mappings":"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"}