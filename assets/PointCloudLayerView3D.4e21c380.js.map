{"version":3,"file":"PointCloudLayerView3D.4e21c380.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(t){super(\"PointCloudWorker\",\"transform\",t)}getTransferList(r){const e=[r.geometryBuffer];if(t(r.primaryAttributeData)&&r.primaryAttributeData.buffer&&e.push(r.primaryAttributeData.buffer),t(r.modulationAttributeData)&&r.modulationAttributeData.buffer&&e.push(r.modulationAttributeData.buffer),t(r.filterAttributesData))for(const u of r.filterAttributesData)t(u)&&u.buffer&&e.push(u.buffer);for(const t of r.userAttributesData)t.buffer&&e.push(t.buffer);return e}}export{e as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{transformObb as n}from\"./I3SUtil.js\";import{set as i,toAaBoundingBox as r,intersectPlane as o,ObbArray as p}from\"../../support/orientedBoundingBox.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=g(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;i(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>a(t,e,s)}}function a(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let u=a.pop();const c=p.getNode(g),d=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(u&i)){const o=r(d,e.tempAabb);t(n.clippingBox,o)?u|=i:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=o(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(i.predicate(g,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),r=l(e+t-1,p.pageSize);for(let o=n;o<=r;o++)if(!p.hasPage(o)){i.pageMiss(g,o),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(u)}}}function g(e,t,s,i){const r=new p(e.length);for(let o=0;o<e.length;o++)n(e[o].obb,t,r.obbs[o],s,i);return r.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e&&e.type,o=e&&t.renderer.toJSON()||null;let r=null,i=!1;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?r=u(t.attributeStorageInfo,e.field):\"point-cloud-rgb\"===n?(r=l(t.attributeStorageInfo,e.field),i=null!=r):(r=l(t.attributeStorageInfo,\"RGB\"),i=null!=r);let a=null;return e&&e.colorModulation&&(a=u(t.attributeStorageInfo,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:r,modulationAttribute:a}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t&&t.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t&&t.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function r(t){const e=t&&t.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function l(t,e){for(const n of t)if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t)if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,r as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Graphic.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";var t;let p=t=class extends o{constructor(r){super(r)}clone(){return new t(this.cloneProperties())}cloneProperties(){const{pointCloudMetadata:r}=this;return{...super.cloneProperties(),pointCloudMetadata:r}}};r([e({constructOnly:!0})],p.prototype,\"pointCloudMetadata\",void 0),p=t=r([s(\"esri.views.3d.layers.i3s.PointGraphic\")],p);export{p as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this.context=e,this.highlights=new Set}get hasHighlights(){return this.highlights.size>0}destroy(){this.highlights=null}add(t){const i=new s(t);return this.highlights.add(i),this.enableSet(i),e((()=>this.removeSet(i)))}removeSet(e){this.disableSet(e),this.highlights.delete(e)}enableSet(e){e.enabled||(e.enabled=!0,this.context.forEachNode((t=>this.enableSetForNode(e,t))))}enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this.context.addHighlight(t,i,e.id)))}disableSet(e){e.enabled&&(e.enabled=!1,this.context.forEachNode((t=>this.disableSetForNode(e,t))))}disableSetForNode(e,t){e.enabled||this.context.removeHighlight(t,e.id)}nodeAdded(e){this.highlights.forEach((t=>this.enableSetForNode(t,e)))}nodeRemoved(e){this.highlights.forEach((t=>this.disableSetForNode(t,e)))}removeAll(){this.highlights.forEach((e=>this.disableSet(e)))}}class s{constructor(e){this.id=new i(0),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this.add(i.nodeId,i.pointId)}add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{Slice as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(r){const n=new a,d=0===r.output,c=1===r.output,s=4===r.output;return n.extensions.add(\"GL_OES_standard_derivatives\"),n.include(e,r),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"color\",\"vec3\"),n.vertex.uniforms.add(\"uModelViewMatrix\",\"mat4\").add(\"uProjectionMatrix\",\"mat4\").add(\"uScreenMinMaxSize\",\"vec2\").add(\"uPointScale\",\"vec2\").add(\"uClipMin\",\"vec3\").add(\"uClipMax\",\"vec3\"),c?(n.vertex.uniforms.add(\"nearFar\",\"vec2\"),n.varyings.add(\"depth\",\"float\")):4!==r.output&&n.varyings.add(\"vColor\",\"vec3\"),n.vertex.code.add(t`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < uClipMin.x || position.y < uClipMin.y || position.z < uClipMin.z ||\n        position.x > uClipMax.x || position.y > uClipMax.y || position.z > uClipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = uModelViewMatrix * vec4(position, 1.0);\n\n      float pointSize = uPointScale.x;\n      vec4 position = uProjectionMatrix * camera;\n     ${r.drawScreenSize?t`\n      float clampedScreenSize = pointSize;`:t`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = uProjectionMatrix * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = uPointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, uScreenMinMaxSize.x, uScreenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = uProjectionMatrix * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${c?t`depth = (-camera.z - nearFar[0]) / (nearFar[1] - nearFar[0]);`:\"\"}\n     ${d?t`vColor = color;`:\"\"}\n    }\n  `),n.fragment.include(o,r),s&&n.include(i),n.fragment.code.add(t`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${c?t`gl_FragColor = float2rgba(depth);`:\"\"}\n      ${s?t`outputHighlight();`:\"\"}\n      ${d?t`gl_FragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),n}var n=Object.freeze({__proto__:null,build:r});export{n as P,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i,ShaderTechniqueConfiguration as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../lib/Program.js\";import{stencilWriteMaskOn as l,stencilBaseAllZerosParams as c}from\"../lib/StencilUtils.js\";import{P as a}from\"../../../../chunks/PointRenderer.glsl.js\";import{makePipelineState as u,defaultDepthWriteParams as d,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";class h extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){const r=h.shader.get(),t=this.configuration,i=r.build({output:t.output,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,drawScreenSize:t.drawScreenSize});return new n(e.rctx,i,o)}initializePipeline(){return u({depthTest:{func:513},depthWrite:d,colorWrite:p,stencilWrite:this.configuration.sceneHasOcludees?l:null,stencilTest:this.configuration.sceneHasOcludees?c:null})}}h.shader=new r(a,(()=>import(\"./PointRenderer.glsl.js\")));class m extends s{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.drawScreenSize=!1,this.sceneHasOcludees=!1}}e([i({count:8})],m.prototype,\"output\",void 0),e([i()],m.prototype,\"slicePlaneEnabled\",void 0),e([i()],m.prototype,\"drawScreenSize\",void 0),e([i()],m.prototype,\"sceneHasOcludees\",void 0);export{h as PointRendererTechnique,m as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isNone as e,unwrap as i,disposeMaybe as t,isSome as s}from\"../../../../core/maybe.js\";import r from\"../../../../core/PooledArray.js\";import{i as n,t as o,m as a}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f32.js\";import{I as l}from\"../../../../chunks/mat4f64.js\";import{f as c,l as d,a as u,o as m,d as p,p as g,s as f}from\"../../../../chunks/vec3.js\";import{c as _}from\"../../../../chunks/vec3f32.js\";import{c as x}from\"../../../../chunks/vec3f64.js\";import{s as S}from\"../../../../chunks/vec4.js\";import{create as z,POSITIVE_INFINITY as P,offset as b,contains as w,containsPoint as R,equals as y,set as q}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as v}from\"../../../../geometry/support/plane.js\";import{fromPoints as M}from\"../../../../geometry/support/ray.js\";import{PointHighlights as j}from\"./PointHighlights.js\";import{minimumDistancePlane as F,maximumDistancePlane as H,intersectLine as V,toAaBoundingBox as U}from\"../../support/orientedBoundingBox.js\";import{bindSliceUniforms as A}from\"../../webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{bindOutputHighlight as C}from\"../../webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{Default3D as B}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{IntersectorResult as E}from\"../../webgl-engine/lib/intersectorUtils.js\";import{PointRendererTechniqueConfiguration as L,PointRendererTechnique as I}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import N from\"../../../webgl/BufferObject.js\";import O from\"../../../webgl/VertexArrayObject.js\";const k={positions:[{name:\"position\",count:3,type:5126,offset:0,stride:12,normalized:!1}],colors:[{name:\"color\",count:3,type:5121,offset:0,stride:3,normalized:!0}]};class T{constructor(e){this._params=e,this.type=\"Point\",this.isGround=!1,this._bindParameters={inverseViewport:[0,0],highlightDepthTexture:null},this._highlights=new j({forEachNode:e=>this.forEachNode(e),addHighlight:(e,i,t)=>this.addHighlight(e,i,t),removeHighlight:(e,i)=>this.removeHighlight(e,i)}),this.canRender=!0,this.layerUid=\"\",this._useFixedSizes=!1,this._scaleFactor=1,this._minSizePx=0,this._useRealWorldSymbolSizes=!1,this._size=0,this._sizePx=0,this._slicePlaneEnabled=!1,this._clipBox=z(P),this._techniqueConfig=new L,this.tempMatrix4=h(),this.tempVec3=_(),this.nodes=new r}get needsHighlight(){return this._highlights.hasHighlights}initializeRenderContext(e){this._context=e,this._techniqueRep=this._context.shaderTechniqueRep,e.requestRender()}uninitializeRenderContext(){}intersect(e,i,t,s){const r=x(),n=x(),o=x(),a=x(),h=v(),f=e.camera.perScreenPixelRatio/2,_=e.camera.near,P=this._getSizeParams();c(n,s,t);const y=1/d(n);u(n,n,y),m(o,n),S(h,n[0],n[1],n[2],-p(n,t));class q{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}const j=new q,A=new q,C=[],B=z(),L=z(this._clipBox);b(L,-t[0],-t[1],-t[2],L),this.nodes.forAll((l=>{const d=l.splatSize*this._scaleFactor;let u=F(l.obb,h),m=H(l.obb,h);u-=G(d,u+_,P,f,l.isLeaf),m-=G(d,m+_,P,f,l.isLeaf);const x=m<0,S=null!=j.dist&&null!=A.dist&&j.dist<u*y&&A.dist>m*y;if(x||S)return;const z=D(d,m+_,P,f,l.isLeaf);if(!V(l.obb,t,n,z))return;const v=z*z;U(l.obb,B),b(B,-t[0],-t[1],-t[2],B);const M=!w(L,B);c(a,l.origin,t);const E=l.coordinates.length/3;for(let h=0;h<E;h++){if(r[0]=a[0]+l.coordinates[3*h],r[1]=a[1]+l.coordinates[3*h+1],r[2]=a[2]+l.coordinates[3*h+2],M&&!R(L,r))continue;const c=p(r,n),u=g(r)-c*c;if(u>v)continue;let m=c+_;const x=G(d,m,P,f,l.isLeaf);if(c-x<0)continue;m-=x;const S=D(d,m,P,f,l.isLeaf);if(u>S*S)continue;const z=(c-x)*y,b=e=>{e.point=$(l,h,e.point),e.dist=z,e.normal=o,e.node=l,e.pointId=h,e.layerUid=this.layerUid};if((null==j.dist||z<j.dist)&&(null==i||i(t,s,z))&&b(j),0!==e.options.store&&(null==A.dist||z>A.dist)&&(null==i||i(t,s,z))&&b(A),2===e.options.store&&(null==i||i(t,s,z))){const e=new q;b(e),C.push(e)}}}));const I=e=>{const{layerUid:i,node:t,pointId:s}=e;return{type:\"external\",point:e.point,metadata:{layerUid:i,createGraphic:()=>this._params.createGraphic(t,s,e.point)}}},N=(e,i)=>{const t=I(i),s=`${i.layerUid}/${i.node.id}/${i.pointId}`;e.set(t,s,i.dist,i.normal,l,void 0),e.intersector=\"PointRenderer\"};if(null!=j.dist){const i=e.results.min;(null==i.dist||j.dist<i.dist)&&N(i,j)}if(null!=A.dist&&0!==e.options.store){const i=e.results.max;(null==i.dist||A.dist>i.dist)&&N(i,A)}if(2===e.options.store){const i=M(t,s);for(const t of C){const s=new E(i);N(s,t),e.results.all.push(s)}}}render(e){if(0!==e.pass&&2!==e.pass&&5!==e.pass)return!1;const i=2===e.pass,t=e.rctx;this.nodes.forAll((i=>{null==i.vao&&this._initNode(e,i)}));const s=this._getSizeParams(),r=this.selectTechnique(e,s),h=r.program;if(null==h||0===this.nodes.length)return!0;const l=this._clipBox,c=!y(l,P,((e,i)=>e===i));c||(f(this.tempVec3,-1/0,-1/0,-1/0),h.setUniform3fv(\"uClipMin\",this.tempVec3),f(this.tempVec3,1/0,1/0,1/0),h.setUniform3fv(\"uClipMax\",this.tempVec3)),t.useProgram(h),r.bindPipelineState(t),h.setUniformMatrix4fv(\"uProjectionMatrix\",e.camera.projectionMatrix),i&&h.setUniform2f(\"nearFar\",e.camera.near,e.camera.far),e.isHighlightPass&&(this._bindParameters.inverseViewport[0]=1/e.camera.fullViewport[2],this._bindParameters.inverseViewport[1]=1/e.camera.fullViewport[3],this._bindParameters.highlightDepthTexture=e.highlightDepthTexture,C(h,this._bindParameters));const d=e.camera.pixelRatio;s.drawFixedSize&&h.setUniform2f(\"uPointScale\",s.fixedSize*d,e.camera.fullHeight);const u=this._slicePlaneEnabled?e.sliceHelper&&e.sliceHelper.plane:null;return this.nodes.forAll((i=>{if(0===i.coordinates.length||e.isHighlightPass&&!i.highlights)return;if(h.setUniform2f(\"uScreenMinMaxSize\",s.screenMinSize*d,W(i.isLeaf)*d),!s.drawFixedSize){const t=i.splatSize*this._scaleFactor;h.setUniform2f(\"uPointScale\",t*d,e.camera.fullHeight/d)}const m=i.origin;c&&(f(this.tempVec3,l[0]-m[0],l[1]-m[1],l[2]-m[2]),h.setUniform3fv(\"uClipMin\",this.tempVec3),f(this.tempVec3,l[3]-m[0],l[4]-m[1],l[5]-m[2]),h.setUniform3fv(\"uClipMax\",this.tempVec3)),n(this.tempMatrix4),o(this.tempMatrix4,this.tempMatrix4,m),a(this.tempMatrix4,e.camera.viewMatrix,this.tempMatrix4),h.setUniformMatrix4fv(\"uModelViewMatrix\",this.tempMatrix4),A(h,r.configuration,u,m),t.bindVAO(i.vao),e.isHighlightPass?this._renderHighlightFragments(t,i):t.drawArrays(0,0,i.coordinates.length/3)})),!0}_renderHighlightFragments(t,s){const r=s.highlights;if(e(r))return;let n=i(r[0].component),o=n+1;for(let e=1;e<r.length;e++){const s=i(r[e].component);if(s!==o){const e=o-n;e>0&&t.drawArrays(0,n,e),n=s}o=s+1}const a=o-n;a>0&&t.drawArrays(0,n,a)}set useFixedSizes(e){this._useFixedSizes!==e&&(this._useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._useFixedSizes}set scaleFactor(e){this._scaleFactor!==e&&(this._scaleFactor=e,this._requestRender())}get scaleFactor(){return this._scaleFactor}set minSizePx(e){this._minSizePx!==e&&(this._minSizePx=e,this._requestRender())}get minSizePx(){return this._minSizePx}set useRealWorldSymbolSizes(e){this._useRealWorldSymbolSizes!==e&&(this._useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._useRealWorldSymbolSizes}set size(e){this._size!==e&&(this._size=e,this._requestRender())}get size(){return this._size}set sizePx(e){this._sizePx!==e&&(this._sizePx=e,this._requestRender())}get sizePx(){return this._sizePx}set clippingBox(e){q(this._clipBox,e||P)}get slicePlane(){return this._slicePlaneEnabled}set slicePlane(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}get intersectionHandlerId(){return this.layerUid}addNode(e){this.nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let i=null;return this.nodes.filterInPlace((s=>s.id!==e||(i=s,s.vao=t(s.vao),this._highlights.nodeRemoved(s),!1))),this._requestRender(),i}forEachNode(e){this.nodes.forAll(e)}removeAll(){this.nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this.nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}addHighlight(e,i,t){e.highlights=K(e.highlights,i,t),this._requestRender()}removeHighlight(e,i){e.highlights=Q(e.highlights,i),this._requestRender()}_initNode(e,i){const t=e.rctx;i.vao=new O(t,B,k,{positions:N.createVertex(t,35044,i.coordinates),colors:N.createVertex(t,35044,i.rgb)})}_requestRender(){this._context&&this._context.requestRender()}_getSizeParams(){const e=this._useFixedSizes,i=e&&!this._useRealWorldSymbolSizes;return{drawScreenSpace:i,drawFixedSize:e,fixedSize:i?this._sizePx:this._size,screenMinSize:e?0:this._minSizePx}}selectTechnique(e,i){return this._techniqueConfig.drawScreenSize=i.drawScreenSpace,this._techniqueConfig.slicePlaneEnabled=this._slicePlaneEnabled,this._techniqueConfig.sceneHasOcludees=e.hasOccludees,this._techniqueConfig.output=2===e.pass?1:5===e.pass?4:0,this._techniqueRep.releaseAndAcquire(I,this._techniqueConfig,this._technique)}}function W(e){return e?256:64}function D(e,i,t,s,r){if(t.drawScreenSpace)return t.fixedSize*i*s;const n=W(r)*i*s;return t.drawFixedSize?Math.min(t.fixedSize/2,n):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*i*s,e/2),n):Math.min(e/2,n)}function G(e,i,t,s,r){return t.drawScreenSpace?0:D(e,i,t,s,r)}function $(e,i,t){return null==t&&(t=x()),t[0]=e.origin[0]+e.coordinates[3*i],t[1]=e.origin[1]+e.coordinates[3*i+1],t[2]=e.origin[2]+e.coordinates[3*i+2],t}function J(e){return s(e.component)?e.component:-1}function K(i,t,s){e(i)&&(i=[]);const r={component:t,id:s};i.push(r);const n=J(r);let o=i.length-1;for(;o>0&&n<J(i[o-1]);)[i[o-1],i[o]]=[i[o],i[o-1]],--o;return i}function Q(i,t){if(e(i))return i;const s=i.filter((e=>e.id!==t));return 0===s.length?null:s}!function(e){function i(e){return e.hasOwnProperty(\"splatSize\")}e.isInstanceOfNode=i}(T||(T={}));export{T as PointRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{result as t,forEach as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{unwrapOr as o,isSome as n,isNone as a,mapSome as d}from\"../../../core/maybe.js\";import{createAbortController as l,eachAlways as h,isAbortError as u,eachAlwaysValues as p,throwIfAborted as c}from\"../../../core/promiseUtils.js\";import{pt2px as _}from\"../../../core/screenUtils.js\";import{estimateSize as m,isArrayBuffer as g}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as f}from\"../../../core/unitUtils.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as b}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as w}from\"../../../chunks/vec3.js\";import{a as N}from\"../../../chunks/vec3f32.js\";import{projectBoundingRect as x}from\"../../../geometry/projection.js\";import{create as P}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as v,create as C}from\"../../../geometry/support/aaBoundingRect.js\";import{create as S,fromNormalAndOffset as I}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as A}from\"../../../layers/graphics/dehydratedFeatures.js\";import k from\"../../../layers/support/CodedValue.js\";import\"../../../layers/support/domains.js\";import{unpackFieldNames as V}from\"../../../layers/support/fieldUtils.js\";import R from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as L}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as Q}from\"./LayerView3D.js\";import{PointCloudWorkerHandle as U}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as j,checkPointCloudLayerCompatibleWithView as D}from\"./i3s/I3SUtil.js\";import{nodeDiff as F,sortFrontToBack as z,splitWorkEntries as M}from\"./i3s/LoDUtil.js\";import W from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as O,getFixedSizeAlgorithm as E,getRendererInfo as H,getFilterInfo as B,rendererUsesFixedSizes as G,getAttributeInfo as q}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as T,readGeometry as $,elevationFromPositions as J}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as K}from\"./i3s/PointGraphic.js\";import{PointRenderer as Y}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as X}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as Z}from\"../support/extentUtils.js\";import{minimumDistancePlane as ee}from\"../support/orientedBoundingBox.js\";import{updatingProgress as te}from\"../support/updatingProperties.js\";import ie from\"../../layers/LayerView.js\";import{extractSafeScaleBounds as re,scaleBoundsPredicate as se}from\"../../support/layerViewUtils.js\";import{TaskPriority as oe}from\"../../support/Scheduler.js\";import ne from\"../../../layers/support/CodedValueDomain.js\";const ae=s.getLogger(\"esri.views.3d.layers.PointCloudLayerView3D\"),de=8,le=S();let he=class extends(X(Q(ie))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new R,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[]}get pointScale(){const e=O(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=E(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=E(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=H(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.primaryAttribute.name);const i=B(this.layer);if(i)for(const r of i)t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of V(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=P(),t=this.view.renderSpatialReference;return Z(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=f(this.layer.spatialReference),i=L(e.unit);return o(e.offset,0)*i/t}return 0}initialize(){const e=this.view.resourceController;this._worker=new U((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._tmpPoint=A(0,0,0,this.layer.spatialReference),j(this.layer),D(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(2),this._dataRequester=e.createStreamDataRequester(3),this._initRenderer();const t=this._initNodePages(),i=this.view.resourceController.memoryController;this._memCache=i.getMemCache(this.layer.uid),this.updatingHandles.add(this,\"_clippingBox\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this,\"_elevationOffset\",(()=>this._elevationOffsetChanged()),2),this.updatingHandles.add(this.layer,\"renderer\",(()=>this._rendererChanged()),2),this.updatingHandles.add(this.layer,\"filters\",(()=>this._reload()),2),this.updatingHandles.add(this.layer,\"outFields\",(()=>this._reload()),2),this.updatingHandles.add(this.layer,\"scaleRangeId\",(()=>this._setUpdateViewNeeded())),this.updatingHandles.add(this,\"clippingArea\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this.view.state,\"contentCamera\",(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),i.events.on(\"quality-changed\",(()=>this._setUpdateViewNeeded()))]),this.addResolvingPromise(t),this.when((()=>{this.handles.add([e.scheduler.registerTask(oe.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add(this,\"suspended\",(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),2)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker&&(this._worker.destroy(),this._worker=null),this._destroyRenderer(),this._memCache.destroy(),this._memCache=null,this._codedDomainPopulationAbortController&&(this._codedDomainPopulationAbortController.abort(),this._codedDomainPopulationAbortController=null),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new Y({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add(this,\"_clippingBox\",(e=>this._renderer.clippingBox=e),2),this.updatingHandles.add(this,\"suspended\",(e=>this._setPointsVisible(!e)),2),this.updatingHandles.add(this,\"pointScale\",(e=>this._renderer.scaleFactor=e),2),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add(this,\"useRealWorldSymbolSizes\",(e=>this._renderer.useRealWorldSymbolSizes=e),2),this.updatingHandles.add(this,\"pointSize\",(e=>{const t=_(e);this._renderer.size=e,this._renderer.sizePx=t}),2),this.updatingHandles.add(this,\"slicePlaneEnabled\",(e=>this._renderer.slicePlane=e),2),this.updatingHandles.add(this,\"inverseDensity\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this,\"maximumPointCount\",(()=>this._setUpdateViewNeeded()),2),this.updatingHandles.add(this.view,\"qualitySettings.sceneService.pointCloud.lodFactor\",(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),2)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=n(e.pointIdFilterMap)?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new K({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo&&e.storageInfo.attributeValues,o=s?s.valuesPerElement:1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([4],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=G(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){this.layer.minScale||this.layer.maxScale?x(e.extent,e.spatialReference,pe,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);v(pe,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}displayNodes(e){this._workQueue=F([...this._renderedNodes],e,this._index),z(this._workQueue,this.view.state.contentCamera.viewForward,this._index),M(this._workQueue,de,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.length>0}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););for(this._processWorkQueue(e);this._idleQueue.length>0&&e.run((()=>this._idleQueue.process())););}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(a(t))return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=l(),i=this._memCache.pop(e.toString());return n(i)?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this.loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&0===this._idleQueue.length&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async populateClassCodeCodedDomain(e,i){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(-1===e.indexOf(s.name))return;const o=await t(this.layer.queryCachedStatistics(r,{signal:i}));if(!1===o.ok)return;const n=o.value,a=n&&n.labels&&n.labels.labels;a&&Array.isArray(a)&&(s.domain=new ne({name:\"CLASS_CODE\",codedValues:a.map((e=>new k({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=l(),this._codedDomainPopulationPromise=this.populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),s=this.layer.attributeStorageInfo,o=t.map((e=>q(s,e))),n=async(e,t)=>{const r=this._index.getNode(t);await i(o,(async t=>{const i=t.useElevation?await this._loadElevationAttributeFromGeometry(r.resourceId):await this._loadAndParseAttribute(r,t);if(i)for(const r of e)if(this._isValidPointGraphic(r)){const e=r.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,i,e,r.attributes)}}))},a=[];return r.forEach(((e,t)=>{a.push(n(e,t))})),await h(a),e}_isValidPointGraphic(e){return e instanceof K&&e.pointCloudMetadata&&e.pointCloudMetadata.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return n(i)?T({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=$(t,await this._loadGeometry(e,null));return J(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=r.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new W(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=l(),i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:null!=t.vertexCount?t.vertexCount:t.pointCount,lodThreshold:null!=t.lodThreshold?t.lodThreshold:t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this.displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=w(s,t.eye),n=I(s,-o,le),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=re(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);se(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.indexOf(t)<0&&this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,ee(e,r));return t/(n*n)/(4*s*s)/i}loadNode(e,t){try{return this.loadNodeAsync(e,t)}catch(i){throw u(i)||ae.error(i),i}}async loadAdditionalUserAttributes(e,t,i){const r=this.layer.outFields;if(!r)return[];const s=V(this.layer.fieldsIndex,r),o=new Set(e.map((e=>n(e)?e.name:null))),a=this.layer.attributeStorageInfo,l=[];for(const n of s){if(o.has(n))continue;const e=q(a,n);e&&l.push(t(e))}const h=await p(l);return c(i),d(h,(e=>e))}async loadNodeAsync(e,t){const i=this._index.getNode(e),r=H(this.layer),s=B(this.layer),o=i.resourceId,d=async e=>{if(a(e))return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return n(i)?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:n,modulationAttribute:a}=r,l=d(n),h=d(a),u=s.map((e=>e.attributeInfo)),p=u.map((e=>d(e))),_=this.loadAdditionalUserAttributes([n,a,...u],d,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(p),_]);c(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(a(t)||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,ue(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(Y.isInstanceOfNode(t))return t.splatSize=r,t.obb=s,t.origin=N(t.obb.center),t;const o=.01*Math.max(s.halfSize[0],s.halfSize[1],s.halfSize[2]);if(t.obb.halfSize[0]>s.halfSize[0]+o||t.obb.halfSize[1]>s.halfSize[1]+o||t.obb.halfSize[2]>s.halfSize[2]+o){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;ae.warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&ae.warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return{id:e,coordinates:t.points,origin:N(s.center),rgb:t.rgb,attributes:t.attributes,pointIdFilterMap:t.pointIdFilterMap,highlights:null,splatSize:r,obb:s,isLeaf:0===i.childCount}}getUsedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=ce,e+=m(t.coordinates);for(const i of t.attributes){const t=i.values;g(t.buffer)&&(e+=m(t))}})),e}getUnloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.getUsedMemory()-e*ce)/t)+i*ce}ignoresMemoryFactor(){return!1}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};function ue(e){return 5*e.coordinates.length+128}e([y()],he.prototype,\"layer\",void 0),e([y({readOnly:!0,aliasOf:\"layer.parsedUrl.path\"})],he.prototype,\"baseUrl\",void 0),e([y({readOnly:!0})],he.prototype,\"pointScale\",null),e([y({readOnly:!0})],he.prototype,\"useRealWorldSymbolSizes\",null),e([y({readOnly:!0})],he.prototype,\"pointSize\",null),e([y({readOnly:!0})],he.prototype,\"inverseDensity\",null),e([y()],he.prototype,\"maximumPointCount\",void 0),e([y({readOnly:!0})],he.prototype,\"availableFields\",null),e([y({readOnly:!0})],he.prototype,\"_clippingBox\",null),e([y({readOnly:!0})],he.prototype,\"_elevationOffset\",null),e([y({type:Boolean})],he.prototype,\"slicePlaneEnabled\",void 0),e([y()],he.prototype,\"updating\",void 0),e([y(te)],he.prototype,\"updatingProgress\",void 0),e([y({readOnly:!0})],he.prototype,\"updatingProgressValue\",null),he=e([b(\"esri.views.3d.layers.PointCloudLayerView3D\")],he);const pe=C(),ce=160;var _e=he;export{_e as default};\n"],"names":["r","constructor","t2","getTransferList","r2","e2","geometryBuffer","t","primaryAttributeData","buffer","push","modulationAttributeData","filterAttributesData","u2","userAttributesData","n","l","o","n2","l2","e3","indexOf","getParentId","remove","length","pop","o2","load","h2","g2","s2","_pages","this","pageSize","_nodeSR","_renderSR","addPage","i2","p","obb","obbs","g","nodes","renderObbs","parents","Uint32Array","c","childCount","firstChild","u","hasPage","getNode","getRenderObb","getRenderCenter","center","setRenderObb","hasNodes","forEachNodeId","createVisibilityTraverse","index","queue","masks","tempAabb","e","p2","a2","c2","d2","f2","clippingBox","i3","frustum","s","predicate","n3","pageMiss","a","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","t3","encoding","toLowerCase","clone","cloneProperties","pointCloudMetadata","super","constructOnly","prototype","context","highlights","Set","size","destroy","add","enableSet","removeSet","disableSet","delete","enabled","forEachNode","enableSetForNode","ids","get","id","forEach","addHighlight","disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","i","Map","nodeId","pointId","set","output","extensions","include","attributes","vertex","uniforms","varyings","code","drawScreenSize","fragment","Object","freeze","__proto__","build","initializeProgram","h","shader","configuration","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","rctx","initializePipeline","depthTest","func","depthWrite","d","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","import","arguments","count","m","k","positions","offset","stride","normalized","colors","_params","isGround","_bindParameters","inverseViewport","highlightDepthTexture","_highlights","j","canRender","layerUid","_useFixedSizes","_scaleFactor","_minSizePx","_useRealWorldSymbolSizes","_size","_sizePx","_slicePlaneEnabled","_clipBox","z","P","_techniqueConfig","L","tempMatrix4","tempVec3","_","hasHighlights","initializeRenderContext","_context","_techniqueRep","shaderTechniqueRep","requestRender","uninitializeRenderContext","intersect","x","v","camera","perScreenPixelRatio","near","_getSizeParams","y2","S","node","point","dist","normal","j2","q","A2","C2","B","forAll","splatSize","F","m2","H","G","isLeaf","x2","D","V","v2","b","M","w","origin","E","coordinates","h3","R","u3","m3","x3","S2","b2","$","options","store","I2","s3","metadata","createGraphic","N","intersector","results","min","max","all","render","pass","vao","_initNode","selectTechnique","program","y","setUniform3fv","f","useProgram","bindPipelineState","setUniformMatrix4fv","projectionMatrix","setUniform2f","far","isHighlightPass","fullViewport","C","pixelRatio","drawFixedSize","fixedSize","fullHeight","sliceHelper","plane","screenMinSize","W","viewMatrix","A","bindVAO","_renderHighlightFragments","drawArrays","component","_requestRender","addNode","removeNode","filterInPlace","clear","highlight","J","K","filter","Q","O","createVertex","rgb","drawScreenSpace","hasOccludees","releaseAndAcquire","I","_technique","Math","T","isInstanceOfNode","hasOwnProperty","ae","getLogger","le","he","X","ie","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_nodeScales","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","Array","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","layer","scaleFactor","useRealWorldSymbolSizes","pointsPerInch","outFields","fieldsIndex","from","view","clippingArea","renderSpatialReference","Z","elevationInfo","mode","spatialReference","unit","initialize","resourceController","_worker","U","schedule","addResolvingPromise","promise","_tmpPoint","_indexRequester","createStreamDataRequester","_dataRequester","_initRenderer","_initNodePages","memoryController","_memCache","getMemCache","uid","updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","state","handles","basemapTerrain","on","_scaleUpdateHandler","events","when","scheduler","registerTask","oe","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","_clearNodeState","_updateLoading","cancelLoading","_destroyRenderer","abort","Y","_createGraphic","_setPointsVisible","minSizePx","sqrt","sizePx","slicePlane","pointIdFilterMap","computeMapPointFromVec3d","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","useFixedSizes","minScale","maxScale","extent","pe","has","scale","displayNodes","contentCamera","viewForward","sort","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","abortController","cancelAll","t4","_removeFromRenderer","suspended","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","process","shift","_loadNodePage","then","_elevationOffset","done","_scheduleWorkEntry","_processWorkEntry","madeProgress","find","e4","toString","Promise","resolve","loadNode","signal","_setupRendererData","_addToRenderer","catch","domain","queryCachedStatistics","ok","value","labels","isArray","ne","codedValues","label","populateClassCodeCodedDomain","_splitGraphicsPerNode","async","r3","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","r4","_isValidPointGraphic","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","_graphicToPointDefinition","canResume","isUpdating","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","baseUrl","_requestNodePage","pointCount","lodThreshold","effectiveArea","inverseDensity","_getLodMemoryFactor","_computeNodesForMinimumDensity","_computePointCount","memoryFactor","_clippingBox","eye","re","_getScale","_computeAveragePixelArea","getScale","ee","loadNodeAsync","error","loadAdditionalUserAttributes","w2","schema","rendererInfo","filterInfo","elevationOffset","inSR","outSR","invoke","_requestData","key","token","apiKey","request","query","put","ue","halfSize","warn","points","getUsedMemory","ce","getUnloadedMemory","reduce","ignoresMemoryFactor","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","visibleNodes","readOnly","aliasOf","Boolean","te","_e"],"mappings":"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"}