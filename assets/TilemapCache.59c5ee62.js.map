{"version":3,"file":"TilemapCache.59c5ee62.js","sources":["../../node_modules/@arcgis/core/layers/support/TilemapCache.js","../../node_modules/@arcgis/core/layers/support/Tilemap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import l from\"../../core/Error.js\";import r from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import a from\"../../core/LRUCache.js\";import o from\"../../core/PooledArray.js\";import{onAbort as n,createAbortError as c,isAbortError as h,createAbortController as p,isAborted as m}from\"../../core/promiseUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as f}from\"../../core/urlUtils.js\";import{init as v}from\"../../core/watchUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{cast as _}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{tilemapDefinitionId as b,Tilemap as g}from\"./Tilemap.js\";var w;const T=s.getLogger(\"esri.layers.support.TilemapCache\");let j=w=class extends i{constructor(e){super(e),this._handles=new r,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=t,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new a(this.cacheByteSize),this._handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\"],(()=>this._initializeTilemapDefinition())),v(this,\"layer.tileInfo.lods\",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(T.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,r){if(!this._availableLevels[e])return Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const s=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,s);if(a)return Promise.resolve(a);const o=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{n(o,(()=>t(c())));const i=b(s);let l=this._pendingTilemapRequests[i];if(!l){l=g.fromDefinition(s,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=l,l.then(e,e)}l.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const l=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return l?l.getAvailability(t,i):\"unknown\"}getAvailabilityUpsample(e,t,i,l){l.level=e,l.row=t,l.col=i;const r=this.layer.tileInfo;for(r.updateTileInfo(l);;){const e=this.getAvailability(l.level,l.row,l.col);if(\"unavailable\"!==e)return e;if(!r.upsampleTile(l))return\"unavailable\"}}fetchAvailability(e,t,i,r){return this._availableLevels[e]?this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof g){const s=r.getAvailability(t,i);return\"unavailable\"===s?Promise.reject(new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):s}if(h(r))throw r;return\"unknown\"})):Promise.reject(new l(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,l,r){l.level=e,l.row=t,l.col=i;const s=this.layer.tileInfo;s.updateTileInfo(l);const a=this.fetchAvailability(e,t,i,r).catch((e=>{if(h(e))throw e;if(s.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l);throw e}));return this._fetchAvailabilityUpsamplePrefetch(l.id,e,t,i,r,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,l,r,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this._handles.has(a))return;const o=p();s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const c={remove(){n||(n=!0,o.abort())}};if(this._handles.add(c,a),await u(10,o.signal).catch((()=>{})),n||(n=!0,this._handles.remove(a)),m(o))return;const h={id:e,level:t,row:i,col:l},f={...r,signal:o.signal},v=this.layer.tileInfo;for(let p=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(h);++p){const e=this.fetchAvailability(h.level,h.row,h.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?f(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,l){l.level=e,l.row=t-t%this.size,l.col=i-i%this.size;const r=b(l);return this._tilemapCache.get(r)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,l)=>!!e._tilemapFromCache(t,i,l,e._tmpTilemapDefinition)}}};j._maxPrefetch=4,j._prefetches=new o({initialSize:w._maxPrefetch}),e([y({constructOnly:!0,type:Number})],j.prototype,\"levels\",void 0),e([_(\"levels\")],j.prototype,\"castLevels\",null),e([y({readOnly:!0,type:Number})],j.prototype,\"size\",null),e([y({constructOnly:!0,type:Number})],j.prototype,\"cacheByteSize\",void 0),e([y({constructOnly:!0})],j.prototype,\"layer\",void 0),e([y({constructOnly:!0})],j.prototype,\"request\",void 0),j=w=e([d(\"esri.layers.support.TilemapCache\")],j);export{j as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let s=0;s<t.length;s++){const i=s%8;t[s]?(l=!1,n[r]|=1<<i):a=!1,7===i&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(a,o){const r=a.service.request||t,{row:s,col:h,width:c,height:m}=a,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(t){l.validateJSON(t);const i=new l;return i.location=Object.freeze(a(t.location)),i._updateFromData(t.data),Object.freeze(i)}static validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{l as Tilemap,l as default,o as tilemapDefinitionId};\n"],"names":["w","constructor","location","left","top","width","height","this","_allAvailability","byteSize","getAvailability","t","i2","e2","a","l2","o2","_tileAvailabilityBitSet","length","_updateFromData","Math","ceil","n2","Uint8Array","r","s2","i3","service","request","row","s","col","h2","c2","m2","d","query","f","__spreadValues","type","url","level","e3","tileServers","n","then","data","catch","details","httpStatus","valid","i","e","response","definition","l","fromJSON","validateJSON","Object","freeze","Array","isArray","T","getLogger","j","_handles","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","_prefetchingEnabled","initialize","_tilemapCache","add","watch","_initializeTilemapDefinition","v","_initializeAvailableLevels","destroy","castLevels","error","fetchTilemap","Promise","reject","_tmpTilemapDefinition","_tilemapFromCache","resolve","o","signal","__spreadProps","t2","c","b","g","fromDefinition","put","e5","e4","getAvailabilityUpsample","layer","tileInfo","updateTileInfo","upsampleTile","fetchAvailability","r2","s$12","h","fetchAvailabilityUpsample","_fetchAvailabilityUpsamplePrefetch","id","has","p","abort","remove","u","m","v2","p2","_prefetches","_maxPrefetch","push","removeUnordered","parsedUrl","clear","path","size","get","forEach","hasTilemap","initialSize","y","constructOnly","Number","prototype","_","readOnly"],"mappings":"IAI+4BA,+lBCA7uB,QAAQC,mBAAmBC,SAAS,CAACC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,OAAO,GAAGC,KAAKC,iBAAiB,UAAUD,KAAKE,SAAS,GAAGC,gBAAgBC,EAAEC,MAAM,YAAYL,KAAKC,wBAAwBD,KAAKC,uBAAuBK,KAAKN,KAAKL,SAASE,KAAKG,KAAKL,SAASG,SAASE,KAAKL,SAASC,MAAMW,EAAED,EAAE,EAAEE,EAAEF,GAAG,EAAEG,EAAET,KAAKU,+BAA+BF,EAAE,GAAGA,EAAEC,EAAEE,OAAO,UAAUF,EAAED,GAAG,GAAGD,EAAE,YAAY,cAAcK,gBAAgBR,SAASC,EAAEL,KAAKL,SAASG,MAAMQ,EAAEN,KAAKL,SAASI,WAAWQ,GAAE,EAAGC,GAAE,QAASC,EAAEI,KAAKC,KAAKT,EAAEC,EAAE,GAAGS,EAAE,IAAIC,WAAWP,OAAOQ,EAAE,UAAUC,EAAE,EAAEA,EAAEd,EAAEO,OAAOO,IAAI,OAAOC,EAAED,EAAE,IAAIA,OAAM,EAAGH,EAAEE,IAAI,GAAGE,GAAGZ,GAAE,EAAG,IAAIY,KAAKF,IAAIjB,KAAKC,iBAAiB,cAAcM,EAAEP,KAAKC,iBAAiB,kBAAkBA,iBAAiB,UAAUD,KAAKU,wBAAwBK,EAAEf,KAAKE,UAAUa,EAAEJ,8BAA8BJ,EAAEE,SAASQ,EAAEV,EAAEa,QAAQC,SAASjB,GAAGkB,IAAIC,EAAEC,IAAIC,EAAE3B,MAAM4B,EAAE3B,OAAO4B,GAAGpB,EAAEqB,EAAE,CAACC,MAAM,CAACC,EAAE,gBAAgBrB,EAAEA,EAAEsB,OAAIH,GAAKnB,GAAGmB,EAAEX,EAAksC,SAAWb,OAAOC,KAAK,gBAAgBD,EAAEgB,QAAQY,OAAO,GAAG5B,EAAEgB,QAAQa,eAAe7B,EAAE8B,SAAS9B,EAAEkB,OAAOlB,EAAEoB,OAAOpB,EAAEN,SAASM,EAAEL,aAAa,OAAOoC,EAAE/B,EAAEgB,QAAQgB,cAAc,GAAGD,GAAGA,EAAExB,OAAOwB,EAAE/B,EAAEkB,IAAIa,EAAExB,QAAQP,EAAEgB,QAAQa,eAAe7B,EAAE8B,SAAS9B,EAAEkB,OAAOlB,EAAEoB,OAAOpB,EAAEN,SAASM,EAAEL,eAAeO,EAAEF,EAAEgB,QAAQS,aAAavB,MAAM,GAAGD,KAAKC,KAAKD,EAA3gDgC,CAAE9B,GAAGE,GAAG6B,SAASlC,EAAEmC,OAAOC,cAAcpC,GAAGA,EAAEqC,SAAS,MAAArC,EAAQqC,QAAQC,iBAAiB,CAAC/C,SAAS,CAACE,IAAI0B,EAAE3B,KAAK6B,EAAE3B,MAAM4B,EAAE3B,OAAO4B,GAAGgB,OAAM,EAAGJ,KAAKK,EAAElB,EAAEC,EAAE,UAAUvB,KAAKkC,aAAalC,EAAET,aAAaA,SAASE,MAAM0B,GAAGnB,EAAET,SAASC,OAAO6B,GAAGrB,EAAET,SAASG,QAAQ4B,GAAGtB,EAAET,SAASI,SAAS4B,SAAS,IAAIkB,EAAE,4BAA4B,yDAAyD,CAACC,SAAS1C,EAAE2C,WAAW,CAAClD,IAAI0B,EAAE3B,KAAK6B,EAAE3B,MAAM4B,EAAE3B,OAAO4B,YAAYqB,EAAEC,SAAS7C,sBAAsBA,KAAK8C,aAAa9C,SAASC,EAAE,IAAI2C,SAAS3C,EAAEV,SAASwD,OAAOC,OAAO7C,EAAEH,EAAET,WAAWU,EAAEO,gBAAgBR,EAAEmC,MAAMY,OAAOC,OAAO/C,uBAAuBD,OAAOA,IAAIA,EAAET,eAAe,IAAIkD,EAAE,2BAA2B,8CAA6C,IAAKzC,EAAEuC,YAAY,IAAIE,EAAE,kBAAkB,8CAA8CzC,EAAEmC,WAAW,IAAIM,EAAE,uBAAuB,0CAA0CQ,MAAMC,QAAQlD,EAAEmC,YAAY,IAAIM,EAAE,wBAAwB,uCAAuCzC,EAAEmC,KAAK5B,SAASP,EAAET,SAASG,MAAMM,EAAET,SAASI,aAAa,IAAI8C,EAAE,wBAAwB,gEAAgE,WAAWzC,SAAS,GAAGA,EAAE8B,SAAS9B,EAAEkB,OAAOlB,EAAEoB,OAAOpB,EAAEN,SAASM,EAAEL,SDAl1C,MAAMwD,EAAEhC,EAAEiC,UAAU,oCAAuC,IAACC,EAAEhE,EAAE,cAAcmD,EAAElD,YAAYY,SAASA,GAAGN,KAAK0D,SAAS,IAAIzC,EAAEjB,KAAK2D,wBAAwB,GAAG3D,KAAK4D,iBAAiB,GAAG5D,KAAK6D,OAAO,EAAE7D,KAAK8D,cAAc,QAAQ9D,KAAKqB,QAAQjB,EAAEJ,KAAK+D,qBAAoB,EAAGC,kBAAkBC,cAAc,IAAI1D,EAAEP,KAAK8D,eAAe9D,KAAK0D,SAASQ,IAAI,CAAClE,KAAKmE,MAAM,CAAC,kBAAkB,uBAAuB,IAAInE,KAAKoE,iCAAiCC,EAAErE,KAAK,0BAA0BA,KAAKsE,2BAA2BhE,KAAI,KAAMN,KAAKoE,+BAA+BG,eAAeb,gBAAgBA,SAASa,UAAUvE,KAAK0D,SAAS,MAAMc,WAAWlE,UAAUA,GAAG,KAAKmE,MAAM,4CAA4CnE,GAAG,GAAGA,oBAAoB,GAAGN,KAAK6D,OAAOa,aAAapE,EAAEF,EAAEC,EAAEY,OAAOjB,KAAK4D,iBAAiBtD,UAAUqE,QAAQC,OAAO,IAAI5B,EAAE,kCAAkC,SAAS1C,0CAA0CiB,EAAEvB,KAAK6E,sBAAsBtE,EAAEP,KAAK8E,kBAAkBxE,EAAEF,EAAEC,EAAEkB,MAAMhB,SAASoE,QAAQI,QAAQxE,SAASyE,EAAE/D,GAAGA,EAAEgE,cAAchE,EAAEiE,OAAIjE,GAAJ,CAAMgE,OAAO,OAAM,IAAIN,SAAS,CAACxC,EAAEgD,OAAOH,GAAG,IAAIG,EAAEC,aAAajE,EAAEkE,EAAE9D,OAAOyB,EAAEhD,KAAK2D,wBAAwBxC,OAAO6B,EAAE,GAAGsC,EAAEC,eAAehE,EAAEN,GAAGqB,eAAe2B,cAAcuB,IAAIrE,EAAEsE,EAAEA,EAAEvF,UAAUuF,WAAWC,EAAE,WAAW1F,KAAK2D,wBAAwBxC,QAAQwC,wBAAwBxC,GAAG6B,EAAEA,EAAEV,KAAKoD,EAAEA,KAAKpD,KAAKH,EAAEgD,MAAMhF,gBAAgBG,EAAEF,EAAEC,OAAOL,KAAK4D,iBAAiBtD,SAAS,oBAAoBE,EAAER,KAAK8E,kBAAkBxE,EAAEF,EAAEC,EAAEL,KAAK6E,8BAA8BrE,EAAEA,EAAEL,gBAAgBC,EAAEC,GAAG,UAAUsF,wBAAwBrF,EAAEF,EAAEC,EAAEG,KAAK0B,MAAM5B,EAAEE,EAAEc,IAAIlB,EAAEI,EAAEgB,IAAInB,QAAQY,EAAEjB,KAAK4F,MAAMC,aAAa5E,EAAE6E,eAAetF,KAAK,OAAO2B,EAAEnC,KAAKG,gBAAgBK,EAAE0B,MAAM1B,EAAEc,IAAId,EAAEgB,QAAQ,gBAAAW,SAAyBA,MAAMlB,EAAE8E,aAAavF,SAAS,eAAewF,kBAAkB1F,EAAEF,EAAEC,EAAEY,UAAUjB,KAAK4D,iBAAiBtD,GAAGN,KAAK0E,aAAapE,EAAEF,EAAEC,EAAEY,GAAGuB,UAAUL,IAAIG,aAAa2D,aAAaX,EAAE,OAAO/D,EAAE0E,EAAE9F,gBAAgBC,EAAEC,SAAS,gBAAA6F,EAAkBvB,QAAQC,OAAO,IAAI5B,EAAE,4BAA4B,wBAAwB,CAACd,MAAM5B,EAAEgB,IAAIlB,EAAEoB,IAAInB,KAAKkB,KAAK4E,EAAEF,SAASA,QAAQ,aAAatB,QAAQC,OAAO,IAAI5B,EAAE,kCAAkC,SAAS1C,oCAAoC8F,0BAA0B9F,EAAEF,EAAEC,EAAEG,EAAES,KAAKiB,MAAM5B,EAAEE,EAAEc,IAAIlB,EAAEI,EAAEgB,IAAInB,QAAQa,EAAElB,KAAK4F,MAAMC,WAAWC,eAAetF,SAASD,EAAEP,KAAKgG,kBAAkB1F,EAAEF,EAAEC,EAAEY,GAAGuB,cAAc2D,EAAEhE,SAASA,KAAKjB,EAAE6E,aAAavF,UAAUR,KAAKoG,0BAA0B5F,EAAE0B,MAAM1B,EAAEc,IAAId,EAAEgB,IAAIhB,SAAS2B,YAAYnC,KAAKqG,mCAAmC7F,EAAE8F,GAAGhG,EAAEF,EAAEC,EAAEY,EAAEV,GAAGA,2CAA2CD,EAAEF,EAAEC,EAAEG,EAAES,EAAEC,OAAOlB,KAAK+D,iCAAiCxD,EAAE,YAAYD,OAAON,KAAK0D,SAAS6C,IAAIhG,gBAAgBE,EAAE+F,MAAMlE,MAAM,IAAI7B,EAAEgG,UAAU,IAAIhG,EAAEgG,cAAc1F,GAAE,QAASW,EAAE,CAACgF,gBAAe,EAAGjG,EAAEgG,cAAczG,KAAK0D,SAASQ,IAAIxC,EAAEnB,SAASoG,EAAE,GAAGlG,EAAEwE,QAAQzC,OAAO,SAASzB,OAAM,EAAGf,KAAK0D,SAASgD,OAAOnG,IAAIqG,EAAEnG,gBAAgB0F,EAAE,CAACG,GAAGhG,EAAE4B,MAAM9B,EAAEkB,IAAIjB,EAAEmB,IAAIhB,GAAGsB,EAAEoD,OAAIjE,GAAJ,CAAMgE,OAAOxE,EAAEwE,SAAQ4B,EAAE7G,KAAK4F,MAAMC,iBAAiBiB,EAAE,EAAErH,EAAEsH,YAAYpG,OAAOlB,EAAEuH,cAAcH,EAAEd,aAAaI,KAAKW,EAAE,OAAO3E,EAAEnC,KAAKgG,kBAAkBG,EAAEjE,MAAMiE,EAAE7E,IAAI6E,EAAE3E,IAAIM,KAAKiF,YAAYE,KAAK9E,SAASgD,EAAE,OAAO4B,YAAYG,gBAAgB/E,MAAMG,KAAK6C,EAAEA,IAAIf,mCAAmCpE,KAAK4F,MAAMuB,uBAAuB7G,EAAEN,KAAK4F,MAAMuB,UAAU/G,EAAEE,EAAEuB,WAAWoC,cAAcmD,QAAQpH,KAAK6E,sBAAsB,CAACzD,QAAQ,CAACa,IAAI3B,EAAE+G,KAAKxF,MAAMzB,EAAE0B,EAAE1B,GAAG,KAAKgC,YAAYpC,KAAK4F,MAAMxD,YAAYf,QAAQrB,KAAKqB,QAAQW,KAAKhC,KAAK4F,MAAM5D,MAAMlC,MAAME,KAAKsH,KAAKvH,OAAOC,KAAKsH,KAAKpF,MAAM,EAAEZ,IAAI,EAAEE,IAAI,GAAGsD,kBAAkBxE,EAAEF,EAAEC,EAAEG,KAAK0B,MAAM5B,EAAEE,EAAEc,IAAIlB,EAAEA,EAAEJ,KAAKsH,KAAK9G,EAAEgB,IAAInB,EAAEA,EAAEL,KAAKsH,WAAWrG,EAAEoE,EAAE7E,UAAUR,KAAKiE,cAAcsD,IAAItG,GAAGqD,2BAA2BhE,QAAQsD,iBAAiB,GAAGtD,GAAGA,EAAEkH,YAAYxH,KAAK4D,iBAAiBzB,EAAED,QAAO,qBAAsB5B,EAAEN,WAAW,iCAAiCM,EAAEyD,4CAA4C3D,KAAK2D,oBAAoB3D,GAAGqH,WAAW,CAACrH,EAAEC,EAAEG,MAAMF,EAAEwE,kBAAkB1E,EAAEC,EAAEG,EAAEF,EAAEuE,0BAA0BpB,EAAEuD,aAAa,EAAEvD,EAAEsD,YAAY,IAAI/B,EAAE,CAAC0C,YAAYjI,EAAEuH,eAAenE,EAAE,CAAC8E,EAAE,CAACC,eAAc,EAAG5F,KAAK6F,UAAUpE,EAAEqE,UAAU,cAAS,GAAQjF,EAAE,CAACkF,EAAE,WAAWtE,EAAEqE,UAAU,aAAa,MAAMjF,EAAE,CAAC8E,EAAE,CAACK,UAAS,EAAGhG,KAAK6F,UAAUpE,EAAEqE,UAAU,OAAO,MAAMjF,EAAE,CAAC8E,EAAE,CAACC,eAAc,EAAG5F,KAAK6F,UAAUpE,EAAEqE,UAAU,qBAAgB,GAAQjF,EAAE,CAAC8E,EAAE,CAACC,eAAc,KAAMnE,EAAEqE,UAAU,aAAQ,GAAQjF,EAAE,CAAC8E,EAAE,CAACC,eAAc,KAAMnE,EAAEqE,UAAU,eAAU,GAAQrE,EAAEhE,EAAEoD,EAAE,CAACjB,EAAE,qCAAqC6B"}