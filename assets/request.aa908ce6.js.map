{"version":3,"file":"request.aa908ce6.js","sources":["../../node_modules/@arcgis/core/core/workers/request.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../Error.js\";import t from\"../global.js\";import{unwrap as r}from\"../maybe.js\";let s;function a(a,n={}){let o=n.responseType;o?\"array-buffer\"!==o&&\"blob\"!==o&&\"json\"!==o&&\"native\"!==o&&\"native-request-init\"!==o&&\"text\"!==o&&(o=\"text\"):o=\"json\";const i=r(n.signal);return delete n.signal,t.invokeStaticMessage(\"request\",{url:a,options:n},{signal:i}).then((async t=>{let r,l,u,c,f;if(t.data)if(t.data instanceof ArrayBuffer){if(!(\"json\"!==o&&\"text\"!==o&&\"blob\"!==o||(r=new Blob([t.data]),\"json\"!==o&&\"text\"!==o||(s||(s=new FileReaderSync),c=s.readAsText(r),\"json\"!==o)))){try{l=JSON.parse(c||null)}catch(b){const t={...b,url:a,requestOptions:n};throw new e(\"request:server\",b.message,t)}if(l.error){const t={...l.error,url:a,requestOptions:n};throw new e(\"request:server\",l.error.message,t)}}}else\"native\"===o&&(t.data.signal=i,u=await fetch(t.data.url,t.data));switch(o){case\"blob\":f=r;break;case\"json\":f=l;break;case\"native\":f=u;break;case\"text\":f=c;break;default:f=t.data}return{data:f,requestOptions:n,ssl:t.ssl,url:a}}))}export{a as execute};\n"],"names":["s","a2","n","o","responseType","i","r","signal","t","invokeStaticMessage","url","options","then","async","l","u","c","f","data","ArrayBuffer","Blob","FileReaderSync","readAsText","JSON","parse","b","t2","__spreadProps","requestOptions","e","message","error","fetch","ssl"],"mappings":"sdAI4F,IAAIA,EAAE,WAAWC,EAAEC,EAAE,QAAQC,EAAED,EAAEE,eAAe,iBAAiBD,GAAG,SAASA,GAAG,SAASA,GAAG,WAAWA,GAAG,wBAAwBA,GAAG,SAASA,MAAM,QAAQA,EAAE,aAAaE,EAAEC,EAAEJ,EAAEK,sBAAsBL,EAAEK,OAAOC,EAAEC,oBAAoB,UAAU,CAACC,IAAIT,EAAEU,QAAQT,GAAG,CAACK,OAAOF,IAAIO,MAAMC,MAAML,QAAQF,EAAEQ,EAAEC,EAAEC,EAAEC,KAAKT,EAAEU,QAAQV,EAAEU,gBAAgBC,kBAAkB,SAAShB,GAAG,SAAAA,GAAY,SAAAA,MAAe,IAAIiB,KAAK,CAACZ,EAAEU,OAAO,SAAAf,GAAY,SAASA,UAAU,IAAIkB,gBAAgBL,EAAEhB,EAAEsB,WAAWhB,GAAG,SAASH,KAAK,OAAOoB,KAAKC,MAAMR,GAAG,YAAYS,SAASC,EAAEC,OAAIF,GAAJ,CAAMf,IAAIT,EAAE2B,eAAe1B,UAAS,IAAI2B,EAAE,iBAAiBJ,EAAEK,QAAQJ,MAAMZ,EAAEiB,MAAM,OAAOL,EAAEC,OAAIb,EAAEiB,OAAN,CAAYrB,IAAIT,EAAE2B,eAAe1B,UAAS,IAAI2B,EAAE,iBAAiBf,EAAEiB,MAAMD,QAAQJ,SAAS,WAAWvB,MAAMe,KAAKX,OAAOF,EAAEU,QAAQiB,MAAMxB,EAAEU,KAAKR,IAAIF,EAAEU,cAAcf,OAAO,SAASG,YAAY,SAASQ,YAAY,WAAWC,YAAY,SAASC,kBAAkBR,EAAEU,WAAW,CAACA,KAAKD,EAAEW,eAAe1B,EAAE+B,IAAIzB,EAAEyB,IAAIvB,IAAIT"}